Solution:   Do not terminate the expression. (closes #10377)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4915
Problem:    Sometimes the cursor is in the wrong position.
Solution:   When the cursor moved to another line, recompute w_botline.
            (closes #9736)
Files:      src/move.c

Patch 8.2.4916 (after 8.2.4915)
Problem:    Mouse in Insert mode test fails.
Solution:   Fix the test and check relevant positions.
Files:      src/testdir/test_edit.vim

Patch 8.2.4917
Problem:    Fuzzy expansion of option names is not right.
Solution:   Pass the fuzzy flag down the call chain. (Christian Brabandt,
            closes #10380, closes #10318)
Files:      src/cmdexpand.c, src/option.c, src/proto/option.pro,
            src/testdir/test_options.vim

Patch 8.2.4918
Problem:    Conceal character from matchadd() displayed too many times.
Solution:   Check the syntax flag. (closes #10381, closes #7268)
Files:      src/drawline.c, src/testdir/test_matchadd_conceal.vim

Patch 8.2.4919
Problem:    Can add invalid bytes with :spellgood.
Solution:   Check for a valid word string.
Files:      src/mbyte.c, src/spellfile.c, src/errors.h,
            src/testdir/test_spell_utf8.vim

Patch 8.2.4920 (after 8.2.4902)
Problem:    MS-Windows GUI: unused variables.
Solution:   Delete the variables. (John Marriott)
Files:      src/gui_w32.c

Patch 8.2.4921
Problem:    Spell test fails because of new illegal byte check.
Solution:   Remove the test.
Files:      src/testdir/test_spell.vim

Patch 8.2.4922 (after 8.2.4916)
Problem:    Mouse test fails on MS-Windows.
Solution:   Set 'mousemodel' to "extend".
Files:      src/testdir/test_edit.vim

Patch 8.2.4923
Problem:    Test checks for terminal feature unnecessarily.
Solution:   Remove CheckRunVimInTerminal. (closes #10383)
Files:      src/testdir/test_matchadd_conceal.vim

Patch 8.2.4924
Problem:    maparg() may return a string that cannot be reused.
Solution:   use msg_outtrans_special() instead of str2special().
            (closes #10384)
Files:      src/message.c, src/option.c, src/testdir/test_map_functions.vim,
            src/testdir/test_mapping.vim, src/testdir/test_options.vim

Patch 8.2.4925
Problem:    Trailing backslash may cause reading past end of line.
Solution:   Check for NUL after backslash.
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.4926
Problem:    #ifdef for crypt feature around too many lines.
Solution:   Move code outside of #ifdef. (closes #10388)
Files:      src/option.c

Patch 8.2.4927
Problem:    Return type of remove() incorrect when using three arguments.
Solution:   Use first argument type when there are three arguments.
            (closes #10387)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4928
Problem:    Various white space and cosmetic mistakes.
Solution:   Change spaces to tabs, improve comments.
Files:      src/bufwrite.c, src/channel.c, src/cindent.c, src/crypt.c,
            src/debugger.c, src/digraph.c, src/edit.c, src/evalwindow.c,
            src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,
            src/filepath.c, src/gui.c, src/highlight.c, src/indent.c,
            src/insexpand.c, src/job.c, src/keymap.h, src/macros.h,
            src/menu.c, src/misc1.c, src/misc2.c, src/mouse.c, src/move.c,
            src/normal.c, src/ops.c, src/option.c, src/option.h, src/search.c,
            src/session.c, src/spellsuggest.c, src/structs.h, src/tag.c,
            src/term.c, src/terminal.c, src/textformat.c, src/typval.c,
            src/ui.c, src/userfunc.c, src/vim.h, src/vim9.h,
            src/vim9compile.c, src/vim9execute.c, src/window.c,
            src/testdir/test_cursorline.vim, src/os_unix.c, src/if_lua.c,
            src/if_py_both.h, src/os_amiga.c, src/os_win32.c, src/os_mswin.c,
            src/os_vms.c, src/os_vms_conf.h

Patch 8.2.4929
Problem:    Off-by-one error in statusline item.
Solution:   Subtrace one less. (closes #10394, closes #5599)
Files:      src/buffer.c, src/testdir/test_statusline.vim,
            src/testdir/dumps/Test_statusline_hl.dump

Patch 8.2.4930
Problem:    Interpolated string expression requires escaping.
Solution:   Do not require escaping in the expression.
Files:      runtime/doc/eval.txt, src/typval.c, src/proto/typval.pro,
            src/dict.c, src/eval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/vim9compile.c, src/proto/vim9compile.pro, src/vim9expr.c,
            src/vim9instr.c, src/alloc.c, src/proto/alloc.pro,
            src/testdir/test_expr.vim, src/testdir/test_let.vim

Patch 8.2.4931
Problem:    Crash with sequence of Perl commands.
Solution:   Move PUTBACK to another line. (closes #10386)
Files:      src/if_perl.xs

Patch 8.2.4932
Problem:    Not easy to filter the output of maplist().
Solution:   Add mode_bits to the dictionary. (Ernie Rael, closes #10356)
Files:      runtime/doc/builtin.txt, src/map.c,
            src/testdir/test_map_functions.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4933
Problem:    A few more capitalization mistakes in error messages.
Solution:   Adjust capitalization. (Doug Kearns)
Files:      src/errors.h

Patch 8.2.4934
Problem:    String interpolation fails when not evaluating.
Solution:   Skip the expression when not evaluating. (closes #10398)
Files:      src/typval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4935
Problem:    With 'foldmethod' "indent" some lines are not included in the
            fold. (Oleg Koshovetc)
Solution:   Fix it. (Brandon Simmons, closes #10399, closes #3214)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.4936
Problem:    MS-Windows: mouse coordinates for scroll event are wrong.
Solution:   Convert coordinates to the text area coordinates. (closes #10400)
Files:      src/gui_w32.c

Patch 8.2.4937 (after 8.2.4931)
Problem:    No test for what 8.2.4931 fixes.
Solution:   Add a test that triggers a valgrind error.
Files:      src/testdir/test_perl.vim

Patch 8.2.4938
Problem:    Crash when matching buffer with invalid pattern.
Solution:   Check for NULL regprog.
Files:      src/buffer.c, src/testdir/test_buffer.vim

Patch 8.2.4939
Problem:    matchfuzzypos() with "matchseq" does not have all positions.
Solution:   Also add a position for white space. (closes #10404)
Files:      runtime/doc/builtin.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.4940
Problem:    Some code is never used.
Solution:   Remove dead code.  Add a few more test cases.
Files:      src/vim9expr.c, src/proto/vim9expr.pro, src/vim9compile.c,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.4941
Problem:    '[ and '] marks may be wrong after undo.
Solution:   Adjust the '[ and '] marks if needed. (closes #10407, closes #1281)
Files:      src/undo.c, src/testdir/test_undo.vim

Patch 8.2.4942
Problem:    Error when setting 'filetype' in help file again.
Solution:   Deal with text property type already existing. (closes #10409)
Files:      runtime/import/dist/vimhelp.vim

Patch 8.2.4943
Problem:    Changing 'switchbuf' may have no effect.
Solution:   Handle 'switchbuf' in didset_string_options(). (Sean Dewar,
            closes #10406)
Files:      src/optionstr.c, src/testdir/test_options.vim

Patch 8.2.4944
Problem:    Text properties are wrong after "cc". (Axel Forsman)
Solution:   Pass the deleted byte count to inserted_bytes(). (closes #10412,
            closes #7737, closes #5763)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4945
Problem:    Inconsistent use of white space.
Solution:   Use Tabs and Spaces consistently.
Files:      src/os_amiga.c, src/if_py_both.h, src/os_win32.c, src/os_mswin.c,
            src/os_vms.c, src/os_vms_conf.h

Patch 8.2.4946
Problem:    Vim9: some code not covered by tests.
Solution:   Add a few more test cases.  Remove dead code.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4947
Problem:    Text properties not adjusted when accepting spell suggestion.
Solution:   Adjust text properties when text changes. (closes #10414)
Files:      src/spell.c, src/spellsuggest.c, src/testdir/test_textprop.vim

Patch 8.2.4948
Problem:    Cannot use Perl heredoc in nested :def function. (Virginia
            Senioria)
Solution:   Only concatenate heredoc lines when not in a nested function.
            (closes #10415)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4949
Problem:    Vim9: some code not covered by tests.
Solution:   Add a few more test cases.  Fix double error message.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4950
Problem:    Text properties position wrong after shifting text.
Solution:   Adjust the text properties when shifting a block of text.
            (closes #10418)
Files:      src/ops.c, src/testdir/test_textprop.vim

Patch 8.2.4951
Problem:    Smart indenting done when not enabled.
Solution:   Check option values before setting can_si. (closes #10420)
Files:      src/indent.c, src/proto/indent.pro, src/change.c, src/edit.c,
            src/ops.c, src/testdir/test_smartindent.vim

Patch 8.2.4952
Problem:    GUI test will fail if color scheme changes.
Solution:   Reduce the test for now.
Files:      src/testdir/test_gui.vim

Patch 8.2.4953
Problem:    With 'smartindent' inserting '}' after completion goes wrong.
Solution:   Check the cursor is in indent.  (closes #10420)
Files:      src/indent.c, src/testdir/test_smartindent.vim

Patch 8.2.4954
Problem:    Inserting line breaks text property spanning more than one line.
Solution:   Check TP_FLAG_CONT_PREV and TP_FLAG_CONT_NEXT. (closes #10423)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.4955
Problem:    Text property in wrong position after auto-indent.
Solution:   Adjust text property columns. (closes #10422, closes #7719)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4956
Problem:    Reading past end of line with "gf" in Visual block mode.
Solution:   Do not include the NUL in the length.
Files:      src/normal.c, src/testdir/test_gf.vim

Patch 8.2.4957
Problem:    Text properties in a wrong position after a block change.
Solution:   Adjust the properties columns. (closes #10427)
Files:      src/ops.c, src/testdir/test_textprop.vim

Patch 8.2.4958
Problem:    A couple conditions are always true.
Solution:   Remove the conditions. (Goc Dundar, closes #10428)
Files:      src/evalfunc.c, src/quickfix.c

Patch 8.2.4959
Problem:    Using NULL regexp program.
Solution:   Check for regexp program becoming NULL in more places.
Files:      src/buffer.c, src/testdir/test_buffer.vim

Patch 8.2.4960
Problem:    Text properties that cross line boundary are not correctly updated
            for a deleted line.
Solution:   Correct computing location of text property entry. (Paul Ollis,
            closes #10431, closes #10430)
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.4961
Problem:    Build error with a certain combination of features.
Solution:   Adjust #if. (John Marriott)
Files:      src/memline.c

Patch 8.2.4962
Problem:    Files show up in git status.
Solution:   Adjust the list of ignored files.  Clean up more test files.
            (Shane xb Qian, closes #9929)
Files:      .gitignore, src/testdir/Makefile

Patch 8.2.4963
Problem:    Expanding path with "/**" may overrun end of buffer.
Solution:   Use vim_snprintf().
Files:      src/filepath.c

Patch 8.2.4964
Problem:    MS-Windows GUI: mouse event test is flaky.
Solution:   Add a short delay after generating a mouse event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4965
Problem:    GUI: testing mouse move event depends on screen cell size.
Solution:   Multiply the row and column with the screen cell size.
Files:      runtime/doc/testing.txt, src/testing.c, src/testdir/test_gui.vim

Patch 8.2.4966
Problem:    MS-Windows GUI: mouse event test gets extra event.
Solution:   Ignore one move event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4967 (after 8.2.4966)
Problem:    MS-Windows GUI: mouse event test sometimes fails.
Solution:   Ignore one move event only if there is an extra event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4968
Problem:    Reading past end of the line when C-indenting.
Solution:   Check for NUL.
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.4969
Problem:    Changing text in Visual mode may cause invalid memory access.
Solution:   Check the Visual position after making a change.
Files:      src/change.c, src/edit.c, src/misc2.c, src/proto/misc2.pro,
            src/testdir/test_visual.vim

Patch 8.2.4970
Problem:    "eval 123" gives an error, "eval 'abc'" does not.
Solution:   Also give an error when evaluating only a string. (closes #10434)
Files:      src/ex_eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4971
Problem:    Vim9: interpolated string seen as range.
Solution:   Recognize an interpolated string at the start of a command line.
            (closes #10434)
Files:      src/ex_docmd.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4972
Problem:    Vim9: compilation fails when using dict member when skipping.
Solution:   Do not generate ISN_USEDICT when skipping. (closes #10433)
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4973
Problem:    Vim9: type error for list unpack mentions argument.
Solution:   Mention variable. (close #10435)
Files:      src/vim9.h, src/vim9execute.c, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4974
Problem:    ":so" command may read after end of buffer.
Solution:   Compute length of text properly.
Files:      src/scriptfile.c, src/testdir/test_source.vim

Patch 8.2.4975
Problem:    Recursive command line loop may cause a crash.
Solution:   Limit recursion of getcmdline().
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.4976
Problem:    Coverity complains about not restoring a saved value.
Solution:   Restore value before handling error.
Files:      src/vim9execute.c

Patch 8.2.4977
Problem:    Memory access error when substitute expression changes window.
Solution:   Disallow changing window in substitute expression.
Files:      src/ex_cmds.c, src/testdir/test_substitute.vim

Patch 8.2.4978
Problem:    No error if engine selection atom is not at the start.
Solution:   Give an error. (Christian Brabandt, closes #10439)
Files:      runtime/doc/pattern.txt, src/errors.h, src/regexp_bt.c,
            src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 8.2.4979
Problem:    Accessing freed memory when line is flushed.
Solution:   Make a copy of the pattern to search for.
Files:      src/window.c, src/testdir/test_tagjump.vim

Patch 8.2.4980
Problem:    When 'shortmess' contains 'A' loading a session may still warn for
            an existing swap file. (Melker Österberg)
Solution:   Keep the 'A' flag to 'shortmess' in the session file.
            (closes #10443)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4981
Problem:    It is not possible to manipulate autocommands.
Solution:   Add functions to add, get and set autocommands. (Yegappan
            Lakshmanan, closes #10291)
Files:      runtime/doc/autocmd.txt, runtime/doc/builtin.txt,
            runtime/doc/usr_41.txt, src/autocmd.c, src/evalfunc.c,
            src/proto/autocmd.pro, src/testdir/test_autocmd.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4982
Problem:    Colors in terminal window are not 100% correct.
Solution:   Use g:terminal_ansi_colors as documented. (closes #10429,
            closes #7227 closes #10347)
Files:      src/job.c, src/option.c, src/proto/term.pro,
            src/terminal.c, src/proto/terminal.pro, src/term.c,
            src/testdir/test_functions.vim, src/testdir/test_terminal.vim

Patch 8.2.4983 (after 8.2.4982)
Problem:    Colors test fails in the GUI.
Solution:   Reset g:terminal_ansi_colors.
Files:      src/testdir/test_functions.vim

Patch 8.2.4984
Problem:    Dragging statusline fails for window with winbar.
Solution:   Fix off-by-one error. (closes #10448)
Files:      src/mouse.c, src/testdir/test_winbar.vim

Patch 8.2.4985
Problem:    PVS warns for possible array underrun.
Solution:   Add a check for a positive value. (Goc Dundar, closes #10451)
Files:      src/spell.c

Patch 8.2.4986
Problem:    Some github actions are outdated.
Solution:   Update CodeQl to v2, update checkout to v3. (closes #10450)
Files:      .github/workflows/ci.yml, .github/workflows/codeql-analysis.yml,
            .github/workflows/coverity.yml

Patch 8.2.4987
Problem:    After deletion a small fold may be closable.
Solution:   Check for a reverse range. (Brandon Simmons, closes #10457)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.4988
Problem:    Textprop in wrong position when replacing multi-byte chars.
Solution:   Adjust textprop position. (closes #10461)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4989
Problem:    Cannot specify a function name for :defcompile.
Solution:   Implement a function name argument for :defcompile.
Files:      runtime/doc/vim9.txt, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9execute.c, src/ex_cmds.h, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4990 (after 8.2.4989)
Problem:    Memory leak when :defcompile fails.
Solution:   Free fname when returning early.
Files:      src/userfunc.c

Patch 8.2.4991
Problem:    No test for what patch 8.1.0535 fixes.
Solution:   Add a test. (closes #10462)
Files:      src/testdir/test_fold.vim

Patch 8.2.4992 (after 8.2.4989)
Problem:    Compiler warning for possibly uninitialized variable. (Tony
            Mechelynck)
Solution:   Initialize variable in the caller instead of in the function.
Files:      src/userfunc.c, src/vim9execute.c

Patch 8.2.4993
Problem:    smart/C/lisp indenting is optional, which makes the code more
            complex, while it only reduces the executable size a bit.
Solution:   Graduate FEAT_CINDENT, FEAT_SMARTINDENT and FEAT_LISP.
Files:      runtime/doc/builtin.txt, runtime/doc/indent.txt,
            runtime/doc/options.txt, runtime/doc/various.txt, src/feature.h,
            src/buffer.c, src/change.c, src/cindent.c, src/charset.c,
            src/edit.c, src/evalfunc.c, src/indent.c, src/insexpand.c,
            src/main.c, src/mouse.c, src/ops.c, src/option.c, src/optionstr.c,
            src/register.c, src/search.c, src/textformat.c, src/version.c,
            src/option.h, src/optiondefs.h, src/structs.h, src/globals.h,
            src/testdir/test_edit.vim

Patch 8.2.4994
Problem:    Tests are using legacy functions.
Solution:   Convert a few tests to use :def functions.
Files:      src/testdir/test_cindent.vim

Patch 8.2.4995 (after 8.2.4992)
Problem:    Still a compiler warning for possibly uninitialized variable.
            (Tony Mechelynck)
Solution:   Initialize variables.
Files:      src/vim9execute.c

Patch 8.2.4996 (after 8.2.4969)
Problem:    setbufline() may change Visual selection. (Qiming Zhao)
Solution:   Disable Visual mode when using another buffer. (closes #10466)
Files:      src/evalbuffer.c, src/testdir/test_bufline.vim

Patch 8.2.4997
Problem:    Python: changing hidden buffer can cause the display to be messed
            up.
Solution:   Do not mark changed lines when using another buffer. (Paul Ollis,
            closes #10437, closes #7972)
Files:      src/if_py_both.h, src/testdir/test_python3.vim

Patch 8.2.4998
Problem:    Vim9: crash when using multiple funcref().
Solution:   Check if varargs type is NULL. (closes #10467)
Files:      src/vim9type.c, src/testdir/test_vim9_func.vim

Patch 8.2.4999
Problem:    Filetype test table is not properly sorted.
Solution:   Sort by filetype. (Doug Kearns)
Files:      src/testdir/test_filetype.vim

Patch 8.2.5000
Problem:    No patch for documentation updates.
Solution:   Update documentation files.
Files:      runtime/doc/arabic.txt, runtime/doc/autocmd.txt,
            runtime/doc/builtin.txt, runtime/doc/change.txt,
            runtime/doc/channel.txt, runtime/doc/cmdline.txt,
            runtime/doc/diff.txt, runtime/doc/digraph.txt,
            runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/filetype.txt, runtime/doc/fold.txt,
            runtime/doc/ft_ada.txt, runtime/doc/ft_ps1.txt,
            runtime/doc/ft_raku.txt, runtime/doc/ft_rust.txt,
            runtime/doc/ft_sql.txt, runtime/doc/gui.txt,
            runtime/doc/gui_w32.txt, runtime/doc/helphelp.txt,
            runtime/doc/help.txt, runtime/doc/if_cscop.txt,
            runtime/doc/if_lua.txt, runtime/doc/if_perl.txt,
            runtime/doc/if_pyth.txt, runtime/doc/if_tcl.txt,
            runtime/doc/indent.txt, runtime/doc/index.txt,
            runtime/doc/insert.txt, runtime/doc/intro.txt,
            runtime/doc/map.txt, runtime/doc/mbyte.txt,
            runtime/doc/message.txt, runtime/doc/motion.txt,
            runtime/doc/netbeans.txt, runtime/doc/options.txt,
            runtime/doc/os_dos.txt, runtime/doc/os_vms.txt,
            runtime/doc/os_win32.txt, runtime/doc/pattern.txt,
            runtime/doc/pi_netrw.txt, runtime/doc/pi_zip.txt,
            runtime/doc/popup.txt, runtime/doc/print.txt,
            runtime/doc/quickfix.txt, runtime/doc/quickref.txt,
            runtime/doc/remote.txt, runtime/doc/repeat.txt,
            runtime/doc/rileft.txt, runtime/doc/scroll.txt,
            runtime/doc/sign.txt, runtime/doc/spell.txt,
            runtime/doc/sponsor.txt, runtime/doc/starting.txt,
            runtime/doc/syntax.txt, runtime/doc/tabpage.txt,
            runtime/doc/tagsrch.txt, runtime/doc/terminal.txt,
            runtime/doc/term.txt, runtime/doc/testing.txt,
            runtime/doc/textprop.txt, runtime/doc/tips.txt,
            runtime/doc/todo.txt, runtime/doc/uganda.txt,
            runtime/doc/undo.txt, runtime/doc/usr_02.txt,
            runtime/doc/usr_04.txt, runtime/doc/usr_05.txt,
            runtime/doc/usr_06.txt, runtime/doc/usr_08.txt,
            runtime/doc/usr_09.txt, runtime/doc/usr_12.txt,
            runtime/doc/usr_20.txt, runtime/doc/usr_29.txt,
            runtime/doc/usr_40.txt, runtime/doc/usr_41.txt,
            runtime/doc/usr_45.txt, runtime/doc/usr_46.txt,
            runtime/doc/usr_50.txt, runtime/doc/usr_51.txt,
            runtime/doc/usr_52.txt, runtime/doc/usr_90.txt,
            runtime/doc/usr_toc.txt, runtime/doc/various.txt,
            runtime/doc/version5.txt, runtime/doc/version6.txt,
            runtime/doc/version7.txt, runtime/doc/version8.txt,
            runtime/doc/version9.txt, runtime/doc/vi_diff.txt,
            runtime/doc/vim9.txt, runtime/doc/visual.txt,
            runtime/doc/windows.txt, runtime/doc/tags, runtime/doc/Makefile

Patch 8.2.5001
Problem:    Checking translations affects the search pattern history.
Solution:   Use "keeppatterns". (Doug Kearns)
Files:      src/po/check.vim

Patch 8.2.5002
Problem:    deletebufline() may change Visual selection.
Solution:   Disable Visual mode when using another buffer. (closes #10469)
Files:      src/evalbuffer.c, src/testdir/test_bufline.vim

Patch 8.2.5003
Problem:    Cannot do bitwise shifts.
Solution:   Add the >> and << operators. (Yegappan Lakshmanan, closes #8457)
Files:      runtime/doc/eval.txt, src/errors.h, src/eval.c, src/structs.h,
            src/vim.h, src/vim9execute.c, src/vim9expr.c,
            src/testdir/test_expr.vim, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.5004
Problem:    Right shift on negative number does not work as documented.
Solution:   Use a uvarnumber_T type cast.
Files:      runtime/doc/eval.txt, src/eval.c, src/vim9expr.c,
            src/vim9execute.c, src/charset.c, src/testdir/test_expr.vim

Patch 8.2.5005 (after 8.2.5003)
Problem:    Compiler warning for uninitialized variable. (John Marriott)
Solution:   Initialize the pointer to NULL.
Files:      src/vim9expr.vim

Patch 8.2.5006 (after 8.2.5003)
Problem:    Asan warns for undefined behavior.
Solution:   Cast the shifted value to unsigned.
Files:      src/eval.c, src/vim9expr.c, src/vim9execute.c

Patch 8.2.5007
Problem:    Spell suggestion may use uninitialized memory. (Zdenek Dohnal)
Solution:   Avoid going over the end of the word.
Files:      src/spellsuggest.c, src/testdir/test_spell_utf8.vim

Patch 8.2.5008
Problem:    When 'formatoptions' contains "/" wrongly wrapping a long trailing
            comment.
Solution:   Pass the OPENLINE_FORMAT flag.
Files:      src/change.c, src/vim.h, src/textformat.c,
            src/testdir/test_textformat.vim

Patch 8.2.5009
Problem:    Fold may not be closable after appending.
Solution:   Set the fd_small flag to MAYBE. (Brandon Simmons, closes #10471)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.5010
Problem:    The terminal debugger uses various global variables.
Solution:   Add a dictionary to hold the terminal debugger preferences.
Files:      runtime/doc/terminal.txt,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.2.5011
Problem:    Replacing an autocommand requires several lines.
Solution:   Add the "replace" flag to autocmd_add(). (Yegappan Lakshmanan,
            closes #10473)
Files:      runtime/doc/autocmd.txt, runtime/doc/builtin.txt, src/autocmd.c,
            src/testdir/test_autocmd.vim

Patch 8.2.5012
Problem:    Cannot select one character inside ().
Solution:   Do not try to extend the area if it is empty. (closes #10472,
            closes #6616)
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.5013
Problem:    After text formatting the cursor may be in an invalid position.
Solution:   Correct the cursor position after formatting.
Files:      src/textformat.c, src/testdir/test_textformat.vim

Patch 8.2.5014
Problem:    Byte offsets are wrong when using text properties.
Solution:   Make sure text properties do not affect the byte counts.
            (Paul Ollis, closes #10474)
Files:      src/memline.c, src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.5015
Problem:    Hoon and Moonscript files are not recognized.
Solution:   Add filetype patterns. (Goc Dundar, closes #10478)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.5016
Problem:    Access before start of text with a put command.
Solution:   Check the length is more than zero.
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.5017
Problem:    Gcc 12.1 warns for uninitialized variable.
Solution:   Initialize the variable. (closes #10476)
Files:      src/evalvars.c

Patch 8.2.5018
Problem:    Vim9: some code is not covered by tests.
Solution:   Delete dead code.
Files:      src/vim9instr.c, src/proto/vim9instr.pro, src/vim9compile.c,
            src/vim9expr.c,

Patch 8.2.5019
Problem:    Cannot get the first screen column of a character.
Solution:   Let virtcol() optionally return a list. (closes #10482,
            closes #7964)
Files:      runtime/doc/builtin.txt, src/evalfunc.c,
            src/testdir/test_functions.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.5020
Problem:    Using 'imstatusfunc' and 'imactivatefunc' breaks 'foldopen'.
Solution:   Save and restore the KeyTyped flag. (closes #10479)
Files:      src/gui_xim.c, src/testdir/test_iminsert.vim


Patch 8.2.5021
Problem:    Build fails with normal features and +terminal. (Dominique Pellé)
Solution:   Add #ifdefs. (closes #10484)
Files:      src/terminal.c

Patch 8.2.5022
Problem:    'completefunc'/'omnifunc' error does not end completion.
Solution:   Check if there was an error or exception. (closes #10486,
            closes #4218)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.5023
Problem:    Substitute overwrites allocated buffer.
Solution:   Disallow undo when in a substitute command.
Files:      src/normal.c, src/undo.c, src/testdir/test_substitute.vim

Patch 8.2.5024
Problem:    Using freed memory with "]d".
Solution:   Copy the pattern before searching.
Files:      src/normal.c, src/testdir/test_tagjump.vim

Patch 8.2.5025
Problem:    Vim9: a few lines not covered by tests.
Solution:   Add a few tests.
Files:      src/vim9script.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_import.vim

Patch 8.2.5026
Problem:    Vim9: a few lines not covered by tests.
Solution:   Delete dead code.  Add a few test cases. make "12->func()" work.
Files:      src/vim9type.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.5027
Problem:    Error for missing :endif when an exception was thrown. (Dani
            Dickstein)
Solution:   Do not give an error when aborting. (closes #10490)
Files:      src/ex_docmd.c, src/testdir/test_trycatch.vim

Patch 8.2.5028
Problem:    Syntax regexp matching can be slow.
Solution:   Adjust the counters for checking the timeout to check about once
            per msec. (closes #10487, closes #2712)
Files:      src/regexp_bt.c, src/regexp_nfa.c

Patch 8.2.5029
Problem:    "textlock" is always zero.
Solution:   Remove "textlock" and rename "textwinlock" to "textlock".
            (closes #10489)
Files:      runtime/doc/insert.txt, runtime/doc/tags, src/beval.c,
            src/change.c, src/edit.c, src/errors.h, src/eval.c, src/ex_cmds.c,
            src/ex_getln.c, src/proto/ex_getln.pro, src/globals.h,
            src/indent.c, src/insexpand.c, src/map.c, src/register.c,
            src/undo.c, src/window.c, src/testdir/test_edit.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_popup.vim,
            src/testdir/test_quickfix.vim

Patch 8.2.5030
Problem:    autocmd_add() can only handle one event and pattern.
Solution:   Support a list of events and patterns. (Yegappan Lakshmanan,
            closes #10483)
Files:      runtime/doc/builtin.txt, src/autocmd.c, src/errors.h,
            src/testdir/test_autocmd.vim

Patch 8.2.5031
Problem:    Cannot easily run the benchmarks.
Solution:   Have "make benchmark" in the src directory work.
Files:      src/Makefile, src/testdir/Makefile

Patch 8.2.5032
Problem:    Python 3 test fails without the GUI.
Solution:   Check the balloon_eval feature is available.
Files:      src/testdir/test_python3.vim

Patch 8.2.5033 (after 8.2.5030)
Problem:    Build error with +eval but without +quickfix.  Warning for
            uninitialized variable.
Solution:   Adjust #ifdefs. (John Marriott)
Files:      src/errors.h, src/autocmd.c

Patch 8.2.5034
Problem:    There is no way to get the byte index from a virtual column.
Solution:   Add virtcol2col(). (Yegappan Lakshmanan, closes #10477,
            closes #10098)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/move.c, src/proto/move.pro, src/testdir/test_cursor_func.vim

Patch 8.2.5035
Problem:    When splitting a window the changelist position moves.
Solution:   Set the changelist index a bit later. (closes #10493)
Files:      src/window.c, src/testdir/test_changelist.vim,
            src/testdir/test_normal.vim

Patch 8.2.5036 (after 8.2.5028)
Problem:    Using two counters for timeout check in NFA engine.
Solution:   Use only one counter.  Tune the counts based on guessing.
Files:      src/regexp_nfa.c

Patch 8.2.5037
Problem:    Cursor position may be invalid after "0;" range.
Solution:   Check the cursor position when it was set by ";" in the range.
Files:      src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.5038
Problem:    A finished terminal in a popup window does not show a scrollbar.
Solution:   Show the scrollbar if the terminal job is finished. (closes
            #10497)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_poptermscroll_1.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_2.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_3.dump

Patch 8.2.5039
Problem:    Confusing error if first argument of popup_create() is wrong.
Solution:   Give a more informative error.
Files:      src/popupwin.c, src/testdir/test_popupwin.vim, src/errors.h,
            src/testdir/dumps/Test_popup_settext_07.dump

Patch 8.2.5040
Problem:    Scrollbar thumb in scrolled popup not visible.
Solution:   Show at least one thumb character. (fixes 10492)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_scroll_13.dump

Patch 8.2.5041
Problem:    Cannot close a terminal popup with "NONE" job.
Solution:   Adjust the conditions for whether a job is running.
            (closes #10498)
Files:      src/buffer.c, src/terminal.c, src/proto/terminal.pro,
            src/undo.c, src/testdir/test_popupwin.vim

Patch 8.2.5042
Problem:    Scrollbar thumb in tall scrolled popup not visible.
Solution:   Show at least one thumb character. (fixes 10492)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_scroll_13.dump

Patch 8.2.5043
Problem:    Can open a cmdline window from a substitute expression.
Solution:   Disallow opening a command line window when text or buffer is
            locked.
Files:      src/buffer.c, src/ex_getln.c, src/proto/ex_getln.pro,
            src/window.c, src/testdir/test_substitute.vim

Patch 8.2.5044 (after 8.2.5043)
Problem:    Command line test fails.
Solution:   Also beep when cmdline win can't be opened because of locks.
            Make the test not beep.  Make the test pass on MS-Windows.
Files:      src/ex_getln.c, src/testdir/test_substitute.vim

Patch 8.2.5045
Problem:    Can escape a terminal popup window when the job is finished.
Solution:   Only check for a finished job where it is relevant.
            (closes #10253)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_poptermscroll_1.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_2.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_3.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_4.dump

Patch 8.2.5046
Problem:    vim_regsub() can overwrite the destination.
Solution:   Pass the destination length, give an error when it doesn't fit.
Files:      src/regexp.h, src/regexp.c, src/proto/regexp.pro, src/eval.c,
            src/ex_cmds.c

Patch 8.2.5047
Problem:    CurSearch highlight is often wrong.
Solution:   Remember the last highlighted position and redraw when needed.
Files:      src/globals.h, src/match.c, src/drawscreen.c, src/change.c,
            src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_cursearch_changed_1.dump

Patch 8.2.5048
Problem:    When using XIM the gui test may fail.
Solution:   Only use --not-a-term when not using XIM.
Files:      src/testdir/test_gui.vim

Patch 8.2.5049
Problem:    Insufficient tests for autocommands.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #10507)
Files:      src/autocmd.c, src/testdir/gen_opt_test.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_cmdline.vim

Patch 8.2.5050
Problem:    Using freed memory when searching for pattern in path.
Solution:   Make a copy of the line.
Files:      src/search.c, src/testdir/test_tagjump.vim

Patch 8.2.5051
Problem:    Check for autocmd_add() event argument is confusing.
Solution:   Make the code more straightforward.
Files:      src/autocmd.c

Patch 8.2.5052
Problem:    CI checkout step title is a bit cryptic.
Solution:   Add a better title. (closes #10509)
Files:      .github/workflows/ci.yml, .github/workflows/coverity.yml,
            .github/workflows/codeql-analysis.yml

Patch 8.2.5053
Problem:    Cannot have a comment halfway an expression in an autocmd command
            block.
Solution:   When skipping over the NL also skip over comments. (closes #10519)
Files:      src/eval.c, src/testdir/test_autocmd.vim

Patch 8.2.5054
Problem:    No good filetype for conf files similar to dosini.
Solution:   Add the confini filetype. (closes #10518)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.5055
Problem:    Statusline is not updated when terminal title changes.
Solution:   Redraw the status line when the title changes. (issue #10425)
Files:      src/terminal.c

Patch 8.2.5056
Problem:    The channel log only contains some of the raw terminal output.
Solution:   Add the "o" flag to log all terminal output.  Use it for "--log".
Files:      runtime/doc/channel.txt, runtime/doc/starting.txt, src/main.c,
            src/channel.c, src/vim.h, src/term.c, src/edit.c, src/normal.c,
            src/optionstr.c

Patch 8.2.5057
Problem:    Using gettimeofday() for timeout is very inefficient.
Solution:   Set a platform dependent timer. (Paul Ollis, closes #10505)
Files:      src/auto/configure, src/config.h.in, src/configure.ac,
            src/drawscreen.c, src/errors.h, src/evalfunc.c, src/ex_cmds.c,
            src/ex_getln.c, src/match.c, src/os_mac.h, src/os_macosx.m,
            src/os_unix.c, src/os_win32.c, src/proto/os_unix.pro,
            src/proto/os_win32.pro, src/proto/regexp.pro, src/quickfix.c,
            src/regexp.c, src/regexp.h, src/regexp_bt.c, src/regexp_nfa.c,
            src/screen.c, src/search.c, src/structs.h, src/syntax.c,
            src/testdir/test_hlsearch.vim, src/testdir/test_search.vim,
            src/testdir/test_syntax.vim

Patch 8.2.5058
Problem:    input() does not handle composing characters properly.
Solution:   Use mb_cptr2char_adv() instead of mb_ptr2char_adv().
            (closes #10527)
Files:      src/getchar.c, src/testdir/test_functions.vim

Patch 8.2.5059
Problem:    Autoconf 2.71 produces many obsolete warnings.
Solution:   Replace obsolete macros with non-obsolete ones, where the
            functionality does not change. (issue #10528)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.5060 (after 8.2.5059)
Problem:    Running configure fails.
Solution:   Remove line break.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.5061
Problem:    C89 requires signal handlers to return void.
Solution:   Drop RETSIGTYPE and hard-code a void return value.
Files:      src/configure.ac, src/auto/configure, src/if_cscope.c,
            src/os_unix.c, src/pty.c, src/os_mac.h, src/os_vms_conf.h,
            src/config.h.in, src/osdef1.h.in

Patch 8.2.5062
Problem:    Coverity warns for dead code.
Solution:   Remove the dead code.
Files:      src/os_unix.c, src/match.c

Patch 8.2.5063
Problem:    Error for a command may go over the end of IObuff.
Solution:   Truncate the message.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.5064
Problem:    No test for what 8.1.0052 fixes.
Solution:   Add a test. (closes #10531)
Files:      src/getchar.c, src/testdir/test_mapping.vim

Patch 8.2.5065
Problem:    Wrong return type for main() in tee.c.
Solution:   Use "int" instead of "void".  Remove unused variable.
Files:      src/tee/tee.c

Patch 8.2.5066
Problem:    Can specify multispace listchars only for whole line.
Solution:   Add "leadmultispace". (Christian Brabandt, closes #10496)
Files:      runtime/doc/options.txt, src/drawline.c, src/message.c,
            src/screen.c, src/structs.h, src/window.c,
            src/testdir/test_listchars.vim

Patch 8.2.5067
Problem:    Timer_create is not available on every Mac system. (Hisashi T
            Fujinaka)
Solution:   Adjust #ifdef.
Files:      src/os_unix.c

Patch 8.2.5068
Problem:    Gcc 12.1 warning when building tee.
Solution:   Change type to size_t. (John Marriott)
Files:      src/tee/tee.c

Patch 8.2.5069
Problem:    Various warnings from clang on MS-Windows.
Solution:   Fix the code to avoid the warnings. (Yegappan Lakshmanan,
            closes #10538)
Files:      src/dosinst.c, src/fileio.c, src/gui_w32.c, src/os_mswin.c,
            src/os_win32.c

Patch 8.2.5070
Problem:    Unnecessary code.
Solution:   Remove code that isn't needed. (closes #10534)
Files:      src/message.c, src/screen.c

Patch 8.2.5071
Problem:    With some Mac OS version clockid_t is redefined.
Solution:   Adjust #ifdefs. (Ozaki Kiichi, closes #10549)
Files:      src/os_mac.h

Patch 8.2.5072
Problem:    Using uninitialized value and freed memory in spell command.
Solution:   Initialize "attr".  Check for empty line early.
Files:      src/spell.c, src/testdir/test_spell_utf8.vim

Patch 8.2.5073
Problem:    Clang on MS-Windows produces warnings.
Solution:   Avoid the warnings. (Yegappan Lakshmanan, closes #10546)
Files:      src/dosinst.c, src/dosinst.h, src/gui_dwrite.cpp, src/gui_w32.c,
            src/iscygpty.c, src/libvterm/src/vterm_internal.h, src/mbyte.c,
            src/os_win32.c, src/os_win32.h, src/term.c, src/xdiff/xinclude.h

Patch 8.2.5074
Problem:    Spell test fails on MS-Windows.
Solution:   Do not change 'encoding'
Files:      src/testdir/test_spell_utf8.vim

Patch 8.2.5075
