
Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet - Base class for all event facets.

=over 4

=item DESCRIPTION

=item METHODS

$key = $facet_class->facet_key(), $bool = $facet_class->is_list(), $clone =
$facet->clone(), $clone = $facet->clone(%replace)

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::About - Facet with event details.

=over 4

=item DESCRIPTION

=item FIELDS

$string = $about->{details}, $string = $about->details(), $package =
$about->{package}, $package = $about->package(), $bool =
$about->{no_display}, $bool = $about->no_display(), $uuid = $about->{uuid},
$uuid = $about->uuid(), $uuid = $about->{eid}, $uuid = $about->eid()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Amnesty - Facet for assertion amnesty.

=over 4

=item DESCRIPTION

=item NOTES

=item FIELDS

$string = $amnesty->{details}, $string = $amnesty->details(), $short_string
= $amnesty->{tag}, $short_string = $amnesty->tag(), $bool =
$amnesty->{inherited}, $bool = $amnesty->inherited()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Assert - Facet representing an assertion.

=over 4

=item DESCRIPTION

=item FIELDS

$string = $assert->{details}, $string = $assert->details(), $bool =
$assert->{pass}, $bool = $assert->pass(), $bool = $assert->{no_debug},
$bool = $assert->no_debug(), $int = $assert->{number}, $int =
$assert->number()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Control - Facet for hub actions and behaviors.

=over 4

=item DESCRIPTION

=item FIELDS

$string = $control->{details}, $string = $control->details(), $bool =
$control->{global}, $bool = $control->global(), $exit =
$control->{terminate}, $exit = $control->terminate(), $bool =
$control->{halt}, $bool = $control->halt(), $bool =
$control->{has_callback}, $bool = $control->has_callback(), $encoding =
$control->{encoding}, $encoding = $control->encoding(), $phase =
$control->{phase}, $phase = $control->phase()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Error - Facet for errors that need to be shown.

=over 4

=item DESCRIPTION

=item NOTES

=item FIELDS

$string = $error->{details}, $string = $error->details(), $short_string =
$error->{tag}, $short_string = $error->tag(), $bool = $error->{fail}, $bool
= $error->fail()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Hub - Facet for the hubs an event passes through.

=over 4

=item DESCRIPTION

=item FACET FIELDS

$string = $trace->{details}, $string = $trace->details(), $int =
$trace->{pid}, $int = $trace->pid(), $int = $trace->{tid}, $int =
$trace->tid(), $hid = $trace->{hid}, $hid = $trace->hid(), $huuid =
$trace->{huuid}, $huuid = $trace->huuid(), $int = $trace->{nested}, $int =
$trace->nested(), $bool = $trace->{buffered}, $bool = $trace->buffered()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Info - Facet for information a developer might
care about.

=over 4

=item DESCRIPTION

=item NOTES

=item FIELDS

$string_or_structure = $info->{details}, $string_or_structure =
$info->details(), $structure = $info->{table}, $structure = $info->table(),
$short_string = $info->{tag}, $short_string = $info->tag(), $bool =
$info->{debug}, $bool = $info->debug(), $bool = $info->{important}, $bool =
$info->important

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Info::Table - Intermediary representation of a
table.

=over 4

=item DESCRIPTION

=item SYNOPSIS

=item ATTRIBUTES

$header_aref = $t->header(), $rows_aref = $t->rows(), $bool =
$t->collapse(), $aref = $t->no_collapse(), $str = $t->as_string(), $href =
$t->as_hash(), %args = $t->info_args()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Meta - Facet for meta-data

=over 4

=item DESCRIPTION

=item METHODS AND FIELDS

$anything = $meta->{anything}, $anything = $meta->anything()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Parent - Facet for events contains other events

=over 4

=item DESCRIPTION

=item FIELDS

$string = $parent->{details}, $string = $parent->details(), $hid =
$parent->{hid}, $hid = $parent->hid(), $arrayref = $parent->{children},
$arrayref = $parent->children(), $bool = $parent->{buffered}, $bool =
$parent->buffered()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Plan - Facet for setting the plan

=over 4

=item DESCRIPTION

=item FIELDS

$string = $plan->{details}, $string = $plan->details(), $positive_int =
$plan->{count}, $positive_int = $plan->count(), $bool = $plan->{skip},
$bool = $plan->skip(), $bool = $plan->{none}, $bool = $plan->none()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Render - Facet that dictates how to render an
event.

=over 4

=item DESCRIPTION

=item FIELDS

$string = $render->[#]->{details}, $string = $render->[#]->details(),
$string = $render->[#]->{tag}, $string = $render->[#]->tag(), $string =
$render->[#]->{facet}, $string = $render->[#]->facet(), $mode =
$render->[#]->{mode}, $mode = $render->[#]->mode(), calculated, replace

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::EventFacet::Trace - Debug information for events

=over 4

=item DESCRIPTION

=item SYNOPSIS

=item FACET FIELDS

$string = $trace->{details}, $string = $trace->details(), $frame =
$trace->{frame}, $frame = $trace->frame(), $int = $trace->{pid}, $int =
$trace->pid(), $int = $trace->{tid}, $int = $trace->tid(), $id =
$trace->{cid}, $id = $trace->cid(), $uuid = $trace->{uuid}, $uuid =
$trace->uuid(), ($pkg, $file, $line, $subname) = $trace->call, @caller =
$trace->full_call, $warning_bits = $trace->warning_bits

=over 4

=item DISCOURAGED HUB RELATED FIELDS

$hid = $trace->{hid}, $hid = $trace->hid(), $huuid = $trace->{huuid},
$huuid = $trace->huuid(), $int = $trace->{nested}, $int = $trace->nested(),
$bool = $trace->{buffered}, $bool = $trace->buffered()

=back

=item METHODS

$trace->set_detail($msg), $msg = $trace->detail, $str = $trace->debug,
$trace->alert($MESSAGE), $trace->throw($MESSAGE), ($package, $file, $line,
$subname) = $trace->call(), $pkg = $trace->package, $file = $trace->file,
$line = $trace->line, $subname = $trace->subname, $sig = trace->signature

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Formatter - Namespace for formatters.

=over 4

=item DESCRIPTION

=item CREATING FORMATTERS

The number of tests that were planned, The number of tests actually seen,
The number of tests which failed, A boolean indicating whether or not the
test suite passed, A boolean indicating whether or not this call is for a
subtest

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Formatter::TAP - Standard TAP formatter

=over 4

=item DESCRIPTION

=item SYNOPSIS

=item METHODS

$bool = $tap->no_numbers, $tap->set_no_numbers($bool), $arrayref =
$tap->handles, $tap->set_handles(\@handles);, $encoding = $tap->encoding,
$tap->encoding($encoding), $tap->write($e, $num)

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>, Kent Fredric
E<lt>kentnl@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Hub - The conduit through which all events flow.

=over 4

=item SYNOPSIS

=item DESCRIPTION

=item COMMON TASKS

=over 4

=item SENDING EVENTS

=item ALTERING OR REMOVING EVENTS

=item LISTENING FOR EVENTS

=item POST-TEST BEHAVIORS

=item SETTING THE FORMATTER

=back

=item METHODS

$hub->send($event), $hub->process($event), $old = $hub->format($formatter),
$sub = $hub->listen(sub { ... }, %optional_params), $hub->unlisten($sub),
$sub = $hub->filter(sub { ... }, %optional_params), $sub =
$hub->pre_filter(sub { ... }, %optional_params), $hub->unfilter($sub),
$hub->pre_unfilter($sub), $hub->follow_op(sub { ... }), $sub =
$hub->add_context_acquire(sub { ... });,
$hub->remove_context_acquire($sub);, $sub = $hub->add_context_init(sub {
... });, $hub->remove_context_init($sub);, $sub =
$hub->add_context_release(sub { ... });,
$hub->remove_context_release($sub);, $hub->cull(), $pid = $hub->pid(), $tid
= $hub->tid(), $hud = $hub->hid(), $uuid = $hub->uuid(), $ipc =
$hub->ipc(), $hub->set_no_ending($bool), $bool = $hub->no_ending, $bool =
$hub->active, $hub->set_active($bool)

=over 4

=item STATE METHODS

$hub->reset_state(), $num = $hub->count, $num = $hub->failed, $bool =
$hub->ended, $bool = $hub->is_passing, $hub->is_passing($bool),
$hub->plan($plan), $plan = $hub->plan, $bool = $hub->check_plan

=back

=item THIRD PARTY META-DATA

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Hub::Interceptor - Hub used by interceptor to grab results.

=over 4

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Hub::Interceptor::Terminator - Exception class used by
Test2::Hub::Interceptor

=over 4

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Hub::Subtest - Hub used by subtests

=over 4

=item DESCRIPTION

=item TOGGLES

$bool = $hub->manual_skip_all, $hub->set_manual_skip_all($bool)

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::IPC - Turn on IPC for threading or forking support.

=over 4

=item SYNOPSIS

=over 4

=item DISABLING IT

=back

=item EXPORTS

cull()

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::IPC::Driver - Base class for Test2 IPC drivers.

=over 4

=item SYNOPSIS

=item METHODS

$self->abort($msg), $self->abort_trace($msg)

=item LOADING DRIVERS

=item WRITING DRIVERS

=over 4

=item METHODS SUBCLASSES MUST IMPLEMENT

$ipc->is_viable, $ipc->add_hub($hid), $ipc->drop_hub($hid),
$ipc->send($hid, $event);, $ipc->send($hid, $event, $global);, @events =
$ipc->cull($hid), $ipc->waiting()

=item METHODS SUBCLASSES MAY IMPLEMENT OR OVERRIDE

$ipc->driver_abort($msg)

=back

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::IPC::Driver::Files - Temp dir + Files concurrency model.

=over 4

=item DESCRIPTION

=item SYNOPSIS

=item ENVIRONMENT VARIABLES

T2_KEEP_TEMPDIR=0, T2_TEMPDIR_TEMPLATE='test2-XXXXXX'

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual - Documentation hub for Test2 and Test2-Suite.

=over 4

=item DESCRIPTION

=item WRITING TESTS

=item WRITING TOOLS

=item GUTS AND INNER WORKINGS

=item A NOTE ON CONCURRENCY (SUPPORT FOR FORKING AND THREADING)

=item CONTRIBUTING

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy - The hub for documentation of the inner
workings of
Test2 components.

=over 4

=item DESCRIPTION

=item END TO END

=item EVENTS

=item THE CONTEXT

=item THE API AND THE API INSTANCE

=item HUBS

=item THE IPC SYSTEM

=item INTERNAL UTILITIES

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy::API - Internals documentation for the API.

=over 4

=item DESCRIPTION

=item IMPLEMENTATION DETAILS

=over 4

=item Test2::API

=item Test2::API::Instance

=back

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy::Context - Internals documentation for the
Context
objects.

=over 4

=item DESCRIPTION

=item WHAT IS THE CONTEXT OBJECT?

=over 4

=item PRIMARY INTERFACE FOR TEST TOOLS

=item TRACK FILE AND LINE NUMBERS FOR ERROR REPORTING

=item PRESERVE $?, $!, $^E AND $@

=item FINALIZE THE API STATE

=item FIND/CREATE THE CURRENT/ROOT HUB

=item PROVIDE HOOKS

=back

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy::EndToEnd, Test2::Manual::EndToEnd - Overview
of Test2 from load to finish.

=over 4

=item DESCRIPTION

=item WHAT HAPPENS WHEN I LOAD THE API?

A singleton instance of Test2::API::Instance is created, Several API
functions are defined that use the singleton instance, Then what?

=item WHAT HAPPENS WHEN I USE A TOOL?

A tool function is run, The tool acquires a context object, The tool uses
the context object to create, send, and return events, When done the tool
MUST release the context, The tool returns

=item WHAT HAPPENS WHEN I ACQUIRE A CONTEXT?

$!, $@, $? and $^E are captured and preserved, The API state is changed to
'loaded', The current hub is found, Context acquire hooks fire, Any
existing context is found, Stack depth is measured, A new context is
created (if no existing context was found), Context init hooks fire (if no
existing context was found), $!, $@, $?, and $^E are restored, The context
is returned

=item WHAT HAPPENS WHEN I SEND AN EVENT?

The Test2::Event::Ok module is loaded, A new instance of Test2::Event::Ok
is created, The event object is sent to the hub, The hub runs the event
through any filters, The global test state is updated to reflect the event,
The event is sent to the formatter, The event is sent to all listeners

=item WHAT HAPPENS WHEN I RELEASE A CONTEXT?

The current context clone is released, If this was the canonical context,
it will actually release, Release hooks are called, The context is cleared,
$!, $@, $?, and $^E are restored

=item WHAT HAPPENS WHEN I USE done_testing()?

Any pending IPC events will be culled, Follow-up hooks are run, The final
plan event is generated and processed, The current hub is finalized

=item WHAT HAPPENS WHEN A TEST SCRIPT IS DONE?

API Versions are checked, Any remaining context objects are cleaned up,
Child processes are sent a 'waiting' event, The script will wait for all
child processes and/or threads to complete, The hub stack is cleaned up,
The root hub is finalized, Exit callbacks are called, The scripts exit
value ($?) is set, Broken module diagnostics

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy::Event - The internals of events

=over 4

=item DESCRIPTION

=item HISTORY

=item THE EVENT OBJECT

=item THE FACET API

assert => {details => $name, pass => $bool, no_debug => $bool, number =>
$maybe_int}, about => {details => $string, no_display => $bool, package =>
$pkg}, amnesty => [{details => $string, tag => $short_string, inherited =>
$bool}], control => {details => $string, global => $bool, terminate =>
$maybe_int, halt => $bool,  has_callback => $bool, encoding => $enc},
errors => [{details => $string, tag => $short_string, fail => $bool}], info
=> [{details => $string, tag => $short_string, debug => $bool, important =>
$bool}], parent => {details => $string, hid => $hid, children => [...],
buffered => 1}, plan => {details => $string, count => $int, skip => $bool,
none => $bool}, trace => {details => $string, frame => [$pkg, $file, $line,
$sub], pid => $int, tid => $int, cid => $cid, hid => $hid, nested => $int,
buffered => $bool}

=over 4

=item CUSTOM FACETS

$string = $facet_class->facet_key, $bool = $facet_class->is_list

=back

=item THE OLD API

$bool = $e->causes_fail, $bool = $e->increments_count, $e->callback($hub),
$num = $e->nested, $bool = $e->global, $code = $e->terminate, $msg =
$e->summary, ($count, $directive, $reason) = $e->sets_plan(), $bool =
$e->diagnostics, $bool = $e->no_display

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT

=back

=head2 Test2::Manual::Anatomy::Hubs - Internals documentation for the hub
stack, and
hubs.

=over 4

=item DESCRIPTION

=item WHAT IS A HUB?

=item WHY DO WE HAVE A HUB STACK?

subtests, testing your test tools

=item WHEN SHOULD I ADD A HUB TO THE STACK?

=item WHERE IS THE STACK?

=item WHAT ABOUT THE ROOT HUB?

=item HOW DO HUBS HANDLE IPC?

=item SEE ALSO

=item SOURCE

=item MAINTAINERS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item AUTHORS

Chad Granum E<lt>exodist@cpan.orgE<gt>

=item COPYRIGHT
