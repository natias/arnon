Patch 8.2.3270
Problem:    prop_find() finds property with ID -2.
Solution:   Use a separate flag to indicate an ID was specified. (issue #8674)
Files:      src/textprop.c

Patch 8.2.3271
Problem:    Vim9: cannot use :command or :au with a block in a :def function.
Solution:   Recognize the start of the block.
Files:      src/userfunc.c, src/usercmd.c, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3272
Problem:    Cannot use id zero with prop_find(). (Naohiro Ono)
Solution:   Also accept id zero.
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.3273
Problem:    Autocmd test fails.
Solution:   Require white space before the "{" that starts a block.
Files:      src/userfunc.c

Patch 8.2.3274
Problem:    Macro for printf format check can be simplified.
Solution:   Add ATTRIBUTE_FORMAT_PRINTF(). (Dominique Pellé, issue #8635)
Files:      src/channel.c, src/gui_xim.c, src/if_mzsch.c, src/nbdebug.c,
            src/nbdebug.h, src/netbeans.c, src/proto.h, src/term.c, src/vim.h,
            src/vim9execute.c

Patch 8.2.3275
Problem:    Optimizer can use hints about ga_grow() normally succeeding.
Solution:   Use GA_GROW_FAILS() and GA_GROW_OK() in several places. (Dominique
            Pellé, issue #8635)
Files:      src/arglist.c, src/macros.h, src/vim9execute.c, src/vim9compile.c

Patch 8.2.3276
Problem:    Vim9: exists() can only be evaluated at runtime.
Solution:   Evaluate at compile time for option name literals. (closes #8437)
Files:      src/vim9compile.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3277 (after 8.2.3276)
Problem:    Vim9: compiled has() does not work properly.
Solution:   Fix check for has() vs exists().
Files:      src/vim9compile.c

Patch 8.2.3278
Problem:    Vim9: error when adding 1 to float.
Solution:   Accept t_number_bool. (closes #8687)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3279
Problem:    Vim9: cannot use block in cmdline window.
Solution:   Add EX_CMDWIN to the CMD_block flags. (closes #8689)
Files:      src/ex_cmds.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.3280
Problem:    'virtualedit' local to buffer is not the best solution.
Solution:   Make it window-local. (Gary Johnson, closes #8685)
Files:      runtime/doc/options.txt, src/buffer.c, src/drawscreen.c,
            src/ops.c, src/option.c, src/option.h, src/optionstr.c,
            src/structs.h, src/testdir/test_virtualedit.vim

Patch 8.2.3281
Problem:    Vim9: TODO items in tests can be taken care of.
Solution:   Update test for now working functionality. (closes #8694)
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3282
Problem:    Vim9: error about using -complete without -nargs is confusing.
Solution:   Change the wording.
Files:      src/usercmd.c, src/errors.h

Patch 8.2.3283
Problem:    Julia filetype is not recognized
Solution:   Add filetype detection. (Christian Clason, closes #8700)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3284
Problem:    No error for insert() or remove() changing a locked blob.
Solution:   Check a blob is not locked before changing it. (Sean Dewar,
            closes #8696)
Files:      src/blob.c, src/errors.h, src/eval.c, src/list.c,
            src/proto/blob.pro, src/testdir/test_blob.vim,
            src/testdir/test_eval_stuff.vim

Patch 8.2.3285
Problem:    Scdoc filetype is not recognized.
Solution:   Add filetype detection. (Gregory Anders, closes #8701)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3286
Problem:    win_enter_ext() has too many boolean arguments.
Solution:   use one flags argument with defined values.
Files:      src/window.c

Patch 8.2.3287
Problem:    Channel events not handled in BufEnter autocommand.
Solution:   Decrement dont_parse_messages earlier. (Tim Pope, closes #8697)
Files:      src/window.c, src/testdir/test_channel.vim

Patch 8.2.3288
Problem:    Cannot easily access namespace dictionaries from Lua.
Solution:   Add vim.g, vim.b, etc. (Yegappan Lakshmanan, closes #8693,
            from NeoVim)
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3289 (after 8.2.3287)
Problem:    Compiler warning for unused variable with small features.
Solution:   Rearrange #ifdefs.
Files:      src/window.c

Patch 8.2.3290
Problem:    Vim9: compiling dict may use pointer after free and leak memory on
            failure.
Solution:   Pass a pointer to generate_PUSHS().  (Zdenek Dohnal, closes #8699)
Files:      src/vim9compile.c

Patch 8.2.3291
Problem:    Coverity warns for not checking return value.
Solution:   If dict_add() fails give an error message.
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3292
Problem:    Underscore in very magic pattern causes a hang.  Pattern with \V
            are case sensitive. (Yutao Yuan)
Solution:   Adjust condition for magicness and advance pointer. (Christian
            Brabandt, closes #8707, closes #8704, closes #8705)
Files:      src/search.c, src/testdir/test_search.vim

Patch 8.2.3293
Problem:    Finding completions may cause an endless loop.
Solution:   Use a better way to check coming back where the search started.
            (Andy Gozas, closes #8672, closes #8671)
Files:      src/insexpand.c, src/testdir/Make_all.mak,
            src/testdir/test_ins_complete_no_halt.vim

Patch 8.2.3294
Problem:    Lua: memory leak when adding dict item fails.
Solution:   Free the typval and the dict item.
Files:      src/if_lua.c

Patch 8.2.3295
Problem:    'cursorline' should not apply to 'breakindent'.
Solution:   Make 'cursorline' apply to 'breakindent' and 'showbreak'
            consistently. (closes #8684)
Files:      src/drawline.c, src/testdir/dumps/Test_Xcursorline_19.dump,
            src/testdir/dumps/Test_Xcursorline_20.dump,
            src/testdir/dumps/Test_Xcursorline_21.dump,
            src/testdir/dumps/Test_Xcursorline_22.dump,
            src/testdir/dumps/Test_Xcursorline_23.dump,
            src/testdir/dumps/Test_Xcursorline_24.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_01.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_02.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_03.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_04.dump,
            src/testdir/test_cursorline.vim, src/testdir/test_diffmode.vim

Patch 8.2.3296
Problem:    Vim9: cannot add a number to a float.
Solution:   Accept a number if the destination is a float. (closes #8703)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3297
Problem:    Cannot use all commands inside a {} block after :command and
            :autocmd.
Solution:   Do consider \n to separate commands. (closes #8620)
Files:      runtime/doc/map.txt, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_eval.c, src/proto/ex_eval.pro, src/eval.c, src/evalvars.c,
            src/ex_cmds.c, src/syntax.c, src/userfunc.c, src/vim9compile.c,
            src/vim9script.c, src/errors.h, src/testdir/test_autocmd.vim,
            src/testdir/test_usercommands.vim

Patch 8.2.3298
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.3299
Problem:    Vim9: exists() does not handle much at compile time.
Solution:   Handle variable names. (closes #8688)
Files:      src/vim9compile.c, src/evalfunc.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3300
Problem:    Lua: can only execute one Vim command at a time.  Not easy to get
            the Vim version.
Solution:   Make vim.command() accept multiple lines.  Add vim.version().
            (Yegappan Lakshmanan, closes #8716)
Files:      runtime/doc/if_lua.txt, src/evalfunc.c, src/if_lua.c,
            src/proto/evalfunc.pro, src/testdir/test_lua.vim,
            src/testdir/test_shell.vim

Patch 8.2.3301
Problem:    Memory allocation functions don't have their own place.
Solution:   Move memory allocation functions to alloc.c.  (Yegappan
            Lakshmanan, closes #8717)
Files:      Filelist, src/Make_ami.mak, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/alloc.c, src/misc2.c, src/proto.h, src/proto/alloc.pro,
            src/proto/misc2.pro

Patch 8.2.3302
Problem:    Coverity is not run from github.
Solution:   Add a coverity script. (James McCoy, closes #8714)
Files:      .github/workflows/coverity.yml, Filelist

Patch 8.2.3303
Problem:    Some structures could be smaller.
Solution:   Rearrange members to reduce size. (Dominique Pellé, closes #8725)
Files:      src/structs.h, src/vim9.h, src/vim9execute.c

Patch 8.2.3304
Problem:    Popup window title with wide characters is truncated.
Solution:   Use vim_strsize() instead of MB_CHARLEN(). (Naruhiko Nishino,
            closes #8721)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_multibytetitle.dump

Patch 8.2.3305
Problem:    Vim9: :finally in skipped block not handled correctly.
Solution:   Check whether :finally is in a skipped block. (Naruhiko Nishino,
            closes #8724)
Files:      src/ex_eval.c, src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3306
Problem:    Unexpected "No matching autocommands".
Solution:   Do not give the message when aborting.  Mention the arguments in
            the message. (closes #8690)
Files:      src/autocmd.c,

Patch 8.2.3307
Problem:    Vim9: :echoconsole cannot access local variables.
Solution:   Handle like other :echo commands. (closes #8708)
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3308
Problem:    Vim9: no runtime check for argument type if a function only has
            varargs.
Solution:   Also check argument types if uf_va_type is set. (closes #8715)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.3309
Problem:    Vim9: divide by zero causes a crash.
Solution:   Give an error message. (closes #8727)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3310
Problem:    Vim9: unpack assignment does not mention source of type error.
Solution:   Mention the argument number. (closes #8719)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3311
Problem:    Vim9: check for DO_NOT_FREE_CNT is very slow.
Solution:   Move to a separate function so it can be skipped by setting
            $TEST_SKIP_PAT.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/runtest.vim

Patch 8.2.3312
Problem:    Vim9: after "if false" line breaks in expression not skipped.
Solution:   Do parse the expression. (closes #8723)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3313
Problem:    Unused code in win_exchange() and frame_remove().
Solution:   Remove the code. (closes #8728)
Files:      src/window.c

Patch 8.2.3314
Problem:    Behavior of exists() in a :def function is unpredictable.
Solution:   Add exists_compiled().
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/errors.h, src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3315
Problem:    Cannot use single quote in a float number for readability.
Solution:   Support single quotes like in numbers. (closes #8713)
Files:      src/typval.c, src/float.c, src/proto/float.pro, src/json.c,
            src/viminfo.c, src/testdir/test_float_func.vim

Patch 8.2.3316 (after 8.2.3315)
Problem:    Float test fails.
Solution:   Add missing change.
Files:      src/evalfunc.c

Patch 8.2.3317
Problem:    Vim9: No error for missing white space before return type.
Solution:   Check for white space. (closes #8733)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3318
Problem:    Vim9: cannot ignore quotes in number at the command line.
Solution:   Use in_vim9script() so that after ":vim9" quotes are ignored.
Files:      src/typval.c, src/testdir/test_float_func.vim

Patch 8.2.3319
Problem:    Coverity action on github does not work.
Solution:   Remove undefined $SRCDIR. (James McCoy, closes #8739)
Files:      .github/workflows/coverity.yml

Patch 8.2.3320
Problem:    Some local functions are not static.
Solution:   Add "static".  Move snprintf() related code to strings.c.
            (Yegappan Lakshmanan, closes #8734)
Files:      src/alloc.c, src/channel.c, src/dict.c, src/digraph.c, src/edit.c,
            src/ex_docmd.c, src/getchar.c, src/job.c, src/list.c,
            src/message.c, src/profiler.c, src/proto/channel.pro,
            src/proto/dict.pro, src/proto/digraph.pro, src/proto/edit.pro,
            src/proto/ex_docmd.pro, src/proto/getchar.pro, src/proto/job.pro,
            src/proto/list.pro, src/proto/profiler.pro, src/proto/spell.pro,
            src/proto/vim9compile.pro, src/proto/vim9script.pro,
            src/proto/vim9type.pro, src/spell.c, src/strings.c,
            src/vim9compile.c, src/vim9script.c, src/vim9type.c, src/window.c

Patch 8.2.3321
Problem:    Some code is not tested.
Solution:   Add some more tests. (Dominique Pellé, closes #8735)
Files:      src/testdir/test_excmd.vim, src/testdir/test_writefile.vim

Patch 8.2.3322
Problem:    Vim9: checking type of dict does not check member type.
Solution:   When getting the type of a typval use dv_type and lv_type.
            (closes #8732)
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3323
Problem:    Help tag for exists_compiled() is wrong. (Maxim Kim)
Solution:   Adjust the help tag.
Files:      runtime/doc/eval.txt

Patch 8.2.3324
Problem:    Vim9: Cannot use :silent with :endwhile.
Solution:   Allow for using the :silent modifier. (closes #8737)
Files:      src/ex_eval.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3325
Problem:    Digraph test fails when LC_ALL is set to "C".
Solution:   When restoring 'encoding' set it to "utf-8". (closes #8742)
Files:      src/testdir/test_digraph.vim

Patch 8.2.3326
Problem:    Vim9: no error passing an empty list of the wrong type.
Solution:   Use ISN_SETTYPE also for "list<any>". (closes #8732)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3327
Problem:    No check for sysconf() failing.
Solution:   If sysconf() fails use SIGSTKSZ for the signal stack size.
            (Zdenek Dohnal, closes #8743)
Files:      src/os_unix.c

Patch 8.2.3328
Problem:    Coverity error for not checking return value.
Solution:   Check value is not negative.
Files:      src/spellfile.c

Patch 8.2.3329
Problem:    v_lock not set when getting value of environment variable.
Solution:   Set v_lock to zero.
Files:      src/typval.c

Patch 8.2.3330
Problem:    Coverity reports using uninitialized field.
Solution:   Initialize the field early.
Files:      src/tag.c

Patch 8.2.3331
Problem:    Coverity warns for using value without boundary check.
Solution:   Add a boundary check.
Files:      src/viminfo.c

Patch 8.2.3332
Problem:    Vim9: cannot assign to range in list.
Solution:   Implement overwriting a list range.
Files:      src/vim9compile.c, src/vim9execute.c, src/list.c,
            src/proto/list.pro, src/eval.c, src/proto/eval.pro,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_assign.vim

Patch 8.2.3333
Problem:    Vim9: not enough tests run with Vim9.
Solution:   Run a few more tests in Vim9 script and :def function.
Files:      src/testdir/test_listdict.vim, src/testdir/vim9.vim

Patch 8.2.3334
Problem:    Vim9: not enough tests run with Vim9.
Solution:   Run a few more tests in Vim9 script and :def function. Fix
            islocked().  Fix error for locking local variable.
Files:      src/evalfunc.c, src/vim9compile.c, src/testdir/test_listdict.vim

Patch 8.2.3335
Problem:    Vim9: not enough tests run with Vim9.
Solution:   Run a few more tests in Vim9 script and :def function.  Fix that
            items(), keys() and values() return zero for a NULL dict.
            Make join() return an empty string for a NULL list.  Make sort()
            return an empty list for a NULL list.
Files:      src/dict.c, src/list.c, src/testdir/test_listdict.vim,
            src/testdir/vim9.vim

Patch 8.2.3336
Problem:    Behavior of negative index in list change changed. (Naruhiko
            Nishino)
Solution:   Only change it for Vim9 script. (closes #8749)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.3337
Problem:    Completing "call g:" returns entries with just "g:". (Naohiro Ono)
Solution:   Skip empty strings returned by get_user_func_name(). (closes #8753)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3338
Problem:    Vim9: no type check when assigning a list range. (Naohiro Ono)
Solution:   Check the member type. (closes #8750)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.3339
Problem:    Vim9: cannot lock a member in a local dict.
Solution:   Get the local dict from the stack and pass it to get_lval().
Files:      src/eval.c, src/vim9execute.c, src/vim9compile.c, src/vim9.h,
            src/globals.h, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3340 (after 8.2.3339)
Problem:    Accessing uninitialized pointer.
Solution:   Set pointer to NULL.
Files:      src/eval.c

Patch 8.2.3341
Problem:    Vim9: function call aborted despite try/catch. (Naohiro Ono)
Solution:   Ignore error caught by try/catch. (closes #8755)
Files:      src/evalvars.c, src/vim9execute.c, src/message.c, src/time.c,
            src/globals.h, src/testdir/vim9.vim, src/testdir/test_vim9_func.vim

Patch 8.2.3342 (after 8.2.3341)
Problem:    Test for :let errors fails.
Solution:   Adjust the test and how to avoid a second error message.
Files:      src/evalvars.c, src/testdir/test_let.vim

Patch 8.2.3343 (after 8.2.3342)
Problem:    Vim9: autoload test fails.
Solution:   Adjust the way the second message is avoided
Files:      src/evalvars.c

Patch 8.2.3344 (after 8.2.3343)
Problem:    Vimscript test fails.
Solution:   Have test verify first error instead of second
Files:      src/testdir/test_vimscript.vim

Patch 8.2.3345
Problem:    Some code not covered by tests.
Solution:   Add a few more tests. (Dominique Pellé, closes #8757)
Files:      src/testdir/test_arglist.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_spellfile.vim, src/testdir/test_substitute.vim

Patch 8.2.3346
Problem:    Vim9: no error for using "." for concatenation after ":vim9cmd".
            (Naohiro Ono)
Solution:   Check for Vim9 script syntax. (closes #8756)
Files:      src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3347
Problem:    Check for legacy script is incomplete. (Naohiro Ono)
Solution:   Also check the :legacy modifier.  Use for string concatenation
            with "." and others (issue #8756)
Files:      src/vim9script.c, src/proto/vim9script.pro, src/eval.c,
            src/typval.c, src/evalvars.c, src/errors.h, src/ex_docmd.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3348
Problem:    line2byte() returns wrong value after adding textprop. (Yuto
            Kimura)
Solution:   Reduce the length by the size of the text property. (closes #8759)
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.3349 (after 8.2.3347)
Problem:    Eval test for scriptversion fails.
Solution:   Fix off-by-one error.
Files:      src/vim9script.c

Patch 8.2.3350 (after 8.2.3348)
Problem:    Text properties test fails on MS-Windows.
Solution:   Set fileformat to unix.
Files:      src/testdir/test_textprop.vim

Patch 8.2.3351
Problem:    Vim9: using a function by name may delete it. (Naohiro Ono)
Solution:   Increment the reference count when using a function by name.
            (closes #8760)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.3352
Problem:    Vim9: error for nested :enddef has wrong line number.
Solution:   Compute the line number.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3353
Problem:    Vim9: type of argument for negate not checked at compile time.
Solution:   Add a compile time check.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3354
Problem:    Build failure with +byte_offset but without +textprop. (John
            Marriott)
Solution:   Adjust the #ifdef.
Files:      src/memline.c

Patch 8.2.3355
Problem:    MS-Windows: compiler warning for 64-32 bit conversion.
Solution:   Add type casts.
Files:      src/memline.c

Patch 8.2.3356
Problem:    Adding many text properties requires a lot of function calls.
Solution:   Add the prop_add_list() function. (Yegappan Lakshmanan,
            closes #8751)
Files:      runtime/doc/eval.txt, runtime/doc/textprop.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/textprop.pro,
            src/testdir/test_textprop.vim, src/testdir/test_vim9_builtin.vim,
            src/textprop.c

Patch 8.2.3357
Problem:    Crash when 'virtualedit' is set and window is narrow.
Solution:   Check that width is not zero. (closes #8767)
Files:      src/misc2.c, src/testdir/test_number.vim

Patch 8.2.3358
Problem:    Structurizr files are not recognized.
Solution:   Recognize the file by contents. (Bastian Venthur, closes #8764)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3359
Problem:    Vim9: error for type when variable is not set.
Solution:   Give a specific error for a NULL function. (closes #8773)
Files:      src/vim9type.c, src/errors.h, src/testdir/test_vim9_func.vim

Patch 8.2.3360
Problem:    User function completion fails with dict function.
Solution:   Do not stop sequencing through the list if user functions when
            encountering an empty name. (Naohiro Ono, closes #8765,
            closes #8774)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3361
Problem:    Vim9: crash with nested :while.
Solution:   Handle skipping better. (Naruhiko Nishino, closes #8778)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3362
Problem:    Buffer overflow when completing long tag name.
Solution:   Allocate the buffer dynamically. (Gregory Anders, closes #8769)
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.2.3363
Problem:    When :edit reuses the current buffer the alternate file is set to
            the same buffer.
Solution:   Only set the alternate file when not reusing the buffer.
            (closes #8783)
Files:      src/ex_cmds.c, src/testdir/test_undo.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3364
Problem:    Vim9: crash when :for is skipped.
Solution:   Skip more code generation. (Naruhiko Nishino, closes #8777)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3365
Problem:    Vim9: cannot use option for all operations.
Solution:   Recognize more operations. (closes #8779)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/ex_docmd.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3366
Problem:    Vim9: debugging elseif does not stop before condition.
Solution:   Move debug statement to after the jump. (closes #8781)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3367
Problem:    Vim9: :@r executing a register is inconsistent.
Solution:   Use "@r" as the start of an expression. (issue #8779)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3368
Problem:    Not all Racket files are recognized.
Solution:   Also recognize .rktl and .rktd files. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3369
Problem:    Auto formatting after "cw" leaves cursor in wrong spot.
Solution:   Do not auto-format after the delete. (closes #8789)
Files:      src/ops.c, src/testdir/test_textformat.vim

Patch 8.2.3370
Problem:    Vim9: no check for white space before type in declaration.
            (Naohiro Ono)
Solution:   Check for white space like in a compiled function. (closes #8785)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3371
Problem:    Vim9: :$ENV cannot be followed by ->func() in next line.
Solution:   Use "$ENV" as the start of an expression. (closes #8790)
Files:      src/ex_docmd.c, src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3372
Problem:    line2byte() value wrong when adding a text property. (Yuto Kimura)
Solution:   Adjust length for text property. (closes #8772)  Also fix it for
            deleting a line.
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.3373 (after 8.2.3372)
Problem:    text property test fails on MS-Windows.
Solution:   Set fileformat to "unix"
Files:      src/testdir/test_textprop.vim

Patch 8.2.3374
Problem:    Pyret files are not recognized.
Solution:   Recognize .arr files as Pyret. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3375
Problem:    Using uninitialized memory.
Solution:   Initialize textprop_save_len.
Files:      src/memline.c

Patch 8.2.3376
Problem:    Vim9: no warning that "@r" does not do anything.
Solution:   Give a "no effect" error. (closes #8779)
Files:      src/ex_eval.c, src/proto/ex_eval.pro, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3377
Problem:    Vim9: :disass completion does not understand "s:".
Solution:   Expand "s:" to a pattern. (closes #8780)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3378
Problem:    MS-Windows: completing environment variables with % is wrong.
Solution:   Only complete environment variables with $. (Albert Liu,
            closes #8791)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3379
Problem:    Crash when using NULL job.
Solution:   Copy static string into buffer. (issue #8260)
Files:      src/job.c, src/testdir/test_channel.vim

Patch 8.2.3380
Problem:    Crash when using NULL string for funcref().
Solution:   Check for NULL argument. (issue #8260)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 8.2.3381
Problem:    Crash when using NULL list with sign functions.
Solution:   Handle a NULL list like an empty list. (issue #8260)
Files:      src/globals.h, src/testdir/test_signs.vim

Patch 8.2.3382
Problem:    Crash when getting the type of a NULL partial.
Solution:   Check for NULL. (closes #8260)
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3383
Problem:    Vim9: completion for :disassemble adds parenthesis.
Solution:   Don't add parenthesis. (Naohiro Ono, closes #8802)
Files:      src/userfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3384
Problem:    Cannot disable modeline for an individual file.
Solution:   Recognize "nomodeline" in a modeline. (Hu Jialun, closes #8798)
Files:      runtime/doc/options.txt, src/buffer.c,
            src/testdir/test_modeline.vim

Patch 8.2.3385
Problem:    Escaping for fish shell does not work properly.
Solution:   Insert a backslash before a backslash. (Jason Cox, closes #8810)
Files:      runtime/doc/eval.txt, src/strings.c, src/testdir/test_shell.vim

Patch 8.2.3386
Problem:    Using uninitialized memory.
Solution:   Initialize the rm_ic field. (Dominique Pellé, closes #8800)
Files:      src/indent.c

Patch 8.2.3387
Problem:    Compiler warning for non-static function.
Solution:   Make the function static. (Dominique Pellé, closes #8816)
Files:      src/strings.c

Patch 8.2.3388
Problem:    fnamemodify('path/..', ':p') differs from using 'path/../'. (David
            Briscoe)
Solution:   Include the "/.." in the directory name. (closes #8808)
Files:      src/os_unix.c, src/testdir/test_fnamemodify.vim

Patch 8.2.3389
Problem:    Cannot stop insert mode completion without side effects.
Solution:   Add CTRL-X CTRL-Z. (closes #8821)
Files:      runtime/doc/index.txt, runtime/doc/insert.txt, src/insexpand.c,
            src/testdir/test_ins_complete.vim

Patch 8.2.3390
Problem:    Included xdiff code is outdated.
Solution:   Sync with xdiff in git 2.33. (Christian Brabandt, closes #8431)
Files:      src/diff.c, src/xdiff/README.txt, src/xdiff/xdiff.h,
            src/xdiff/xdiffi.c, src/xdiff/xdiffi.h, src/xdiff/xemit.c,
            src/xdiff/xemit.h, src/xdiff/xhistogram.c, src/xdiff/xinclude.h,
            src/xdiff/xmacros.h, src/xdiff/xpatience.c, src/xdiff/xprepare.h,
            src/xdiff/xtypes.h, src/xdiff/xutils.c, src/xdiff/xutils.h

Patch 8.2.3391
Problem:    Crash with combination of 'linebreak' and other options.
Solution:   Avoid n_extra to become negative. (Christian Brabandt,
            closes #8817)
Files:      src/drawline.c

Patch 8.2.3392
Problem:    augroup completion escapes regexp pattern characters.
Solution:   Do not escape the augroup name. (closes #8826)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3393
Problem:    Escaping for fish shell is skipping some characters.
Solution:   Escape character after backslash if needed. (Jason Cox,
            closes #8827)
Files:      src/strings.c, src/testdir/test_shell.vim

Patch 8.2.3394
Problem:    Filler lines are wrong when changing text in diff mode.
Solution:   Don't change the filler lines on every change.  Check
            scrollbinding when updating the filler lines. (closes #8809)
Files:      src/move.c, src/diff.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_scroll_change_01.dump,
            src/testdir/dumps/Test_diff_scroll_change_02.dump

Patch 8.2.3395
Problem:    Vim9: expression breakpoint not checked in :def function.
Solution:   Always compile a function for debugging if there is an expression
            breakpoint. (closes #8803)
Files:      src/vim9execute.c, src/proto/vim9execute.pro, src/debugger.c,
            src/proto/debugger.pro, src/vim.h, src/vim9.h,
            src/testdir/test_debugger.vim

Patch 8.2.3396
Problem:    When libcall() fails invalid pointer may be used.
Solution:   Initialize the string to NULL. (Yasuhiro Matsumoto, closes #8829)
Files:      src/evalfunc.c

Patch 8.2.3397
Problem:    No test for what 8.2.3391 fixes.
Solution:   Add a test. (Yegappan Lakshmanan, closes #8828)
Files:      src/testdir/test_breakindent.vim

Patch 8.2.3398
Problem:    Html text objects are not fully tested.
Solution:   Add tests for dbcs encoding and different number of backslashes.
            (Dominique Pellé, closes #8831)
Files:      src/testdir/test_textobjects.vim

Patch 8.2.3399
Problem:    Octave files are not recognized.
Solution:   Detect Octave files. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, runtime/doc/filetype.txt,
            runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3400
Problem:    ":z!" is not supported.
Solution:   Make ":z!" work and add tests. (Dominique Pellé, closes #8836)
            Use display height instead of current window height.
Files:      runtime/doc/various.txt, src/ex_cmds.h, src/ex_cmds.c,
            src/testdir/test_ex_z.vim

Patch 8.2.3401
Problem:    Vim9: cannot use a negative count with finddir() and findfile().
Solution:   Adjust the return type. (closes #8776)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3402
Problem:    Invalid memory access when using :retab with large value.
Solution:   Check the number is positive.
Files:      src/indent.c, src/option.c, src/optionstr.c,
            src/testdir/test_retab.vim

Patch 8.2.3403 (after 8.2.3402)
Problem:    Memory leak for :retab with invalid argument.
Solution:   Free the memory.  Make error messages consistent.
Files:      src/indent.c

Patch 8.2.3404
Problem:    Vim9: no error for white space before "(".
Solution:   Give an error, like in a compiled function.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3405
Problem:    Cannot have a comment line in a {} block of a user command.
Solution:   Continue after the line break. (closes #8837)
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 8.2.3406
Problem:    On some systems tests fail without _REENTRANT. (Elimar
            Riesebieter)
Solution:   Add -D_REENTRANT in configure. (closes #7402)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3407
Problem:    Using uninitialized memory with "let g:['bar'] = 2".
Solution:   Initialize v_type of a new dict item.
Files:      src/dict.c

Patch 8.2.3408
Problem:    Can delete a numbered function. (Naohiro Ono)
Solution:   Disallow deleting a numbered function. (closes #8760)
Files:      src/userfunc.c, src/testdir/test_user_func.vim

Patch 8.2.3409
Problem:    Reading beyond end of line with invalid utf-8 character.
Solution:   Check for NUL when advancing.
Files:      src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim

Patch 8.2.3410
Problem:    Crash with linebreak, listchars and large tabstop.
Solution:   Account for different size listchars for a tab. (closes #8841)
Files:      src/drawline.c, src/testdir/test_listlbr_utf8.vim

Patch 8.2.3411
Problem:    Vim9: crash when using base name of import. (Naohiro Ono)
Solution:   Check the import flags. (closes #8843)
Files:      src/evalvars.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.3412 (after 8.2.3411)
Problem:    Vim9: importing the wrong file.
Solution:   Correct the file name.  Delete the file afterwards.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3413
Problem:    Vim9: too many characters are allowed in import name.
Solution:   Disallow ':' and '#', check for white space. (closes #8845)
Files:      src/vim9script.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.3414
Problem:    fullcommand() gives the wrong name if there is a buffer-local user
            command. (Naohiro Ono)
Solution:   Use a separate function to get the user command name.
            (closes #8840)
Files:      src/usercmd.c, src/proto/usercmd.pro, src/ex_docmd.c,
            src/testdir/test_cmdline.vim

Patch 8.2.3415
Problem:    Vim9: Not all function argument types are properly checked.
Solution:   Add and improve argument type checks. (Yegappan Lakshmanan,
            closes #8839)
Files:      src/channel.c, src/digraph.c, src/evalfunc.c, src/terminal.c,
            src/testdir/test_digraph.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.3416
Problem:    Second error is reported while exception is being thrown.
Solution:   Do not check for trailing characters when already aborting.
            (closes #8842)
Files:      src/userfunc.c, src/testdir/test_trycatch.vim

Patch 8.2.3417
Problem:    Vim9: a failing debug expression aborts script sourcing.
Solution:   Do not let expression failure abort script sourcing. (closes #8848)
Files:      src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.3418
Problem:    Garbage collection while evaluating may cause trouble.
Solution:   Disable garbage collection while evaluating an expression.
            (Christian Brabandt, issue #8848)
Files:      src/eval.c

Patch 8.2.3419
Problem:    A failing debug expression may make Vim unusable.
Solution:   Suppress error messages. (closes #8848)
Files:      src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.3420
Problem:    _REENTRANT defined more than once.
Solution:   Fix configure script. (Christian Brabandt, closes #8852)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3421
Problem:    A bit of code is not covered by tests.
Solution:   Add a few more test cases. (Dominique Pellé, closes #8857)
Files:      src/testdir/test_functions.vim, src/testdir/test_history.vim,
            src/testdir/test_startup.vim

Patch 8.2.3422
Problem:    Vim9: no failure if return type differs from returned variable.
Solution:   Copy type when copying a list. (closes #8847)
Files:      src/list.c, src/testdir/test_vim9_func.vim

Patch 8.2.3423
Problem:    Vim9: list += list creates a new list in :def function.
Solution:   Append to the existing list.
Files:      src/structs.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3424
Problem:    A sequence of spaces is hard to see in list mode.
Solution:   Add the "multispace" option to 'listchars'. (closes #8834)
Files:      runtime/doc/options.txt, src/drawline.c, src/message.c,
            src/screen.c, src/structs.h, src/testdir/test_listchars.vim

Patch 8.2.3425
Problem:    Warning for using uninitialized variable.
Solution:   Initialize it. (John Marriott)
Files:      src/screen.c

Patch 8.2.3426
Problem:    Crash when deleting a listener in a listener callback. (Naohiro
            Ono)
Solution:   Mark the listener and delete it later. (closes #8863)
Files:      src/change.c, src/testdir/test_listener.vim

Patch 8.2.3427
Problem:    Double free when list is copied.
Solution:   Allocate the type when making a copy. (closes #8862)
            Clear the type for flattennew().  Avoid a memory leak when
            flattennew() fails.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3428
Problem:    Using freed memory when replacing. (Dhiraj Mishra)
Solution:   Get the line pointer after calling ins_copychar().
Files:      src/normal.c, src/testdir/test_edit.vim

Patch 8.2.3429
Problem:    Leaking memory when assigning to list or dict.
Solution:   Free the list or dict type before overwriting it.
Files:      src/vim9type.c, src/evalvars.c

Patch 8.2.3430
Problem:    No generic way to trigger an autocommand on mode change.
Solution:   Add the ModeChanged autocommand event. (Magnus Gross, closes #8856)
Files:      runtime/doc/autocmd.txt, src/autocmd.c, src/edit.c,
            src/ex_docmd.c, src/ex_getln.c, src/globals.h, src/misc1.c,
            src/normal.c, src/proto/autocmd.pro, src/proto/misc1.pro,
            src/testdir/test_edit.vim, src/vim.h

Patch 8.2.3431
Problem:    Completion for :disas sorts local functions first.
Solution:   Sort local functions last, like with :delfunc. (Naohiro Ono,
            closes #8860)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3432
Problem:    Octave/Matlab filetype detection does not work properly.
Solution:   Update the patterns used for matching. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.3433
Problem:    :delcommand does not take a -buffer option.
Solution:   Add the -buffer option.
Files:      runtime/doc/map.txt, src/usercmd.c, src/errors.h,
            src/testdir/test_usercommands.vim

Patch 8.2.3434 (after 8.2.3430)
Problem:    Function prototype for trigger_modechanged() is incomplete.
Solution:   Add "void".
Files:      src/proto/misc1.pro

Patch 8.2.3435
Problem:    Vim9: dict is not passed to dict function.
Solution:   Keep the dict used until a function call.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3436
Problem:    Check for optional bool type has confusing return type.
Solution:   Explicitly return OK.
Files:      src/typval.c

Patch 8.2.3437
Problem:    Compiler warnings for 32/64 bit usage.
Solution:   Add type casts. (Mike Williams, closes #8870)
Files:      src/screen.c, src/xdiff/xemit.c, src/xdiff/xutils.c

Patch 8.2.3438
Problem:    Cannot manipulate blobs.
Solution:   Add blob2list() and list2blob(). (Yegappan Lakshmanan,
            closes #8868)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/blob.c,
            src/errors.h, src/evalfunc.c, src/proto/blob.pro,
            src/proto/typval.pro, src/testdir/test_blob.vim,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3439
Problem:    Deleted lines go to wrong yank register.
Solution:   Reset y_append when not calling get_yank_register(). (Christian
            Brabandt, closes #8872)
Files:      src/ops.c, src/proto/register.pro, src/register.c,
            src/testdir/test_registers.vim

