
=item temp_release ( FILEHANDLE )

Releases a lock acquired through C<temp_acquire()>. Can be called either with
the C<NAME> mapping used when acquiring the temp file or with the C<FILEHANDLE>
referencing a locked temp file.

Warns if an attempt is made to release a file that is not locked.

The temp file will be truncated before being released. This can help to reduce
disk I/O where the system is smart enough to detect the truncation while data
is in the output buffers. Beware that after the temp file is released and
truncated, any operations on that file may fail miserably until it is
re-acquired. All contents are lost between each release and acquire mapped to
the same string.

=cut

sub temp_release {
	my ($self, $temp_fd, $trunc) = _maybe_self(@_);

	if (exists $TEMP_FILEMAP{$temp_fd}) {
		$temp_fd = $TEMP_FILES{$temp_fd};
	}
	unless ($TEMP_FILES{$temp_fd}{locked}) {
		carp "Attempt to release temp file '",
			$temp_fd, "' that has not been locked";
	}
	temp_reset($temp_fd) if $trunc and $temp_fd->opened;

	$TEMP_FILES{$temp_fd}{locked} = 0;
	undef;
}

sub _temp_cache {
	my ($self, $name) = _maybe_self(@_);

	my $temp_fd = \$TEMP_FILEMAP{$name};
	if (defined $$temp_fd and $$temp_fd->opened) {
		if ($TEMP_FILES{$$temp_fd}{locked}) {
			throw Error::Simple("Temp file with moniker '" .
				$name . "' already in use");
		}
	} else {
		if (defined $$temp_fd) {
			# then we're here because of a closed handle.
			carp "Temp file '", $name,
				"' was closed. Opening replacement.";
		}
		my $fname;

		my $tmpdir;
		if (defined $self) {
			$tmpdir = $self->repo_path();
		}

		my $n = $name;
		$n =~ s/\W/_/g; # no strange chars

		require File::Temp;
		($$temp_fd, $fname) = File::Temp::tempfile(
			"Git_${n}_XXXXXX", UNLINK => 1, DIR => $tmpdir,
			) or throw Error::Simple("couldn't open new temp file");

		$$temp_fd->autoflush;
		binmode $$temp_fd;
		$TEMP_FILES{$$temp_fd}{fname} = $fname;
	}
	$$temp_fd;
}

=item temp_reset ( FILEHANDLE )

Truncates and resets the position of the C<FILEHANDLE>.

=cut

sub temp_reset {
	my ($self, $temp_fd) = _maybe_self(@_);

	truncate $temp_fd, 0
		or throw Error::Simple("couldn't truncate file");
	sysseek($temp_fd, 0, Fcntl::SEEK_SET()) and seek($temp_fd, 0, Fcntl::SEEK_SET())
		or throw Error::Simple("couldn't seek to beginning of file");
	sysseek($temp_fd, 0, Fcntl::SEEK_CUR()) == 0 and tell($temp_fd) == 0
		or throw Error::Simple("expected file position to be reset");
}

=item temp_path ( NAME )

=item temp_path ( FILEHANDLE )

Returns the filename associated with the given tempfile.

=cut

sub temp_path {
	my ($self, $temp_fd) = _maybe_self(@_);

	if (exists $TEMP_FILEMAP{$temp_fd}) {
		$temp_fd = $TEMP_FILEMAP{$temp_fd};
	}
	$TEMP_FILES{$temp_fd}{fname};
}

sub END {
	unlink values %TEMP_FILEMAP if %TEMP_FILEMAP;
}

} # %TEMP_* Lexical Context

=item prefix_lines ( PREFIX, STRING [, STRING... ])

Prefixes lines in C<STRING> with C<PREFIX>.

=cut

sub prefix_lines {
	my $prefix = shift;
	my $string = join("\n", @_);
	$string =~ s/^/$prefix/mg;
	return $string;
}

=item unquote_path ( PATH )

Unquote a quoted path containing c-escapes as returned by ls-files etc.
when not using -z or when parsing the output of diff -u.

=cut

{
	my %cquote_map = (
		"a" => chr(7),
		"b" => chr(8),
		"t" => chr(9),
		"n" => chr(10),
		"v" => chr(11),
		"f" => chr(12),
		"r" => chr(13),
		"\\" => "\\",
		"\042" => "\042",
	);

	sub unquote_path {
		local ($_) = @_;
		my ($retval, $remainder);
		if (!/^\042(.*)\042$/) {
			return $_;
		}
		($_, $retval) = ($1, "");
		while (/^([^\\]*)\\(.*)$/) {
			$remainder = $2;
			$retval .= $1;
			for ($remainder) {
				if (/^([0-3][0-7][0-7])(.*)$/) {
					$retval .= chr(oct($1));
					$_ = $2;
					last;
				}
				if (/^([\\\042abtnvfr])(.*)$/) {
					$retval .= $cquote_map{$1};
					$_ = $2;
					last;
				}
				# This is malformed
				throw Error::Simple("invalid quoted path $_[0]");
			}
			$_ = $remainder;
		}
		$retval .= $_;
		return $retval;
	}
}

=item get_comment_line_char ( )

Gets the core.commentchar configuration value.
The value falls-back to '#' if core.commentchar is set to 'auto'.

=cut

sub get_comment_line_char {
	my $comment_line_char = config("core.commentchar") || '#';
	$comment_line_char = '#' if ($comment_line_char eq 'auto');
	$comment_line_char = '#' if (length($comment_line_char) != 1);
	return $comment_line_char;
}

=item comment_lines ( STRING [, STRING... ])

Comments lines following core.commentchar configuration.

=cut

sub comment_lines {
	my $comment_line_char = get_comment_line_char;
	return prefix_lines("$comment_line_char ", @_);
}

=back

=head1 ERROR HANDLING

All functions are supposed to throw Perl exceptions in case of errors.
See the L<Error> module on how to catch those. Most exceptions are mere
L<Error::Simple> instances.

However, the C<command()>, C<command_oneline()> and C<command_noisy()>
functions suite can throw C<Git::Error::Command> exceptions as well: those are
thrown when the external command returns an error code and contain the error
code as well as access to the captured command's output. The exception class
provides the usual C<stringify> and C<value> (command's exit code) methods and
in addition also a C<cmd_output> method that returns either an array or a
string with the captured command output (depending on the original function
call context; C<command_noisy()> returns C<undef>) and $<cmdline> which
returns the command and its arguments (but without proper quoting).

Note that the C<command_*_pipe()> functions cannot throw this exception since
it has no idea whether the command failed or not. You will only find out
at the time you C<close> the pipe; if you want to have that automated,
use C<command_close_pipe()>, which can throw the exception.

=cut

{
	package Git::Error::Command;

	@Git::Error::Command::ISA = qw(Error);

	sub new {
		my $self = shift;
		my $cmdline = '' . shift;
		my $value = 0 + shift;
		my $outputref = shift;
		my(@args) = ();

		local $Error::Depth = $Error::Depth + 1;

		push(@args, '-cmdline', $cmdline);
		push(@args, '-value', $value);
		push(@args, '-outputref', $outputref);

		$self->SUPER::new(-text => 'command returned error', @args);
	}

	sub stringify {
		my $self = shift;
		my $text = $self->SUPER::stringify;
		$self->cmdline() . ': ' . $text . ': ' . $self->value() . "\n";
	}

	sub cmdline {
		my $self = shift;
		$self->{'-cmdline'};
	}

	sub cmd_output {
		my $self = shift;
		my $ref = $self->{'-outputref'};
		defined $ref or undef;
		if (ref $ref eq 'ARRAY') {
			return @$ref;
		} else { # SCALAR
			return $$ref;
		}
	}
}

=over 4

=item git_cmd_try { CODE } ERRMSG

This magical statement will automatically catch any C<Git::Error::Command>
exceptions thrown by C<CODE> and make your program die with C<ERRMSG>
on its lips; the message will have %s substituted for the command line
and %d for the exit status. This statement is useful mostly for producing
more user-friendly error messages.

In case of no exception caught the statement returns C<CODE>'s return value.

Note that this is the only auto-exported function.

=cut

sub git_cmd_try(&$) {
	my ($code, $errmsg) = @_;
	my @result;
	my $err;
	my $array = wantarray;
	try {
		if ($array) {
			@result = &$code;
		} else {
			$result[0] = &$code;
		}
	} catch Git::Error::Command with {
		my $E = shift;
		$err = $errmsg;
		$err =~ s/\%s/$E->cmdline()/ge;
		$err =~ s/\%d/$E->value()/ge;
		# We can't croak here since Error.pm would mangle
		# that to Error::Simple.
	};
	$err and croak $err;
	return $array ? @result : $result[0];
}


=back

=head1 COPYRIGHT

Copyright 2006 by Petr Baudis E<lt>pasky@suse.czE<gt>.

This module is free software; it may be used, copied, modified
and distributed under the terms of the GNU General Public Licence,
either version 2, or (at your option) any later version.

=cut


# Take raw method argument list and return ($obj, @args) in case
# the method was called upon an instance and (undef, @args) if
# it was called directly.
sub _maybe_self {
	UNIVERSAL::isa($_[0], 'Git') ? @_ : (undef, @_);
}

# Check if the command id is something reasonable.
sub _check_valid_cmd {
	my ($cmd) = @_;
	$cmd =~ /^[a-z0-9A-Z_-]+$/ or throw Error::Simple("bad command: $cmd");
}

# Common backend for the pipe creators.
sub _command_common_pipe {
	my $direction = shift;
	my ($self, @p) = _maybe_self(@_);
	my (%opts, $cmd, @args);
	if (ref $p[0]) {
		($cmd, @args) = @{shift @p};
		%opts = ref $p[0] ? %{$p[0]} : @p;
	} else {
		($cmd, @args) = @p;
	}
	_check_valid_cmd($cmd);

	my $fh;
	if ($^O eq 'MSWin32') {
		# ActiveState Perl
		#defined $opts{STDERR} and
		#	warn 'ignoring STDERR option - running w/ ActiveState';
		$direction eq '-|' or
			die 'input pipe for ActiveState not implemented';
		# the strange construction with *ACPIPE is just to
		# explain the tie below that we want to bind to
		# a handle class, not scalar. It is not known if
		# it is something specific to ActiveState Perl or
		# just a Perl quirk.
		tie (*ACPIPE, 'Git::activestate_pipe', $cmd, @args);
		$fh = *ACPIPE;

	} else {
		my $pid = open($fh, $direction);
		if (not defined $pid) {
			throw Error::Simple("open failed: $!");
		} elsif ($pid == 0) {
			if ($opts{STDERR}) {
				open (STDERR, '>&', $opts{STDERR})
					or die "dup failed: $!";
			} elsif (defined $opts{STDERR}) {
				open (STDERR, '>', '/dev/null')
					or die "opening /dev/null failed: $!";
			}
			_cmd_exec($self, $cmd, @args);
		}
	}
	return wantarray ? ($fh, join(' ', $cmd, @args)) : $fh;
}

# When already in the subprocess, set up the appropriate state
# for the given repository and execute the git command.
sub _cmd_exec {
	my ($self, @args) = @_;
	_setup_git_cmd_env($self);
	_execv_git_cmd(@args);
	die qq[exec "@args" failed: $!];
}

# set up the appropriate state for git command
sub _setup_git_cmd_env {
	my $self = shift;
	if ($self) {
		$self->repo_path() and $ENV{'GIT_DIR'} = $self->repo_path();
		$self->repo_path() and $self->wc_path()
			and $ENV{'GIT_WORK_TREE'} = $self->wc_path();
		$self->wc_path() and chdir($self->wc_path());
		$self->wc_subdir() and chdir($self->wc_subdir());
	}
}

# Execute the given Git command ($_[0]) with arguments ($_[1..])
# by searching for it at proper places.
sub _execv_git_cmd { exec('git', @_); }

sub _is_sig {
	my ($v, $n) = @_;

	# We are avoiding a "use POSIX qw(SIGPIPE SIGABRT)" in the hot
	# Git.pm codepath.
	require POSIX;
	no strict 'refs';
	$v == *{"POSIX::$n"}->();
}

# Close pipe to a subprocess.
sub _cmd_close {
	my $ctx = shift @_;
	foreach my $fh (@_) {
		if (close $fh) {
			# nop
		} elsif ($!) {
			# It's just close, no point in fatalities
			carp "error closing pipe: $!";
		} elsif ($? >> 8) {
			# The caller should pepper this.
			throw Git::Error::Command($ctx, $? >> 8);
		} elsif ($? & 127 && _is_sig($? & 127, "SIGPIPE")) {
			# we might e.g. closed a live stream; the command
			# dying of SIGPIPE would drive us here.
		} elsif ($? & 127 && _is_sig($? & 127, "SIGABRT")) {
			die sprintf('BUG?: got SIGABRT ($? = %d, $? & 127 = %d) when closing pipe',
				    $?, $? & 127);
		} elsif ($? & 127) {
			die sprintf('got signal ($? = %d, $? & 127 = %d) when closing pipe',
				    $?, $? & 127);
		}
	}
}


sub DESTROY {
	my ($self) = @_;
	$self->_close_hash_and_insert_object();
	$self->_close_cat_blob();
}


# Pipe implementation for ActiveState Perl.

package Git::activestate_pipe;

sub TIEHANDLE {
	my ($class, @params) = @_;
	# FIXME: This is probably horrible idea and the thing will explode
	# at the moment you give it arguments that require some quoting,
	# but I have no ActiveState clue... --pasky
	# Let's just hope ActiveState Perl does at least the quoting
	# correctly.
	my @data = qx{git @params};
	bless { i => 0, data => \@data }, $class;
}

sub READLINE {
	my $self = shift;
	if ($self->{i} >= scalar @{$self->{data}}) {
		return undef;
	}
	my $i = $self->{i};
	if (wantarray) {
		$self->{i} = $#{$self->{'data'}} + 1;
		return splice(@{$self->{'data'}}, $i);
	}
	$self->{i} = $i + 1;
	return $self->{'data'}->[ $i ];
}

sub CLOSE {
	my $self = shift;
	delete $self->{data};
	delete $self->{i};
}

sub EOF {
	my $self = shift;
	return ($self->{i} >= scalar @{$self->{data}});
}


1; # Famous last words
                                            usr/share/pixmaps/                                                                                  0000755 0000000 0000000 00000000000 14714551117 012646  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/share/pixmaps/python3.11.xpm                                                                    0000644 0000000 0000000 00000016166 14666157141 015237  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        /* XPM */
static char * pylogo_xpm[] = {
"32 32 316 2",
"  	c None",
". 	c #8DB0CE",
"+ 	c #6396BF",
"@ 	c #4985B7",
"# 	c #4181B5",
"$ 	c #417EB2",
"% 	c #417EB1",
"& 	c #4D83B0",
"* 	c #6290B6",
"= 	c #94B2CA",
"- 	c #70A1C8",
"; 	c #3D83BC",
"> 	c #3881BD",
", 	c #387DB6",
"' 	c #387CB5",
") 	c #387BB3",
"! 	c #3779B0",
"~ 	c #3778AE",
"{ 	c #3776AB",
"] 	c #3776AA",
"^ 	c #3775A9",
"/ 	c #4A7FAC",
"( 	c #709FC5",
"_ 	c #3A83BE",
": 	c #5795C7",
"< 	c #94B9DB",
"[ 	c #73A4CE",
"} 	c #3D80B7",
"| 	c #387CB4",
"1 	c #377AB2",
"2 	c #377AB0",
"3 	c #3777AC",
"4 	c #3774A7",
"5 	c #3773A5",
"6 	c #3C73A5",
"7 	c #4586BB",
"8 	c #4489C1",
"9 	c #A7C7E1",
"0 	c #F7F9FD",
"a 	c #E1E9F1",
"b 	c #4C89BC",
"c 	c #3779AF",
"d 	c #3778AD",
"e 	c #3873A5",
"f 	c #4B7CA4",
"g 	c #3982BE",
"h 	c #4389C1",
"i 	c #A6C6E1",
"j 	c #F6F9FC",
"k 	c #D6E4F0",
"l 	c #4A88BB",
"m 	c #3773A6",
"n 	c #366F9F",
"o 	c #366E9D",
"p 	c #376E9C",
"q 	c #4A8BC0",
"r 	c #79A7CD",
"s 	c #548EBD",
"t 	c #387AB0",
"u 	c #3773A4",
"v 	c #366D9C",
"w 	c #387FBA",
"x 	c #387DB7",
"y 	c #387BB4",
"z 	c #3775A8",
"A 	c #366FA0",
"B 	c #4981AF",
"C 	c #427BAA",
"D 	c #3772A4",
"E 	c #376B97",
"F 	c #77A3C8",
"G 	c #4586BC",
"H 	c #3882BE",
"I 	c #3B76A7",
"J 	c #3B76A6",
"K 	c #366E9E",
"L 	c #376B98",
"M 	c #376B96",
"N 	c #5681A3",
"O 	c #F5EEB8",
"P 	c #FFED60",
"Q 	c #FFE85B",
"R 	c #FFE659",
"S 	c #FDE55F",
"T 	c #5592C4",
"U 	c #3A83BF",
"V 	c #3882BD",
"W 	c #387FB9",
"X 	c #3779AE",
"Y 	c #366F9E",
"Z 	c #366C98",
"` 	c #376A94",
" .	c #5D85A7",
"..	c #F5EDB7",
"+.	c #FFEA5D",
"@.	c #FFE75A",
"#.	c #FFE354",
"$.	c #FDDD56",
"%.	c #669DC8",
"&.	c #3885C3",
"*.	c #3884C2",
"=.	c #387EB8",
"-.	c #387CB6",
";.	c #377AB1",
">.	c #3772A3",
",.	c #366D9B",
"'.	c #F5EBB5",
").	c #FFE557",
"!.	c #FFE455",
"~.	c #FFDF50",
"{.	c #FFDB4C",
"].	c #FAD862",
"^.	c #8EB4D2",
"/.	c #3C86C1",
"(.	c #3883C0",
"_.	c #3882BF",
":.	c #3881BC",
"<.	c #3880BB",
"[.	c #3775AA",
"}.	c #F5EAB3",
"|.	c #FFE051",
"1.	c #FFDE4F",
"2.	c #FFDA4A",
"3.	c #FED446",
"4.	c #F5DF9D",
"5.	c #77A5CA",
"6.	c #3885C2",
"7.	c #387BB2",
"8.	c #6B8EA8",
"9.	c #F8E7A1",
"0.	c #FFE153",
"a.	c #FFDD4E",
"b.	c #FFDB4B",
"c.	c #FFD746",
"d.	c #FFD645",
"e.	c #FFD342",
"f.	c #F6DB8D",
"g.	c #508DBE",
"h.	c #3771A3",
"i.	c #376A95",
"j.	c #3D6F97",
"k.	c #C3CBC2",
"l.	c #FBD964",
"m.	c #FFDC4D",
"n.	c #FFD544",
"o.	c #FFD040",
"p.	c #F9CF58",
"q.	c #3F83BB",
"r.	c #376B95",
"s.	c #3A6C95",
"t.	c #4E7BA0",
"u.	c #91AABC",
"v.	c #F6E4A3",
"w.	c #FFDA4B",
"x.	c #FFD646",
"y.	c #FFD443",
"z.	c #FFD241",
"A.	c #FFCE3D",
"B.	c #FFCC3B",
"C.	c #FCC83E",
"D.	c #3880BC",
"E.	c #3C79AC",
"F.	c #5F8DB4",
"G.	c #7AA0C0",
"H.	c #82A6C3",
"I.	c #82A3BF",
"J.	c #82A2BE",
"K.	c #82A1BB",
"L.	c #82A1B9",
"M.	c #8BA4B5",
"N.	c #C1C5AE",
"O.	c #F2E19F",
"P.	c #FDD74C",
"Q.	c #FFD94A",
"R.	c #FFD343",
"S.	c #FFCE3E",
"T.	c #FFCB39",
"U.	c #FFC937",
"V.	c #FEC636",
"W.	c #3D79AB",
"X.	c #9DB6C6",
"Y.	c #D0CFA2",
"Z.	c #EFE598",
"`.	c #F8EE9B",
" +	c #F8EB97",
".+	c #F8E996",
"++	c #F8E894",
"@+	c #FAE489",
"#+	c #FCDB64",
"$+	c #FFDA4D",
"%+	c #FFCF3E",
"&+	c #FFCB3A",
"*+	c #FFC734",
"=+	c #FFC532",
"-+	c #3F82B7",
";+	c #387EB9",
">+	c #9EB9D0",
",+	c #F2E287",
"'+	c #FDEB69",
")+	c #FEEC60",
"!+	c #FFEB5E",
"~+	c #FFE254",
"{+	c #FFE152",
"]+	c #FFD747",
"^+	c #FFC633",
"/+	c #FCC235",
"(+	c #578FBE",
"_+	c #6996BC",
":+	c #DED9A8",
"<+	c #FEEC62",
"[+	c #FFE658",
"}+	c #FFDF51",
"|+	c #FFDE50",
"1+	c #FFD03F",
"2+	c #FFCD3C",
"3+	c #FFC431",
"4+	c #FFBF2C",
"5+	c #FAC244",
"6+	c #85AACA",
"7+	c #A1BBD2",
"8+	c #F7E47C",
"9+	c #FFE456",
"0+	c #FFC735",
"a+	c #FFBC29",
"b+	c #F7D280",
"c+	c #9DBAD2",
"d+	c #3B7CB2",
"e+	c #ABC2D6",
"f+	c #FDEB7B",
"g+	c #FFC12E",
"h+	c #FDBD30",
"i+	c #F4DEA8",
"j+	c #5F91BA",
"k+	c #ABC1D4",
"l+	c #FDEE7E",
"m+	c #FFE253",
"n+	c #FFCC3C",
"o+	c #FFBA27",
"p+	c #FAC75B",
"q+	c #4A82B0",
"r+	c #3877AB",
"s+	c #3774A6",
"t+	c #AAC0D4",
"u+	c #FDEE7D",
"v+	c #FFEC5F",
"w+	c #FFE255",
"x+	c #FFD848",
"y+	c #FFD444",
"z+	c #FFCF3F",
"A+	c #FFBC2A",
"B+	c #FFBB28",
"C+	c #FDBA32",
"D+	c #447AA8",
"E+	c #4379A7",
"F+	c #FFE95C",
"G+	c #FFE558",
"H+	c #FFE355",
"I+	c #FED84B",
"J+	c #FCD149",
"K+	c #FBCE47",
"L+	c #FBCD46",
"M+	c #FBC840",
"N+	c #FBC63E",
"O+	c #FBC037",
"P+	c #FAC448",
"Q+	c #FDD44C",
"R+	c #FCD14E",
"S+	c #FFC836",
"T+	c #FFC22F",
"U+	c #FFC02D",
"V+	c #FFE052",
"W+	c #FFC636",
"X+	c #FFCF5C",
"Y+	c #FFD573",
"Z+	c #FFC33E",
"`+	c #FEBD2D",
" @	c #FFDB4D",
".@	c #FFD949",
"+@	c #FFD545",
"@@	c #FFD140",
"#@	c #FFCB48",
"$@	c #FFF7E4",
"%@	c #FFFCF6",
"&@	c #FFE09D",
"*@	c #FFBA2E",
"=@	c #FDBE2F",
"-@	c #FFD748",
";@	c #FFCA38",
">@	c #FFC844",
",@	c #FFF2D7",
"'@	c #FFF9EC",
")@	c #FFDB94",
"!@	c #FFB92D",
"~@	c #FAC54D",
"{@	c #FDD54E",
"]@	c #FFBD2D",
"^@	c #FFC858",
"/@	c #FFD174",
"(@	c #FFBF3E",
"_@	c #FCBD3C",
":@	c #FAD66A",
"<@	c #FECD3F",
"[@	c #FFC330",
"}@	c #FFBD2A",
"|@	c #FFB724",
"1@	c #FFB521",
"2@	c #FFB526",
"3@	c #FBC457",
"4@	c #F7E09E",
"5@	c #F8D781",
"6@	c #FAC349",
"7@	c #FCC134",
"8@	c #FEBE2C",
"9@	c #FBBE3F",
"0@	c #F7CF79",
"a@	c #F5D795",
"                      . + @ # $ % % & * =                       ",
"                  - ; > > , ' ) ! ~ { ] ^ /                     ",
"                ( _ : < [ } | 1 2 ~ 3 4 5 5 6                   ",
"                7 8 9 0 a b 2 c d 3 { 5 5 5 e f                 ",
"                g h i j k l c ~ { { m 5 5 n o p                 ",
"                > > q r s t c c d 4 5 u n v v v                 ",
"                w x ' y 2 c d d z 5 u A v v v v                 ",
"                              B C 5 D v v v v E                 ",
"      F G H H H x ' ) c c c d I J 5 K v v L M N O P Q R S       ",
"    T U H V V W ' ) c c X ~ 5 5 5 Y v v Z ` `  ...+.@.#.#.$.    ",
"  %.&.*.> w W =.-.;.c 3 { ^ 5 5 >.o v ,.E ` `  .'.).!.#.~.{.].  ",
"^./.(._.:.<., ' ) ;.X d [.5 5 >.K v ,.E ` ` `  .}.#.|.1.{.2.3.4.",
"5.6.(.H H x ' 7.c c 3 3 4 5 D K v v ,.` ` ` ` 8.9.0.a.b.c.d.e.f.",
"g._.> <.w ' ' | 2 3 { z 5 5 h.v v v i.` ` ` j.k.l.m.{.d.n.e.o.p.",
"q.> > :.-.' 1 c c c ] 5 5 >.v v ,.r.` ` s.t.u.v.{.w.x.y.z.A.B.C.",
"D.D.w -.' 1 c c c E.F.G.H.I.J.J.K.L.L.L.M.N.O.P.Q.c.R.S.B.T.U.V.",
"D.D.=.' ' 1 c c W.X.Y.Z.`.`.`.`.`. +.+++@+#+$+Q.d.R.%+B.&+*+=+=+",
"-+;+-.' ;.2 c c >+,+'+)+P P P !+Q R ~+{+1.{.]+d.y.%+B.&+^+=+=+/+",
"(+' ' ;.c X X _+:+<+P P P P !+R [+~+}+|+{.]+n.R.1+2+&+^+=+3+4+5+",
"6+' ) ! ~ { { 7+8+P P P P !+R 9+#.{+{.w.]+y.z.S.&+0+=+=+3+4+a+b+",
"c+d+7.! d 3 z e+f+P P P !+R 9+#.{+m.{.]+y.1+B.&+0+=+=+g+4+a+h+i+",
"  j+c d 3 { 4 k+l+P P !+@.9+m+1.m.{.]+y.1+n+B.*+=+=+g+a+a+o+p+  ",
"    q+r+{ s+m t+u+v+@.R w+{+}+{.x+d.y+z+n+B.0+=+=+g+A+a+B+C+    ",
"      * D+E+E+  +.F+G+H+}+}+{.I+J+K+L+M+M+M+M+N+O+O+O+O+P+      ",
"                ).).#.{+a.{.x+Q+R+                              ",
"                #.m+1.a.{.x+y.o.2+B.S+=+=+T+U+O+                ",
"                0.V+{.{.x+n.o.2+B.B.W+X+Y+Z+a+`+                ",
"                 @{..@+@n.@@B.B.S+^+#@$@%@&@*@=@                ",
"                ].-@x.y.o.%+;@S+=+=+>@,@'@)@!@~@                ",
"                  {@z.z+2+U.=+=+=+T+]@^@/@(@_@                  ",
"                    :@<@U.=+=+[@4+}@|@1@2@3@                    ",
"                      4@5@6@7@8@a+a+9@0@a@                      "};
                                                                                                                                                                                                                                                                                                                                                                                                          usr/share/pixmaps/python3.xpm                                                                       0000777 0000000 0000000 00000000000 14414510722 017341  2python3.11.xpm                                                                                      ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/share/python3/                                                                                  0000755 0000000 0000000 00000000000 14714551117 012571  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/share/python3/__pycache__/                                                                      0000755 0000000 0000000 00000000000 14714551117 015001  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/share/python3/__pycache__/py3versions.cpython-311.pyc                                           0000644 0000000 0000000 00000046775 14714551117 022032  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        §
    Ò‘2d2  ã                   óT  — d dl Z d dlZd dlZdadadad„ e j                             dd¦  «                             d¦  «        D ¦   «         a	da
dd„Zd„ Zd„ Zdd
„Zdd„Zdd„Zdd„Zdd„Zdd„Zdd„Z G d„ de¦  «        Z G d„ de¦  «        Zd„ Z	 d„ Zedk    r e¦   «          dS dS )é    Nc                 ód   — g | ]-}|                      ¦   «         ¯d |                      ¦   «         z  ‘Œ.S ©zpython%s©Ústrip©Ú.0Úvers     ú!/usr/share/python3/py3versions.pyú
<listcomp>r   
   sA   € ğ 'ğ 'ğ '°CàŸ)š)™+œ+ğ'z C§I¢I¡K¤KÑ/ğ 'ğ 'ğ 'ó    ÚDEBPYTHON3_SUPPORTEDÚ ú,c                 óZ  — ddl m}m} t          sct          j                             d¦  «        rD |¦   «         }t          d¦  «        }|                     |¦  «         | 	                    ¦   «          |at          r1| r/	 t           
                    d| ¦  «        }n# |$ r t          ‚w xY w|S d S )Nr   )ÚConfigParserÚNoOptionErrorz"/usr/share/python3/debian_defaultsÚDEFAULT)Úconfigparserr   r   Ú	_defaultsÚosÚpathÚexistsÚopenÚ	read_fileÚcloseÚgetÚ
ValueError)Únamer   r   ÚconfigÚdefaultsfileÚvalues         r
   Úread_defaultr"      sÑ   € à8Ğ8Ğ8Ğ8Ğ8Ğ8Ğ8Ğ8İğ İŒ7>Š>Ğ>Ñ?Ô?ğ 	Ø!\‘^”^ˆFİĞ DÑEÔEˆLØ×Ò˜\Ñ*Ô*Ğ*Ø×ÒÑ Ô Ğ ØˆIåğ Tğ ğ	İ—M’M )¨TÑ2Ô2ˆEˆEøØğ 	ğ 	ğ 	İĞğ	øøøàˆØˆ4s   Á=B ÂB&c                 óZ   — t          d„ |                      d¦  «        D ¦   «         ¦  «        S )Nc              3   ó4   K  — | ]}t          |¦  «        V — Œd S ©N)Úint)r   Úparts     r
   ú	<genexpr>z#version_to_tuple.<locals>.<genexpr>(   s(   è è € Ğ:Ğ:˜t•T‘”Ğ:Ğ:Ğ:Ğ:Ğ:Ğ:r   ú.)ÚtupleÚsplit)Úversions    r
   Úversion_to_tupler-   '   s+   € İĞ:Ğ: w§}¢}°SÑ'9Ô'9Ğ:Ñ:Ô:Ñ:Ô:Ğ:r   c                 óŞ  ‡‡— t          |                      d¦  «        ¦  «        dk    rt          d¦  «        ‚dd l}|j        |j        |j        |j        |j        dœ}i }t          ¦   «         }t          t          d¬¦  «        ¦  «        }d}|                      d¦  «        D ]'}| 
                    ¦   «         }|d	k    rŒ|d
v rŒ#|                     dt          ¦   «         ¦  «         t          j        d¦  «        }|                     |¦  «        }		 |	st          d¦  «        ‚|	                     d¦  «        |	                     d¦  «        c}
Š‰                     d¦  «        \  }}t!          |¦  «        dk     rŒ×|
dv r|                     ‰¦  «         nd}||
         Šˆˆfd„|D ¦   «         }Œ# t$          $ r t          d¦  «        ‚w xY wd|v r||d<   |r|                     |¦  «        |d<   |S )Nr   é   zDtoo many arguments provided for X-Python3-Version: min and max only.r   )Nú=z>=z<=z<<T©Úversion_onlyFÚall)ÚcurrentÚcurrent_extÚversionsz(>=|<=|<<|=)? *(\d\.\d+)$z'error parsing Python3-Version attributeé   r)   é   )Nr0   c                 ó`   •— g | ]*} ‰t          |¦  «        t          ‰¦  «        ¦  «        ¯(|‘Œ+S © ©r-   )r   ÚavÚfiltopÚvs     €€r
   r   z"parse_versions.<locals>.<listcomp>K   sW   ø€ ğ !@ğ !@ğ !@¨¸v¸vİ$ RÑ(Ô(Õ*:¸1Ñ*=Ô*=ñ@?ô @?ğ !@ ğ !@ğ !@ğ !@r   )Úlenr+   r   ÚoperatorÚeqÚgeÚleÚltÚsetÚsupported_versionsr   Ú
setdefaultÚreÚcompileÚmatchÚgroupr&   ÚaddÚ	ExceptionÚunion)Úvstringr@   Ú	operatorsÚvinfoÚexact_versionsÚversion_rangeÚ
relop_seenÚfieldÚveÚmÚopÚvmajÚvminr=   r>   s                @@r
   Úparse_versionsr[   +   s:  øø€ İ
ˆ7=Š=˜ÑÔÑÔ Ò"Ğ"İĞ_Ñ`Ô`Ğ`Ø€O€O€OØ”{¨¬Ø”{¨(¬+Ø”{ğ$ğ $€Iğ €Eİ‘U”U€NİÕ*¸Ğ=Ñ=Ô=Ñ>Ô>€MØ€JØ—’˜sÑ#Ô#ğ Hñ HˆØ—’‘”ˆØEŠ>ˆ>ØØĞ.Ğ.Ğ.ØØ×Ò˜¥S¡U¤UÑ+Ô+Ğ+İŒZĞ4Ñ5Ô5ˆØHŠHU‰OŒOˆğ	HØğ Lİ Ğ!JÑKÔKĞKØ—G’G˜A‘J”J §¢¨¡
¤
ˆEˆBØŸš ™œ‰JˆD$İ4‰yŒy˜1Š}ˆ}ØØ[Ğ Ğ Ø×"Ò" 1Ñ%Ô%Ğ%Ğ%à!
Ø" 2œğ!@ğ !@ğ !@ğ !@ğ !@¨mğ !@ñ !@ô !@ùøåğ 	Hğ 	Hğ 	HİĞFÑGÔGĞGğ	HøøøàUĞĞØ*ˆˆjÑØğ 	DØ .× 4Ò 4°]Ñ CÔ CˆE*ÑØ€Ls   ÄA'F-Å83F-Æ-GFc                 óÈ   — t           sB	 t          d¦  «        }d„ |                     d¦  «        D ¦   «         a n# t          $ r g a Y nw xY w| rd„ t           D ¦   «         S t           S )Nzold-versionsc                 ó6   — g | ]}|                      ¦   «         ‘ŒS r:   r   ©r   Úss     r
   r   z old_versions.<locals>.<listcomp>[   s    € ĞAĞAĞA¨1˜QŸWšW™YœYĞAĞAĞAr   r   c                 ó"   — g | ]}|d d…         ‘ŒS ©é   Nr:   ©r   r>   s     r
   r   z old_versions.<locals>.<listcomp>_   s    € Ğ-Ğ-Ğ-˜!!""”Ğ-Ğ-Ğ-r   )Ú_old_versionsr"   r+   r   ©r2   r!   s     r
   Úold_versionsrf   V   sƒ   € åğ ğ	İ  Ñ0Ô0ˆEØAĞA°·²¸CÑ0@Ô0@ĞAÑAÔAˆMˆMøİğ 	ğ 	ğ 	ØˆMˆMˆMğ	øøøàğ Ø-Ğ-}Ğ-Ñ-Ô-Ğ-åĞó   ‰.8 ¸AÁAc                 óÈ   — t           sB	 t          d¦  «        }d„ |                     d¦  «        D ¦   «         a n# t          $ r g a Y nw xY w| rd„ t           D ¦   «         S t           S )Nzunsupported-versionsc                 ó6   — g | ]}|                      ¦   «         ‘ŒS r:   r   r^   s     r
   r   z(unsupported_versions.<locals>.<listcomp>i   s    € Ğ$IĞ$IĞ$I°1 Q§W¢W¡Y¤YĞ$IĞ$IĞ$Ir   r   c                 ó"   — g | ]}|d d…         ‘ŒS ra   r:   rc   s     r
   r   z(unsupported_versions.<locals>.<listcomp>m   s    € Ğ5Ğ5Ğ5˜!!""”Ğ5Ğ5Ğ5r   )Ú_unsupported_versionsr"   r+   r   re   s     r
   Úunsupported_versionsrl   d   sŠ   € å ğ 'ğ	'İ Ğ!7Ñ8Ô8ˆEØ$IĞ$I¸¿ºÀCÑ8HÔ8HĞ$IÑ$IÔ$IĞ!Ğ!øİğ 	'ğ 	'ğ 	'Ø$&Ğ!Ğ!Ğ!ğ	'øøøàğ %Ø5Ğ5Õ4Ğ5Ñ5Ô5Ğ5å$Ğ$rg   c                 ó€  — t          ¦   «          t          s%	 t          d¦  «        }d„ |                     d¦  «        D ¦   «         anõ# t          $ rè g d¢}	 dd l}|                     |dd|j        ¬¦  «        }|j        }n7# t          $ r* t          j        d	                     |¦  «        ¦  «        }Y nw xY wd }|D ]X}|                     d
¦  «        rA|                     dd¦  «        d                              ¦   «                              d¦  «        }ŒY|                     ¦   «          d„ |D ¦   «         }|aY nw xY wt                               t                               t$          ¦  «        ¦  «        }t                               ¦   «          t                               |¦  «         | rd„ t          D ¦   «         S t          S )Nzsupported-versionsc                 ó6   — g | ]}|                      ¦   «         ‘ŒS r:   r   r^   s     r
   r   z&supported_versions.<locals>.<listcomp>x   s    € Ğ"GĞ"GĞ"G° 1§7¢7¡9¤9Ğ"GĞ"GĞ"Gr   r   )z/usr/bin/apt-cachez--no-all-versionsÚshowzpython3-allr   r7   F)ÚbufsizeÚshellÚstdoutú zDepends:ú:c                 ó:   — g | ]}t          j        d d|¦  «        ‘ŒS )z\s*(\S+)[ (]?.*z\1)rH   Úsubr^   s     r
   r   z&supported_versions.<locals>.<listcomp>ˆ   s'   € ĞMĞMĞMÀ•r”vĞ0°%¸Ñ;Ô;ĞMĞMĞMr   c                 ó"   — g | ]}|d d…         ‘ŒS ra   r:   rc   s     r
   r   z&supported_versions.<locals>.<listcomp>   s    € Ğ3Ğ3Ğ3˜!!""”Ğ3Ğ3Ğ3r   )Údefault_versionÚ_supported_versionsr"   r+   r   Ú
subprocessÚPopenÚPIPErr   ÚImportErrorr   ÚpopenÚjoinÚ
startswithr   r   ÚpopÚindexÚ_default_versionÚsortÚappend)	r2   r!   Úcmdrz   ÚpÚfdÚdependsÚlineÚdefaults	            r
   rF   rF   r   sé  € åÑÔĞİñ *ğ	*İ Ğ!5Ñ6Ô6ˆEØ"GĞ"G°e·k²kÀ#Ñ6FÔ6FĞ"GÑ"GÔ"GĞĞøİğ 	*ğ 	*ğ 	*ğ*ğ *ğ *ˆCğ-Ø!Ğ!Ğ!Ğ!Ø×$Ò$ S°!Ø+0¸¼ğ %ñ Jô Jà”Xøİğ -ğ -ğ -İ”X˜cŸhšh s™mœmÑ,Ô,ğ-øøøàˆGØğ Gğ GØ—?’? :Ñ.Ô.ğ GØ"Ÿjšj¨¨aÑ0Ô0°Ô3×9Ò9Ñ;Ô;×AÒAÀ#ÑFÔFGøØHŠH‰JŒJˆJØMĞMÀWĞMÑMÔMˆGØ")ĞĞĞğ!	*øøøõ" "×%Ò%Õ&9×&?Ò&?Õ@PÑ&QÔ&QÑRÔR€Gİ×ÒÑÔĞİ×Ò˜wÑ'Ô'Ğ'Øğ #Ø3Ğ3Õ2Ğ3Ñ3Ô3Ğ3å"Ğ"s6   ˜.A ÁD9Á)B Á?D9Â 1B4Â1D9Â3B4Â4BD9Ä8D9c                 ó   — t           st          j        d¦  «        a t          d¦  «        }t           |t          j                             d|¦  «        fvrt          d|z  ¦  «        ‚|a | rt           dd …         S t           S )Nz/usr/bin/python3zdefault-versionz/usr/binzkthe symlink /usr/bin/python3 does not point to the python3 default version. It must be reset to point to %srb   )rƒ   r   Úreadlinkr"   r   r   r   )r2   Údebian_defaults     r
   rx   rx   “   s   € åğ ;İœ;Ğ'9Ñ:Ô:Ğå!Ğ"3Ñ4Ô4€Nİ µ´·²¸ZÈÑ0XÔ0XĞYĞYĞYİğ *à,:ñ;ñ <ô <ğ 	<ğ &ĞØğ  İ   Ô#Ğ#åĞr   c                 ó,  — t          ¦   «          d }t          | ¦  «        }t          d¬¦  «        }t          |¦  «        dk    r£|d                              |¦  «        }g }|D ]}|                     |¦  «         Œ	 |                     |                     t          dd …         ¦  «        ¦  «        }n	#  d}Y nxY w| 	                    ¦   «          |r|                     |¦  «         nt          d¦  «        ‚|st          d¦  «        ‚|r|S d	„ |D ¦   «         S )
NTr1   r7   r6   rb   r   z/No supported python3 versions in version stringzempty set of versionsc                 ó   — g | ]}d |z  ‘ŒS r   r:   rc   s     r
   r   z&requested_versions.<locals>.<listcomp>¼   s   € Ğ+Ğ+Ğ+ 1
˜Q‘Ğ+Ğ+Ğ+r   )rx   r[   rF   r?   Úintersectionr…   r   r‚   rƒ   r„   r   )rO   r2   r6   rQ   Ú	supportedÚvlr,   r‹   s           r
   Úrequested_versionsr”   ¤   s*  € åÑÔĞØ€Hİ˜7Ñ#Ô#€Eİ"°Ğ5Ñ5Ô5€Iİ
ˆ5z„zQ‚€Ø˜Ô$×1Ò1°)Ñ<Ô<ˆØˆØĞ3Ğ3ˆG §¢¨7Ñ!3Ô!3Ğ!3Ğ!3ğ	Ø—f’f˜RŸXšXÕ&6°q°r°rÔ&:Ñ;Ô;Ñ<Ô<ˆGˆGøğ	ØˆGˆGˆGøøøØ
Š‰	Œ	ˆ	Øğ 	ØIŠIgÑÔĞøåĞJÑKÔKĞKØğ 2İĞ0Ñ1Ô1Ğ1Øğ ,Øˆ	à+Ğ+¨Ğ+Ñ+Ô+Ğ+s   Á;5B1 Â1B7c                 óŞ   ‡— dd l }t          ¦   «         Šˆfd„|                      d¦  «        |                      d¦  «        z   D ¦   «         }|                     ¦   «          | rd„ |D ¦   «         S |S )Nr   c                 ó   •— g | ]B}t           j                             |¦  «        ‰v ¯#t           j                             |¦  «        ‘ŒCS r:   )r   r   Úbasename)r   r_   r’   s     €r
   r   z&installed_versions.<locals>.<listcomp>Â   sN   ø€ ğ 5ğ 5ğ 5Øİ”7×#Ò# AÑ&Ô&¨)Ğ3Ğ3õ ”× Ò  Ñ#Ô#à3Ğ3Ğ3r   z/usr/bin/python3.[0-9]z/usr/bin/python3.[0-9][0-9]c                 ó"   — g | ]}|d d…         ‘ŒS ra   r:   rc   s     r
   r   z&installed_versions.<locals>.<listcomp>Ç   s    € Ğ(Ğ(Ğ(˜!!""”Ğ(Ğ(Ğ(r   )ÚglobrF   r„   )r2   r™   r6   r’   s      @r
   Úinstalled_versionsrš   ¿   s   ø€ Ø€K€K€Kİ"Ñ$Ô$€Iğ5ğ 5ğ 5ğ 5ØŸšĞ#;Ñ<Ô<¸t¿yºyĞIfÑ?gÔ?gÑgğ5ñ 5ô 5€Hğ ‡M‚MO„O€OØğ Ø(Ğ(˜xĞ(Ñ(Ô(Ğ(àˆr   c                 óf   — t          d¦  «        } | d„ |D ¦   «         ¦  «        }d|z  }|r|S d|z   S )NTc              3   ó4   K  — | ]}t          |¦  «        V — Œd S r%   r;   r   s     r
   r(   z+minmax_supported_version.<locals>.<genexpr>Î   s+   è è € ĞNĞN¨sÕ% cÑ*Ô*ĞNĞNĞNĞNĞNĞNr   z%d.%dÚpython)rF   )Úminmaxr2   Úsupported_versions_listr,   Úversion_strs        r
   Úminmax_supported_versionr¡   Ì   sR   € İ0°Ñ6Ô6ĞØˆfĞNĞNĞ6MĞNÑNÔNÑNÔN€GØ˜GÑ#€KØğ &ØĞà˜+Ñ%Ğ%r   c                   ó   — e Zd ZdS )ÚControlFileValueErrorN©Ú__name__Ú
__module__Ú__qualname__r:   r   r
   r£   r£   Ö   ó   € € € € € Ø€Dr   r£   c                   ó   — e Zd ZdS )ÚMissingVersionValueErrorNr¤   r:   r   r
   rª   rª   Ú   r¨   r   rª   c                 óB  — d}d}d}t          | d¬¦  «        5 }d„ |D ¦   «         }ddd¦  «         n# 1 swxY w Y   |D ]¶}|dk    r|dk    r|dk    r n¡d}Œ|                     d¦  «        rd}Œ1|                     d|z   ¦  «        r|}ŒL|                     ¦   «                              d	¦  «        rC|dk    rt          d
¦  «        ‚|                     dd¦  «        d                              ¦   «         }Œ·|€t          d¦  «        ‚|dk    r|€t          d¦  «        ‚|S |S )zFread the debian/control file, extract the X-Python3-Version
    field.Nzutf-8)Úencodingc                 ó6   — g | ]}|                      ¦   «         ‘ŒS r:   r   )r   rŠ   s     r
   r   z/extract_pyversion_attribute.<locals>.<listcomp>æ   s    € Ğ6Ğ6Ğ6 $—’‘”Ğ6Ğ6Ğ6r   r   ÚSourcezSource:z	Package: zx-python3-version:z1attribute X-Python3-Version not in Source sectionrt   r7   znot a control filez$no X-Python3-Version in control file)r   r€   Úlowerr   r+   r   r£   rª   )ÚfnÚpkgr,   ÚsversionÚsectionÚcontrolfileÚlinesrŠ   s           r
   Úextract_pyversion_attributer¶   Ş   s•  € ğ €GØ€HØ€Gİ	ˆb˜7Ğ	#Ñ	#Ô	#ğ 7 {Ø6Ğ6¨+Ğ6Ñ6Ô6ˆğ7ğ 7ğ 7ñ 7ô 7ğ 7ğ 7ğ 7ğ 7ğ 7ğ 7øøøğ 7ğ 7ğ 7ğ 7àğ 5ğ 5ˆØ2Š:ˆ:˜' Tš/˜/ØhŠˆØØˆGˆGØ_Š_˜YÑ'Ô'ğ 	5ØˆGˆGØ_Š_˜[¨3Ñ.Ñ/Ô/ğ 	5ØˆGˆGØZŠZ‰\Œ\×$Ò$Ğ%9Ñ:Ô:ğ 	5Ø˜(Ò"Ğ"İ Ğ!TÑUÔUĞUØ—z’z # qÑ)Ô)¨!Ô,×2Ò2Ñ4Ô4ˆHøØ€İ#Ğ$8Ñ9Ô9Ğ9Ø
ˆh‚€ØĞİ*Ğ+QÑRÔRĞRØˆØ€Ns   ˜1±5¸5c                  ó	  — ddl m}  d}	  | |¬¦  «        }|                     ddddd	¬
¦  «         |                     ddddd¬
¦  «         |                     ddddd¬
¦  «         |                     ddddd¬
¦  «         |                     dddd¬
¦  «         |                     dddd¬
¦  «         |                     dddd dd!¬"¦  «         |                     ¦   «         \  }}t          j                             t          j        d         ¦  «        }|j	        rvt          |¦  «        dk    rc	 t          t          |j        ¦  «        ¦  «         d S # t          $ r2}t          d#|z  |¦  «         t          j        d$¦  «         Y d }~d S d }~ww xY w|j        rIt          |¦  «        dk    r6t          d%                     t%          |j        ¦  «        ¦  «        ¦  «         d S |j        rIt          |¦  «        dk    r6t          d%                     t)          |j        ¦  «        ¦  «        ¦  «         d S |j        r<t          |¦  «        dk    r)t          t-          t.          |j        ¦  «        ¦  «         d S |j        r<t          |¦  «        dk    r)t          t-          t2          |j        ¦  «        ¦  «         d S |j        rt          |¦  «        d$k    r{t          |¦  «        dk    rd&}n|d         }	 t          j                             |¦  «        r³|}	 t9          |d'¦  «        }	t;          |	|j        ¦  «        }
nŸ# t<          $ r< t          j                              |›d(|›d)¦  «         t          j        d$¦  «         Y nZtB          $ r9 t          j                              d*|z  ¦  «         t%          |j        ¦  «        }
Y nw xY wt;          ||j        ¦  «        }
t          d%                     |
¦  «        ¦  «         d S # t          $ rD}t          j                              |›d+|›d,¦  «         t          j        d$¦  «         Y d }~d S d }~ww xY wt          j                              d-|›d%|›d,¦  «         t          j        d$¦  «         d S ).Nr   )ÚOptionParserz;[-v] [-h] [-d|--default] [-s|--supported] [-i|--installed] )Úusagez-dz	--defaultz!print the default python3 versionÚ
store_truer‹   )ÚhelpÚactionÚdestz-sz--supportedz$print the supported python3 versionsr’   z-rz--requestedz’print the python3 versions requested by a build; the argument is either the name of a control file or the value of the X-Python3-Version attributeÚ	requestedz-iz--installedz.print the installed supported python3 versionsÚ	installedz--min-supportedz+print the minimum supported python3 versionÚminsupportedz--max-supportedz+print the maximum supported python3 versionÚmaxsupportedz-vz	--versionz print just the version number(s)Fr2   )r»   r‹   r¼   r½   z%s:r7   rs   zdebian/controlr®   z: not a control file: z, zC%s: no X-Python3-Version in control file, using supported versions
z: ú
zusage: )"Úoptparser¸   Ú
add_optionÚ
parse_argsr   r   r—   ÚsysÚargvr‹   r?   Úprintrx   r2   r   Úexitr’   r   rF   r¿   rš   rÀ   r¡   ÚminrÁ   Úmaxr¾   Úisfiler¶   r”   r£   ÚstderrÚwriterª   )r¸   r¹   ÚparserÚoptsÚargsÚprogramÚmsgr6   r°   rO   Úvss              r
   ÚmainrÕ     s  € Ø%Ğ%Ğ%Ğ%Ğ%Ğ%ØI€EØ6Øˆ\ Ğ&Ñ&Ô&€FØ
×Òd˜KØ>Ø)°	ğ ñ ;ô ;ğ ;ğ ×Òd˜MØAØ)°ğ ñ =ô =ğ =ğ ×Òd˜MğMğ *°ğ	 ñ =ô =ğ =ğ
 ×Òd˜MØKØ)°ğ ñ =ô =ğ =ğ ×ÒĞ'ØHØ)°ğ ñ @ô @ğ @ğ ×ÒĞ'ØHØ)°ğ ñ @ô @ğ @ğ ×Òd˜KØ=Ø#¨L¸~ğ ñ Oô Oğ Oğ ×"Ò"Ñ$Ô$J€Dˆ$İŒg×Òsœx¨œ{Ñ+Ô+€Gà„|ğ *˜D™	œ	 Qš˜ğ	İ•/ $Ô"3Ñ4Ô4Ñ5Ô5Ğ5Ğ5Ğ5øİğ 	ğ 	ğ 	İ%˜'‘/ 3Ñ'Ô'Ğ'İŒHQ‰KŒKˆKˆKˆKˆKˆKˆKˆKøøøøğ	øøøğ 
Œğ $C ™IœI¨šN˜NİˆchŠhÕ)¨$Ô*;Ñ<Ô<Ñ=Ô=Ñ>Ô>Ğ>Ğ>Ğ>Ø	Œğ "C ™IœI¨šN˜NİˆchŠhÕ)¨$Ô*;Ñ<Ô<Ñ=Ô=Ñ>Ô>Ğ>Ğ>Ğ>Ø	Ô	ğ  s 4™yœy¨Aš~˜~İÕ&¥s¨DÔ,=Ñ>Ô>Ñ?Ô?Ğ?Ğ?Ğ?Ø	Ô	ğ s 4™yœy¨Aš~˜~İÕ&¥s¨DÔ,=Ñ>Ô>Ñ?Ô?Ğ?Ğ?Ğ?Ø	Œñ C ™IœI¨šN™Nİˆt‰9Œ9˜Š>ˆ>Ø'ˆHˆHà˜A”wˆHğ	İŒw~Š~˜hÑ'Ô'ğ EØğ?İ9¸"¸hÑGÔGGİ+¨G°TÔ5FÑGÔGBBøİ,ğ  ğ  ğ  İ”J×$Ò$Ø(/¨¨°°°ğ&5ñ 6ô 6ğ 6å”H˜Q‘K”KKKKİ/ğ ?ğ ?ğ ?İ”J×$Ò$ğ &Hà%,ñ&-ñ .ô .ğ .õ ,¨DÔ,=Ñ>Ô>BBBğ	?øøøõ (¨°$Ô2CÑDÔDİ#—(’(˜2‘,”,ÑÔĞĞĞøİğ 	ğ 	ğ 	İŒJ×Ò¨7¨7¨7°C°C°CĞ8Ñ9Ô9Ğ9İŒHQ‰KŒKˆKˆKˆKˆKˆKˆKˆKøøøøğ	øøøõ 	Œ
×ÒĞ¨W¨W¨W°e°e°eĞ<Ñ=Ô=Ğ=İŒ‰Œˆˆˆsa   Ä,!E Å
FÅ'FÆFË/!O: Ì%L7 Ì6O: Ì7AN>Í:O: Í<?N>Î;O: Î=N>Î>:O: Ï:
QĞ9QÑQÚ__main__r%   )F)r   rH   rÆ   r   rd   rk   Úenvironr   r+   ry   rƒ   r"   r-   r[   rf   rl   rF   rx   r”   rš   r¡   r   r£   rª   r¶   rÕ   r¥   r:   r   r
   ú<module>rØ      s×  ğğ 
€	€	€	Ø 	€	€	€	Ø 
€
€
€
à€	Ø€ØĞ ğ'ğ 'Ø”z—~’~Ğ&<¸bÑAÔA×GÒGÈÑLÔLğ'ñ 'ô 'Ğ ğ Ğ ğğ ğ ğ ğ(;ğ ;ğ ;ğ(ğ (ğ (ğVğ ğ ğ ğ%ğ %ğ %ğ %ğ#ğ #ğ #ğ #ğB ğ  ğ  ğ  ğ",ğ ,ğ ,ğ ,ğ6
ğ 
ğ 
ğ 
ğ&ğ &ğ &ğ &ğ	ğ 	ğ 	ğ 	ğ 	˜Jñ 	ô 	ğ 	ğ	ğ 	ğ 	ğ 	ğ 	˜zñ 	ô 	ğ 	ğğ ğ ğ>ğ<Iğ Iğ IğV ˆzÒĞØ€DF„F€F€F€Fğ Ğr      usr/share/python3/debian_defaults                                                                   0000644 0000000 0000000 00000000742 14373127274 015634  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        [DEFAULT]
# the default python3 version
default-version = python3.11

# all supported python3 versions
supported-versions = python3.11

# formerly supported python3 versions
old-versions = python3.1, python3.2, python3.3, python3.4, python3.5, python3.6, python3.7, python3.8, python3.9, python3.10

# unsupported versions, including older versions
unsupported-versions = python3.1, python3.2, python3.3, python3.4, python3.5, python3.6, python3.7, python3.8, python3.9, python3.10
                              usr/share/python3/debpython/                                                                        0000755 0000000 0000000 00000000000 14714551117 014565  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/share/python3/debpython/__init__.py                                                             0000644 0000000 0000000 00000003526 14414510722 016676  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        try:
    from datetime import datetime
except ImportError:
    datetime = None
import logging
import re
from subprocess import PIPE, Popen
from pickle import dumps

log = logging.getLogger(__name__)
PUBLIC_DIR_RE = re.compile(r'.*?/usr/lib/python(\d(?:.\d+)?)/(site|dist)-packages')


class memoize:
    def __init__(self, func):
        self.func = func
        self.cache = {}

    def __call__(self, *args, **kwargs):
        key = dumps((args, kwargs))
        if key not in self.cache:
            self.cache[key] = self.func(*args, **kwargs)
        return self.cache[key]


def execute(command, cwd=None, env=None, log_output=None):
    """Execute external commad.

    :param cdw: currennt working directory
    :param env: environment
    :param log_output:
        * opened log file or path to this file, or
        * None if output should be included in the returned dict, or
        * False if output should be redirectored to stdout/stderr
    """
    args = {'shell': False, 'cwd': cwd, 'env': env}
    close = False
    if log_output is False:
        pass
    elif log_output is None:
        args.update(stdout=PIPE, stderr=PIPE)
    elif log_output:
        if isinstance(log_output, str):
            close = True
            log_output = open(log_output, 'a')
        if datetime:
            log_output.write('\n# command executed on {}'.format(datetime.now().isoformat()))
        log_output.write('\n$ {}\n'.format(repr(command)))
        log_output.flush()
        args.update(stdout=log_output, stderr=log_output)

    log.debug('invoking: %r', command)
    with Popen(command, **args) as process:
        stdout, stderr = process.communicate()
        close and log_output.close()
        return dict(returncode=process.returncode,
                    stdout=stdout and str(stdout, 'utf-8'),
                    stderr=stderr and str(stderr, 'utf-8'))
