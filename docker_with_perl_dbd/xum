        return item in self._values

    def getmember(self, context, mapping, key):
        # TODO: maybe split hybrid list/dict types?
        if not util.safehasattr(self._values, b'get'):
            raise error.ParseError(_(b'not a dictionary'))
        key = unwrapastype(context, mapping, key, self._keytype)
        return self._wrapvalue(key, self._values.get(key))

    def getmin(self, context, mapping):
        return self._getby(context, mapping, min)

    def getmax(self, context, mapping):
        return self._getby(context, mapping, max)

    def _getby(self, context, mapping, func):
        if not self._values:
            raise error.ParseError(_(b'empty sequence'))
        val = func(self._values)
        return self._wrapvalue(val, val)

    def _wrapvalue(self, key, val):
        if val is None:
            return
        if util.safehasattr(val, b'_makemap'):
            # a nested hybrid list/dict, which has its own way of map operation
            return val
        return hybriditem(None, key, val, self._makemap)

    def filter(self, context, mapping, select):
        if util.safehasattr(self._values, b'get'):
            values = {
                k: v
                for k, v in self._values.items()
                if select(self._wrapvalue(k, v))
            }
        else:
            values = [v for v in self._values if select(self._wrapvalue(v, v))]
        return hybrid(None, values, self._makemap, self._joinfmt, self._keytype)

    def itermaps(self, context):
        makemap = self._makemap
        for x in self._values:
            yield makemap(x)

    def join(self, context, mapping, sep):
        # TODO: switch gen to (context, mapping) API?
        return joinitems((self._joinfmt(x) for x in self._values), sep)

    def show(self, context, mapping):
        # TODO: switch gen to (context, mapping) API?
        gen = self._gen
        if gen is None:
            return self.join(context, mapping, b' ')
        if callable(gen):
            return gen()
        return gen

    def tobool(self, context, mapping):
        return bool(self._values)

    def tovalue(self, context, mapping):
        # TODO: make it non-recursive for trivial lists/dicts
        xs = self._values
        if util.safehasattr(xs, b'get'):
            return {k: unwrapvalue(context, mapping, v) for k, v in xs.items()}
        return [unwrapvalue(context, mapping, x) for x in xs]


class hybriditem(mappable, wrapped):
    """Wrapper for non-list/dict object to support map operation

    This class allows us to handle both:
    - "{manifest}"
    - "{manifest % '{rev}:{node}'}"
    - "{manifest.rev}"
    """

    def __init__(self, gen, key, value, makemap):
        self._gen = gen  # generator or function returning generator
        self._key = key
        self._value = value  # may be generator of strings
        self._makemap = makemap

    def tomap(self, context):
        return self._makemap(self._key)

    def contains(self, context, mapping, item):
        w = makewrapped(context, mapping, self._value)
        return w.contains(context, mapping, item)

    def getmember(self, context, mapping, key):
        w = makewrapped(context, mapping, self._value)
        return w.getmember(context, mapping, key)

    def getmin(self, context, mapping):
        w = makewrapped(context, mapping, self._value)
        return w.getmin(context, mapping)

    def getmax(self, context, mapping):
        w = makewrapped(context, mapping, self._value)
        return w.getmax(context, mapping)

    def filter(self, context, mapping, select):
        w = makewrapped(context, mapping, self._value)
        return w.filter(context, mapping, select)

    def join(self, context, mapping, sep):
        w = makewrapped(context, mapping, self._value)
        return w.join(context, mapping, sep)

    def show(self, context, mapping):
        # TODO: switch gen to (context, mapping) API?
        gen = self._gen
        if gen is None:
            return pycompat.bytestr(self._value)
        if callable(gen):
            return gen()
        return gen

    def tobool(self, context, mapping):
        w = makewrapped(context, mapping, self._value)
        return w.tobool(context, mapping)

    def tovalue(self, context, mapping):
        return _unthunk(context, mapping, self._value)


class revslist(wrapped):
    """Wrapper for a smartset (a list/set of revision numbers)

    If name specified, the revs will be rendered with the old-style list
    template of the given name by default.

    The cachekey provides a hint to cache further computation on this
    smartset. If the underlying smartset is dynamically created, the cachekey
    should be None.
    """

    def __init__(self, repo, revs, name=None, cachekey=None):
        assert isinstance(revs, smartset.abstractsmartset)
        self._repo = repo
        self._revs = revs
        self._name = name
        self.cachekey = cachekey

    def contains(self, context, mapping, item):
        rev = unwrapinteger(context, mapping, item)
        return rev in self._revs

    def getmember(self, context, mapping, key):
        raise error.ParseError(_(b'not a dictionary'))

    def getmin(self, context, mapping):
        makehybriditem = self._makehybriditemfunc()
        return makehybriditem(self._revs.min())

    def getmax(self, context, mapping):
        makehybriditem = self._makehybriditemfunc()
        return makehybriditem(self._revs.max())

    def filter(self, context, mapping, select):
        makehybriditem = self._makehybriditemfunc()
        frevs = self._revs.filter(lambda r: select(makehybriditem(r)))
        # once filtered, no need to support old-style list template
        return revslist(self._repo, frevs, name=None)

    def itermaps(self, context):
        makemap = self._makemapfunc()
        for r in self._revs:
            yield makemap(r)

    def _makehybriditemfunc(self):
        makemap = self._makemapfunc()
        return lambda r: hybriditem(None, r, r, makemap)

    def _makemapfunc(self):
        repo = self._repo
        name = self._name
        if name:
            return lambda r: {name: r, b'ctx': repo[r]}
        else:
            return lambda r: {b'ctx': repo[r]}

    def join(self, context, mapping, sep):
        return joinitems(self._revs, sep)

    def show(self, context, mapping):
        if self._name:
            srevs = [b'%d' % r for r in self._revs]
            return _showcompatlist(context, mapping, self._name, srevs)
        else:
            return self.join(context, mapping, b' ')

    def tobool(self, context, mapping):
        return bool(self._revs)

    def tovalue(self, context, mapping):
        return self._revs


class _mappingsequence(wrapped):
    """Wrapper for sequence of template mappings

    This represents an inner template structure (i.e. a list of dicts),
    which can also be rendered by the specified named/literal template.

    Template mappings may be nested.
    """

    def __init__(self, name=None, tmpl=None, sep=b''):
        if name is not None and tmpl is not None:
            raise error.ProgrammingError(
                b'name and tmpl are mutually exclusive'
            )
        self._name = name
        self._tmpl = tmpl
        self._defaultsep = sep

    def contains(self, context, mapping, item):
        raise error.ParseError(_(b'not comparable'))

    def getmember(self, context, mapping, key):
        raise error.ParseError(_(b'not a dictionary'))

    def getmin(self, context, mapping):
        raise error.ParseError(_(b'not comparable'))

    def getmax(self, context, mapping):
        raise error.ParseError(_(b'not comparable'))

    def filter(self, context, mapping, select):
        # implement if necessary; we'll need a wrapped type for a mapping dict
        raise error.ParseError(_(b'not filterable without template'))

    def join(self, context, mapping, sep):
        mapsiter = _iteroverlaymaps(context, mapping, self.itermaps(context))
        if self._name:
            itemiter = (context.process(self._name, m) for m in mapsiter)
        elif self._tmpl:
            itemiter = (context.expand(self._tmpl, m) for m in mapsiter)
        else:
            raise error.ParseError(_(b'not displayable without template'))
        return joinitems(itemiter, sep)

    def show(self, context, mapping):
        return self.join(context, mapping, self._defaultsep)

    def tovalue(self, context, mapping):
        knownres = context.knownresourcekeys()
        items = []
        for nm in self.itermaps(context):
            # drop internal resources (recursively) which shouldn't be displayed
            lm = context.overlaymap(mapping, nm)
            items.append(
                {
                    k: unwrapvalue(context, lm, v)
                    for k, v in nm.items()
                    if k not in knownres
                }
            )
        return items


class mappinggenerator(_mappingsequence):
    """Wrapper for generator of template mappings

    The function ``make(context, *args)`` should return a generator of
    mapping dicts.
    """

    def __init__(self, make, args=(), name=None, tmpl=None, sep=b''):
        super(mappinggenerator, self).__init__(name, tmpl, sep)
        self._make = make
        self._args = args

    def itermaps(self, context):
        return self._make(context, *self._args)

    def tobool(self, context, mapping):
        return _nonempty(self.itermaps(context))


class mappinglist(_mappingsequence):
    """Wrapper for list of template mappings"""

    def __init__(self, mappings, name=None, tmpl=None, sep=b''):
        super(mappinglist, self).__init__(name, tmpl, sep)
        self._mappings = mappings

    def itermaps(self, context):
        return iter(self._mappings)

    def tobool(self, context, mapping):
        return bool(self._mappings)


class mappingdict(mappable, _mappingsequence):
    """Wrapper for a single template mapping

    This isn't a sequence in a way that the underlying dict won't be iterated
    as a dict, but shares most of the _mappingsequence functions.
    """

    def __init__(self, mapping, name=None, tmpl=None):
        super(mappingdict, self).__init__(name, tmpl)
        self._mapping = mapping

    def tomap(self, context):
        return self._mapping

    def tobool(self, context, mapping):
        # no idea when a template mapping should be considered an empty, but
        # a mapping dict should have at least one item in practice, so always
        # mark this as non-empty.
        return True

    def tovalue(self, context, mapping):
        return super(mappingdict, self).tovalue(context, mapping)[0]


class mappingnone(wrappedvalue):
    """Wrapper for None, but supports map operation

    This represents None of Optional[mappable]. It's similar to
    mapplinglist([]), but the underlying value is not [], but None.
    """

    def __init__(self):
        super(mappingnone, self).__init__(None)

    def itermaps(self, context):
        return iter([])


class mappedgenerator(wrapped):
    """Wrapper for generator of strings which acts as a list

    The function ``make(context, *args)`` should return a generator of
    byte strings, or a generator of (possibly nested) generators of byte
    strings (i.e. a generator for a list of byte strings.)
    """

    def __init__(self, make, args=()):
        self._make = make
        self._args = args

    def contains(self, context, mapping, item):
        item = stringify(context, mapping, item)
        return item in self.tovalue(context, mapping)

    def _gen(self, context):
        return self._make(context, *self._args)

    def getmember(self, context, mapping, key):
        raise error.ParseError(_(b'not a dictionary'))

    def getmin(self, context, mapping):
        return self._getby(context, mapping, min)

    def getmax(self, context, mapping):
        return self._getby(context, mapping, max)

    def _getby(self, context, mapping, func):
        xs = self.tovalue(context, mapping)
        if not xs:
            raise error.ParseError(_(b'empty sequence'))
        return func(xs)

    @staticmethod
    def _filteredgen(context, mapping, make, args, select):
        for x in make(context, *args):
            s = stringify(context, mapping, x)
            if select(wrappedbytes(s)):
                yield s

    def filter(self, context, mapping, select):
        args = (mapping, self._make, self._args, select)
        return mappedgenerator(self._filteredgen, args)

    def itermaps(self, context):
        raise error.ParseError(_(b'list of strings is not mappable'))

    def join(self, context, mapping, sep):
        return joinitems(self._gen(context), sep)

    def show(self, context, mapping):
        return self.join(context, mapping, b'')

    def tobool(self, context, mapping):
        return _nonempty(self._gen(context))

    def tovalue(self, context, mapping):
        return [stringify(context, mapping, x) for x in self._gen(context)]


def hybriddict(data, key=b'key', value=b'value', fmt=None, gen=None):
    """Wrap data to support both dict-like and string-like operations"""
    prefmt = pycompat.identity
    if fmt is None:
        fmt = b'%s=%s'
        prefmt = pycompat.bytestr
    return hybrid(
        gen,
        data,
        lambda k: {key: k, value: data[k]},
        lambda k: fmt % (prefmt(k), prefmt(data[k])),
    )


def hybridlist(data, name, fmt=None, gen=None):
    """Wrap data to support both list-like and string-like operations"""
    prefmt = pycompat.identity
    if fmt is None:
        fmt = b'%s'
        prefmt = pycompat.bytestr
    return hybrid(gen, data, lambda x: {name: x}, lambda x: fmt % prefmt(x))


def compatdict(
    context,
    mapping,
    name,
    data,
    key=b'key',
    value=b'value',
    fmt=None,
    plural=None,
    separator=b' ',
):
    """Wrap data like hybriddict(), but also supports old-style list template

    This exists for backward compatibility with the old-style template. Use
    hybriddict() for new template keywords.
    """
    c = [{key: k, value: v} for k, v in data.items()]
    f = _showcompatlist(context, mapping, name, c, plural, separator)
    return hybriddict(data, key=key, value=value, fmt=fmt, gen=f)


def compatlist(
    context,
    mapping,
    name,
    data,
    element=None,
    fmt=None,
    plural=None,
    separator=b' ',
):
    """Wrap data like hybridlist(), but also supports old-style list template

    This exists for backward compatibility with the old-style template. Use
    hybridlist() for new template keywords.
    """
    f = _showcompatlist(context, mapping, name, data, plural, separator)
    return hybridlist(data, name=element or name, fmt=fmt, gen=f)


def compatfilecopiesdict(context, mapping, name, copies):
    """Wrap list of (dest, source) file names to support old-style list
    template and field names

    This exists for backward compatibility. Use hybriddict for new template
    keywords.
    """
    # no need to provide {path} to old-style list template
    c = [{b'name': k, b'source': v} for k, v in copies]
    f = _showcompatlist(context, mapping, name, c, plural=b'file_copies')
    copies = util.sortdict(copies)
    return hybrid(
        f,
        copies,
        lambda k: {b'name': k, b'path': k, b'source': copies[k]},
        lambda k: b'%s (%s)' % (k, copies[k]),
    )


def compatfileslist(context, mapping, name, files):
    """Wrap list of file names to support old-style list template and field
    names

    This exists for backward compatibility. Use hybridlist for new template
    keywords.
    """
    f = _showcompatlist(context, mapping, name, files)
    return hybrid(
        f, files, lambda x: {b'file': x, b'path': x}, pycompat.identity
    )


def _showcompatlist(
    context, mapping, name, values, plural=None, separator=b' '
):
    """Return a generator that renders old-style list template

    name is name of key in template map.
    values is list of strings or dicts.
    plural is plural of name, if not simply name + 's'.
    separator is used to join values as a string

    expansion works like this, given name 'foo'.

    if values is empty, expand 'no_foos'.

    if 'foo' not in template map, return values as a string,
    joined by 'separator'.

    expand 'start_foos'.

    for each value, expand 'foo'. if 'last_foo' in template
    map, expand it instead of 'foo' for last key.

    expand 'end_foos'.
    """
    if not plural:
        plural = name + b's'
    if not values:
        noname = b'no_' + plural
        if context.preload(noname):
            yield context.process(noname, mapping)
        return
    if not context.preload(name):
        if isinstance(values[0], bytes):
            yield separator.join(values)
        else:
            for v in values:
                r = dict(v)
                r.update(mapping)
                yield r
        return
    startname = b'start_' + plural
    if context.preload(startname):
        yield context.process(startname, mapping)

    def one(v, tag=name):
        vmapping = {}
        try:
            vmapping.update(v)
        # Python 2 raises ValueError if the type of v is wrong. Python
        # 3 raises TypeError.
        except (AttributeError, TypeError, ValueError):
            try:
                # Python 2 raises ValueError trying to destructure an e.g.
                # bytes. Python 3 raises TypeError.
                for a, b in v:
                    vmapping[a] = b
            except (TypeError, ValueError):
                vmapping[name] = v
        vmapping = context.overlaymap(mapping, vmapping)
        return context.process(tag, vmapping)

    lastname = b'last_' + name
    if context.preload(lastname):
        last = values.pop()
    else:
        last = None
    for v in values:
        yield one(v)
    if last is not None:
        yield one(last, tag=lastname)
    endname = b'end_' + plural
    if context.preload(endname):
        yield context.process(endname, mapping)


def flatten(context, mapping, thing):
    """Yield a single stream from a possibly nested set of iterators"""
    if isinstance(thing, wrapped):
        thing = thing.show(context, mapping)
    if isinstance(thing, bytes):
        yield thing
    elif isinstance(thing, str):
        # We can only hit this on Python 3, and it's here to guard
        # against infinite recursion.
        raise error.ProgrammingError(
            b'Mercurial IO including templates is done'
            b' with bytes, not strings, got %r' % thing
        )
    elif thing is None:
        pass
    elif not util.safehasattr(thing, b'__iter__'):
        yield pycompat.bytestr(thing)
    else:
        for i in thing:
            if isinstance(i, wrapped):
                i = i.show(context, mapping)
            if isinstance(i, bytes):
                yield i
            elif i is None:
                pass
            elif not util.safehasattr(i, b'__iter__'):
                yield pycompat.bytestr(i)
            else:
                for j in flatten(context, mapping, i):
                    yield j


def stringify(context, mapping, thing):
    """Turn values into bytes by converting into text and concatenating them"""
    if isinstance(thing, bytes):
        return thing  # retain localstr to be round-tripped
    return b''.join(flatten(context, mapping, thing))


def findsymbolicname(arg):
    """Find symbolic name for the given compiled expression; returns None
    if nothing found reliably"""
    while True:
        func, data = arg
        if func is runsymbol:
            return data
        elif func is runfilter:
            arg = data[0]
        else:
            return None


def _nonempty(xiter):
    try:
        next(xiter)
        return True
    except StopIteration:
        return False


def _unthunk(context, mapping, thing):
    """Evaluate a lazy byte string into value"""
    if not isinstance(thing, types.GeneratorType):
        return thing
    return stringify(context, mapping, thing)


def evalrawexp(context, mapping, arg):
    """Evaluate given argument as a bare template object which may require
    further processing (such as folding generator of strings)"""
    func, data = arg
    return func(context, mapping, data)


def evalwrapped(context, mapping, arg):
    """Evaluate given argument to wrapped object"""
    thing = evalrawexp(context, mapping, arg)
    return makewrapped(context, mapping, thing)


def makewrapped(context, mapping, thing):
    """Lift object to a wrapped type"""
    if isinstance(thing, wrapped):
        return thing
    thing = _unthunk(context, mapping, thing)
    if isinstance(thing, bytes):
        return wrappedbytes(thing)
    return wrappedvalue(thing)


def evalfuncarg(context, mapping, arg):
    """Evaluate given argument as value type"""
    return unwrapvalue(context, mapping, evalrawexp(context, mapping, arg))


def unwrapvalue(context, mapping, thing):
    """Move the inner value object out of the wrapper"""
    if isinstance(thing, wrapped):
        return thing.tovalue(context, mapping)
    # evalrawexp() may return string, generator of strings or arbitrary object
    # such as date tuple, but filter does not want generator.
    return _unthunk(context, mapping, thing)


def evalboolean(context, mapping, arg):
    """Evaluate given argument as boolean, but also takes boolean literals"""
    func, data = arg
    if func is runsymbol:
        thing = func(context, mapping, data, default=None)
        if thing is None:
            # not a template keyword, takes as a boolean literal
            thing = stringutil.parsebool(data)
    else:
        thing = func(context, mapping, data)
    return makewrapped(context, mapping, thing).tobool(context, mapping)


def evaldate(context, mapping, arg, err=None):
    """Evaluate given argument as a date tuple or a date string; returns
    a (unixtime, offset) tuple"""
    thing = evalrawexp(context, mapping, arg)
    return unwrapdate(context, mapping, thing, err)


def unwrapdate(context, mapping, thing, err=None):
    if isinstance(thing, date):
        return thing.tovalue(context, mapping)
    # TODO: update hgweb to not return bare tuple; then just stringify 'thing'
    thing = unwrapvalue(context, mapping, thing)
    try:
        return dateutil.parsedate(thing)
    except AttributeError:
        raise error.ParseError(err or _(b'not a date tuple nor a string'))
    except error.ParseError:
        if not err:
            raise
        raise error.ParseError(err)


def evalinteger(context, mapping, arg, err=None):
    thing = evalrawexp(context, mapping, arg)
    return unwrapinteger(context, mapping, thing, err)


def unwrapinteger(context, mapping, thing, err=None):
    thing = unwrapvalue(context, mapping, thing)
    try:
        return int(thing)
    except (TypeError, ValueError):
        raise error.ParseError(err or _(b'not an integer'))


def evalstring(context, mapping, arg):
    return stringify(context, mapping, evalrawexp(context, mapping, arg))


def evalstringliteral(context, mapping, arg):
    """Evaluate given argument as string template, but returns symbol name
    if it is unknown"""
    func, data = arg
    if func is runsymbol:
        thing = func(context, mapping, data, default=data)
    else:
        thing = func(context, mapping, data)
    return stringify(context, mapping, thing)


_unwrapfuncbytype = {
    None: unwrapvalue,
    bytes: stringify,
    date: unwrapdate,
    int: unwrapinteger,
}


def unwrapastype(context, mapping, thing, typ):
    """Move the inner value object out of the wrapper and coerce its type"""
    try:
        f = _unwrapfuncbytype[typ]
    except KeyError:
        raise error.ProgrammingError(b'invalid type specified: %r' % typ)
    return f(context, mapping, thing)


def runinteger(context, mapping, data):
    return int(data)


def runstring(context, mapping, data):
    return data


def _recursivesymbolblocker(key):
    def showrecursion(context, mapping):
        raise error.Abort(_(b"recursive reference '%s' in template") % key)

    return showrecursion


def runsymbol(context, mapping, key, default=b''):
    v = context.symbol(mapping, key)
    if v is None:
        # put poison to cut recursion. we can't move this to parsing phase
        # because "x = {x}" is allowed if "x" is a keyword. (issue4758)
        safemapping = mapping.copy()
        safemapping[key] = _recursivesymbolblocker(key)
        try:
            v = context.process(key, safemapping)
        except TemplateNotFound:
            v = default
    if callable(v):
        # new templatekw
        try:
            return v(context, mapping)
        except ResourceUnavailable:
            # unsupported keyword is mapped to empty just like unknown keyword
            return None
    return v


def runtemplate(context, mapping, template):
    for arg in template:
        yield evalrawexp(context, mapping, arg)


def runfilter(context, mapping, data):
    arg, filt = data
    thing = evalrawexp(context, mapping, arg)
    intype = getattr(filt, '_intype', None)
    try:
        thing = unwrapastype(context, mapping, thing, intype)
        return filt(thing)
    except error.ParseError as e:
        raise error.ParseError(bytes(e), hint=_formatfiltererror(arg, filt))


def _formatfiltererror(arg, filt):
    fn = pycompat.sysbytes(filt.__name__)
    sym = findsymbolicname(arg)
    if not sym:
        return _(b"incompatible use of template filter '%s'") % fn
    return _(b"template filter '%s' is not compatible with keyword '%s'") % (
        fn,
        sym,
    )


def _iteroverlaymaps(context, origmapping, newmappings):
    """Generate combined mappings from the original mapping and an iterable
    of partial mappings to override the original"""
    for i, nm in enumerate(newmappings):
        lm = context.overlaymap(origmapping, nm)
        lm[b'index'] = i
        yield lm


def _applymap(context, mapping, d, darg, targ):
    try:
        diter = d.itermaps(context)
    except error.ParseError as err:
        sym = findsymbolicname(darg)
        if not sym:
            raise
        hint = _(b"keyword '%s' does not support map operation") % sym
        raise error.ParseError(bytes(err), hint=hint)
    for lm in _iteroverlaymaps(context, mapping, diter):
        yield evalrawexp(context, lm, targ)


def runmap(context, mapping, data):
    darg, targ = data
    d = evalwrapped(context, mapping, darg)
    return mappedgenerator(_applymap, args=(mapping, d, darg, targ))


def runmember(context, mapping, data):
    darg, memb = data
    d = evalwrapped(context, mapping, darg)
    if isinstance(d, mappable):
        lm = context.overlaymap(mapping, d.tomap(context))
        return runsymbol(context, lm, memb)
    try:
        return d.getmember(context, mapping, memb)
    except error.ParseError as err:
        sym = findsymbolicname(darg)
        if not sym:
            raise
        hint = _(b"keyword '%s' does not support member operation") % sym
        raise error.ParseError(bytes(err), hint=hint)


def runnegate(context, mapping, data):
    data = evalinteger(
        context, mapping, data, _(b'negation needs an integer argument')
    )
    return -data


def runarithmetic(context, mapping, data):
    func, left, right = data
    left = evalinteger(
        context, mapping, left, _(b'arithmetic only defined on integers')
    )
    right = evalinteger(
        context, mapping, right, _(b'arithmetic only defined on integers')
    )
    try:
        return func(left, right)
    except ZeroDivisionError:
        raise error.Abort(_(b'division by zero is not defined'))


def joinitems(itemiter, sep):
    """Join items with the separator; Returns generator of bytes"""
    first = True
    for x in itemiter:
        if first:
            first = False
        elif sep:
            yield sep
        yield x
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 usr/lib/python3/dist-packages/mercurial/testing/                                                    0000755 0000000 0000000 00000000000 14714551121 020407  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/lib/python3/dist-packages/mercurial/testing/__init__.py                                         0000644 0000000 0000000 00000001775 14355257011 022534  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        import os
import time


# work around check-code complains
#
# This is a simple log level module doing simple test related work, we can't
# import more things, and we do not need it.
environ = getattr(os, 'environ')


def _timeout_factor():
    """return the current modification to timeout"""
    default = int(environ.get('HGTEST_TIMEOUT_DEFAULT', 360))
    current = int(environ.get('HGTEST_TIMEOUT', default))
    if current == 0:
        return 1
    return current / float(default)


def wait_file(path, timeout=10):
    timeout *= _timeout_factor()
    start = time.time()
    while not os.path.exists(path):
        if timeout and time.time() - start > timeout:
            raise RuntimeError(b"timed out waiting for file: %s" % path)
        time.sleep(0.01)


def write_file(path, content=b''):
    if content:
        write_path = b'%s.tmp' % path
    else:
        write_path = path
    with open(write_path, 'wb') as f:
        f.write(content)
    if path != write_path:
        os.rename(write_path, path)
   usr/lib/python3/dist-packages/mercurial/testing/__pycache__/                                        0000755 0000000 0000000 00000000000 14714551122 022620  5                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        usr/lib/python3/dist-packages/mercurial/testing/__pycache__/__init__.cpython-311.pyc                0000644 0000000 0000000 00000004164 14714551122 027066  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        §
    	^µcı  ã                   óD   — d dl Z d dlZ ee d¦  «        Zd„ Zdd„Zd	d„ZdS )
é    NÚenvironc                  óÖ   — t          t                               dd¦  «        ¦  «        } t          t                               d| ¦  «        ¦  «        }|dk    rdS |t          | ¦  «        z  S )z*return the current modification to timeoutÚHGTEST_TIMEOUT_DEFAULTih  ÚHGTEST_TIMEOUTr   é   )Úintr   ÚgetÚfloat)ÚdefaultÚcurrents     ú</usr/lib/python3/dist-packages/mercurial/testing/__init__.pyÚ_timeout_factorr      sY   € å•'—+’+Ğ6¸Ñ<Ô<Ñ=Ô=€Gİ•'—+’+Ğ.°Ñ8Ô8Ñ9Ô9€GØ!‚|€|ØˆqØ•U˜7‘^”^Ñ#Ğ#ó    é
   c                 óR  — |t          ¦   «         z  }t          j        ¦   «         }t          j                             | ¦  «        sc|r,t          j        ¦   «         |z
  |k    rt          d| z  ¦  «        ‚t          j        d¦  «         t          j                             | ¦  «        ¯ad S d S )Ns   timed out waiting for file: %sg{®Gáz„?)r   ÚtimeÚosÚpathÚexistsÚRuntimeErrorÚsleep)r   ÚtimeoutÚstarts      r   Ú	wait_filer      s¡   € ØÑ Ô Ñ €GİŒI‰KŒK€EİŒgnŠn˜TÑ"Ô"ğ Øğ 	I•t”y‘{”{ UÑ*¨WÒ4Ğ4İĞ@À4ÑGÑHÔHĞHİŒ
4ÑÔĞõ ŒgnŠn˜TÑ"Ô"ğ ğ ğ ğ ğ r   r   c                 óÎ   — |rd| z  }n| }t          |d¦  «        5 }|                     |¦  «         d d d ¦  «         n# 1 swxY w Y   | |k    rt          j        || ¦  «         d S d S )Ns   %s.tmpÚwb)ÚopenÚwriter   Úrename)r   ÚcontentÚ
write_pathÚfs       r   Ú
write_filer#      sº   € Øğ Ø Ñ%ˆ
ˆ
àˆ
İ	ˆj˜$Ñ	Ô	ğ  1Ø	ŠÑÔĞğğ ğ ñ ô ğ ğ ğ ğ ğ ğ øøøğ ğ ğ ğ àˆzÒĞİ
Œ	*˜dÑ#Ô#Ğ#Ğ#Ğ#ğ Ğs   ›=½AÁA)r   )r   )r   r   Úgetattrr   r   r   r#   © r   r   ú<module>r&      sk   ğØ 	€	€	€	Ø €€€ğ ˆ'"iÑ
 Ô
 €ğ$ğ $ğ $ğğ ğ ğ ğ$ğ $ğ $ğ $ğ $ğ $r                                                                                                                                                                                                                                                                                                                                                                                                               usr/lib/python3/dist-packages/mercurial/testing/__pycache__/revlog.cpython-311.pyc                  0000644 0000000 0000000 00000002536 14714551122 026626  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        §
    	^µce  ã                   ó”   — d dl Z dZ	 ddlmZ n# e$ r dZY nw xY w e j        edu d¦  «         G d„ de j        ¦  «        ¦   «         ZdS )é    Ns           D e        ÿÿÿÿÿÿÿÿÑô»°¾ü½ŒÓÍÙ;ŒŒJ/               D     ß  q          ÿÿÿÿÁ¹–¤Z1t‘ßsJğ›hl&               Dø      ¸         ÿÿÿÿ
Æ&¡’®6iş-åºoÑç               F    ì           ÿÿÿÿËëy1¶˜BË½`’ÙÄ„½K            é   )ÚparserszSThe C version of the "parsers" module is not available. It is needed for this test.c                   ó   — e Zd Zd„ ZdS )ÚRevlogBasedTestBasec                 óB   — t          j        t          d¦  «        d         S )NFr   )ÚcparsersÚparse_index2Údata_non_inlined)Úselfs    ú:/usr/lib/python3/dist-packages/mercurial/testing/revlog.pyÚ
parseindexzRevlogBasedTestBase.parseindex$   s   € İÔ$Õ%5°uÑ=Ô=¸aÔ@Ğ@ó    N)Ú__name__Ú
__module__Ú__qualname__r   © r   r   r   r      s(   € € € € € ğ
Ağ Ağ Ağ Ağ Ar   r   )	Úunittestr
   Úcextr   r   ÚImportErrorÚskipIfÚTestCaser   r   r   r   ú<module>r      s¿   ğØ €€€ğ
,ğ ğ(Ø*Ğ*Ğ*Ğ*Ğ*Ğ*Ğ*øØğ ğ ğ Ø€H€H€Hğøøøğ €„ØĞØYñô ğAğ Ağ Ağ Ağ A˜(Ô+ñ Aô Añ	ô ğAğ Ağ As   ˆ ˜                                                                                                                                                                  usr/lib/python3/dist-packages/mercurial/testing/__pycache__/storage.cpython-311.pyc                 0000644 0000000 0000000 00000316172 14714551122 027000  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        §
    	^µcº  ã                   óŞ   — d dl Z ddlmZmZ ddlmZ ddlmZmZ ddl	m
Z
 ddlmZ  G d„ d	e j        ¦  «        Z G d
„ de¦  «        Z G d„ de¦  «        Z G d„ de¦  «        Zd„ Zd„ Zd„ ZdS )é    Né   )ÚhexÚnullrev)Úgetattr)ÚerrorÚmdiff)Ú
repository)Ústorageutilc                   óN   — e Zd Z eej        dd¦  «        sej        j        ZdS dS )ÚbasetestcaseÚassertRaisesRegexFN)Ú__name__Ú
__module__Ú__qualname__r   ÚunittestÚTestCaseÚassertRaisesRegexpr   © ó    ú;/usr/lib/python3/dist-packages/mercurial/testing/storage.pyr   r      sB   € € € € € Øˆ78Ô$Ğ&9¸5ÑAÔAğ 
àÔÔ0ğ 	ĞĞğ
ğ 
r   r   c                   ó*   — e Zd ZdZd„ Zd„ Zd„ Zd„ ZdS )ÚifileindextestszÔGeneric tests for the ifileindex interface.

    All file storage backends for index data should conform to the tests in this
    class.

    Use ``makeifileindextests()`` to create an instance of this type.
    c                 óp  — |                       ¦   «         }|                      t          |¦  «        dd¦  «         |                      t          |¦  «        g d¦  «         t	          |¦  «        }|                      t          ¦  «        5  t          |¦  «         d d d ¦  «         n# 1 swxY w Y   |                      | 	                    d ¦  «        ¦  «         |                      | 	                    d¦  «        ¦  «         |                      | 	                    t          ¦  «        ¦  «         |                      | 	                    |j        ¦  «        ¦  «         |                      | 	                    d¦  «        ¦  «         |                      | 	                    d¦  «        ¦  «         |                      t          |                     ¦   «         ¦  «        g ¦  «         t	          |                     ¦   «         ¦  «        }|                      t          ¦  «        5  t          |¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          |                     d¬¦  «        ¦  «        g ¦  «         |                      |                     |j        ¦  «        |j        |j        f¦  «         |                      |                     t          ¦  «        t          t          f¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   t#          d	d
¦  «        D ]U}|t          k    rŒ|                      t$          ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      |                     |j        ¦  «        t          ¦  «         |                      |                     t          ¦  «        |j        ¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   t#          d	d
¦  «        D ]U}|t          k    rŒ|                      t$          ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      |                     |j        ¦  «        |j        ¦  «         |                      |                     t          ¦  «        |j        ¦  «         |                      |                     t-          |j        ¦  «        ¦  «        |j        ¦  «         |                      |                     dt          z  ¦  «        |j        ¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  |                     t-          |j        ¦  «        dd…         ¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   t#          d	d
¦  «        D ]U}|t          k    rŒ|                      t           ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      |                     t          ¦  «        t          ¦  «         t#          d	d
¦  «        D ]U}|t          k    rŒ|                      t$          ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      |                     t          ¦  «        ¦  «         t#          d	d
¦  «        D ]U}|t          k    rŒ|                      t$          ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      t          |                     |j        |j        ¦  «        ¦  «        g ¦  «         |                      t4          ¦  «        5  |                      t          |                     g ¦  «        ¦  «        g ¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          |                     t          g¦  «        ¦  «        g ¦  «         |                      |                     ¦   «         |j        g¦  «         |                      |                     |j        ¦  «        |j        g¦  «         |                      |                     d |j        g¦  «        |j        g¦  «         |                      |                     |j        |j        g¦  «        |j        g¦  «         |                      |                     |j        ¦  «        g ¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         d S # 1 swxY w Y   d S )Nr   s&   new file store has 0 length by defaults   iter yields nothing by defaultó   0s   aaaaaaaaaaaaaaaaaaaaé   ©Ústartó   éûÿÿÿé   ó   %ds   badvalueé   ó   -2ó   1s&   11111111111111111111111111111111111111)Ú_makefilefnÚassertEqualÚlenÚlistÚiterÚassertRaisesÚStopIterationÚnextÚassertFalseÚhasnoder   ÚnullidÚrevsÚparentsÚ
parentrevsr   ÚLookupErrorÚrangeÚ
IndexErrorÚrevÚnodeÚlookupr   ÚlinkrevÚ
iscensoredÚcommonancestorsheadsÚ
ValueErrorÚdescendantsÚheadsÚchildren)ÚselfÚfÚgenr0   Úis        r   Ú	testemptyzifileindextests.testempty(   s[  € Ø×ÒÑÔˆØ×Ò˜Q™œ Ğ$MÑNÔNĞNØ×Ò˜a™œ "Ğ&GÑHÔHĞHå1‰gŒgˆØ×Ò}Ñ-Ô-ğ 	ğ 	İ‰IŒIˆIğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš 4™œÑ)Ô)Ğ)Ø×Ò˜Ÿš 1™œÑ&Ô&Ğ&Ø×Ò˜Ÿš¥7Ñ+Ô+Ñ,Ô,Ğ,Ø×Ò˜Ÿš 1¤8Ñ,Ô,Ñ-Ô-Ğ-Ø×Ò˜Ÿš 4™œÑ)Ô)Ğ)Ø×Ò˜Ÿš 9Ñ-Ô-Ñ.Ô.Ğ.ğ 	×Ò˜aŸfšf™hœh™œ¨Ñ,Ô,Ğ,åA—F’F‘H”H‰~Œ~ˆØ×Ò}Ñ-Ô-ğ 	ğ 	İ‰JŒJˆJğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜aŸfšf¨2˜fÑ.Ô.Ñ/Ô/°Ñ4Ô4Ğ4ğ 	×Ò˜Ÿš 1¤8Ñ,Ô,¨q¬x¸¼Ğ.BÑCÔCĞCØ×Ò˜Ÿš¥gÑ.Ô.µ½'Ğ0BÑCÔCĞCà×ÒuÔ0Ñ1Ô1ğ 	$ğ 	$ØIŠIlÑ#Ô#Ğ#ğ	$ğ 	$ğ 	$ñ 	$ô 	$ğ 	$ğ 	$ğ 	$ğ 	$ğ 	$ğ 	$øøøğ 	$ğ 	$ğ 	$ğ 	$õ r˜1‘”ğ 	 ğ 	 ˆAØ•GŠ|ˆ|Øà×"Ò"¥:Ñ.Ô.ğ  ğ  Ø—’˜Q‘”ğ ğ  ğ  ñ  ô  ğ  ğ  ğ  ğ  ğ  ğ  øøøğ  ğ  ğ  ğ  øğ 	×Ò˜Ÿš˜qœx™œ­'Ñ2Ô2Ğ2Ø×Ò˜Ÿš¥™œ¨!¬(Ñ3Ô3Ğ3à×ÒuÔ0Ñ1Ô1ğ 	 ğ 	 ØEŠE,ÑÔĞğ	 ğ 	 ğ 	 ñ 	 ô 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 øøøğ 	 ğ 	 ğ 	 ğ 	 õ r˜1‘”ğ 	ğ 	ˆAØ•GŠ|ˆ|Øà×"Ò"¥:Ñ.Ô.ğ ğ Ø—’q‘	”		ğğ ğ ñ ô ğ ğ ğ ğ ğ ğ øøøğ ğ ğ ğ øğ 	×Ò˜Ÿš !¤(Ñ+Ô+¨Q¬XÑ6Ô6Ğ6Ø×Ò˜Ÿš¥'Ñ*Ô*¨A¬HÑ5Ô5Ğ5Ø×Ò˜Ÿš¥# a¤h¡-¤-Ñ0Ô0°!´(Ñ;Ô;Ğ;Ø×Ò˜Ÿš %­'¡/Ñ2Ô2°A´HÑ=Ô=Ğ=à×ÒuÔ0Ñ1Ô1ğ 	"ğ 	"ØHŠH[Ñ!Ô!Ğ!ğ	"ğ 	"ğ 	"ñ 	"ô 	"ğ 	"ğ 	"ğ 	"ğ 	"ğ 	"ğ 	"øøøğ 	"ğ 	"ğ 	"ğ 	"ğ ×ÒuÔ0Ñ1Ô1ğ 	*ğ 	*ØHŠH•S˜œ‘]”] 1 R 4Ô(Ñ)Ô)Ğ)ğ	*ğ 	*ğ 	*ñ 	*ô 	*ğ 	*ğ 	*ğ 	*ğ 	*ğ 	*ğ 	*øøøğ 	*ğ 	*ğ 	*ğ 	*ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHU‰OŒOˆOğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHT‰NŒNˆNğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHT‰NŒNˆNğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	@ğ 	@ØHŠHĞ>Ñ?Ô?Ğ?ğ	@ğ 	@ğ 	@ñ 	@ô 	@ğ 	@ğ 	@ğ 	@ğ 	@ğ 	@ğ 	@øøøğ 	@ğ 	@ğ 	@ğ 	@õ r˜1‘”ğ 	ğ 	ˆAØ•GŠ|ˆ|Øà×"Ò"¥;Ñ/Ô/ğ ğ Ø—’˜‘”ğğ ğ ñ ô ğ ğ ğ ğ ğ ğ øøøğ ğ ğ ğ øğ 	×Ò˜Ÿš¥7Ñ+Ô+­WÑ5Ô5Ğ5år˜1‘”ğ 	ğ 	ˆAØ•GŠ|ˆ|Øà×"Ò"¥:Ñ.Ô.ğ ğ Ø—	’	˜!‘”ğğ ğ ñ ô ğ ğ ğ ğ ğ ğ øøøğ ğ ğ ğ øğ 	×Ò˜Ÿš¥gÑ.Ô.Ñ/Ô/Ğ/år˜1‘”ğ 	 ğ 	 ˆAØ•GŠ|ˆ|Øà×"Ò"¥:Ñ.Ô.ğ  ğ  Ø—’˜Q‘”ğ ğ  ğ  ñ  ô  ğ  ğ  ğ  ğ  ğ  ğ  øøøğ  ğ  ğ  ğ  øğ 	×Ò˜a×4Ò4°Q´X¸q¼xÑHÔHÑIÔIÈ2ÑNÔNĞNà×ÒzÑ*Ô*ğ 	:ğ 	:Ø×ÒT !§-¢-°Ñ"3Ô"3Ñ4Ô4°bÑ9Ô9Ğ9ğ	:ğ 	:ğ 	:ñ 	:ô 	:ğ 	:ğ 	:ğ 	:ğ 	:ğ 	:ğ 	:øøøğ 	:ğ 	:ğ 	:ğ 	:ğ 	×Ò˜aŸmšm­W¨IÑ6Ô6Ñ7Ô7¸Ñ<Ô<Ğ<à×Ò˜Ÿš™œ Q¤X JÑ/Ô/Ğ/Ø×Ò˜Ÿš ¤Ñ*Ô*¨Q¬X¨JÑ7Ô7Ğ7Ø×Ò˜Ÿš ¨¬ zÑ2Ô2°Q´X°JÑ?Ô?Ğ?Ø×Ò˜Ÿš ¤¨A¬H¨:Ñ6Ô6¸¼¸
ÑCÔCĞCà×Ò˜Ÿš A¤HÑ-Ô-¨rÑ2Ô2Ğ2à×ÒuÔ0Ñ1Ô1ğ 	%ğ 	%ØJŠJ|Ñ$Ô$Ğ$ğ	%ğ 	%ğ 	%ñ 	%ô 	%ğ 	%ğ 	%ğ 	%ğ 	%ğ 	%ğ 	%ğ 	%øøøğ 	%ğ 	%ğ 	%ğ 	%ğ 	%ğ 	%s2  ÂB"Â"B&Â)B&ÈH3È3H7È:H7ÌL*Ì*L.Ì1L.Í-NÎN	ÎN	Ğ QÑQÑ	QÒR'Ò'R+	Ò.R+	Ö.W×W×W×:0X6Ø6X:Ø=X:Ù ZÚZÚ	ZÚ,[Û[Û[Û8\Ü\Ü!\İ]&İ&]*İ-]*Ş)_ß_	ß_	áa$á$a(	á+a(	ãc7ã7c;	ã>c;	å7f!æ!f%æ(f%ìl+ì+l/ì2l/c           	      óÂ  — |                       ¦   «         }|                      ¦   «         5 }|                     dd |d|j        |j        ¦  «        }d d d ¦  «         n# 1 swxY w Y   |                      t          |¦  «        d¦  «         |                      t          |¦  «        dg¦  «         t          |¦  «        }|                      t          |¦  «        d¦  «         |  	                    t          ¦  «        5  t          |¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        ¦  «         |                      |                     t          |¦  «        ¦  «        ¦  «         |                      |                     t          ¦  «        ¦  «         |                      |                     |j        ¦  «        ¦  «         |                      |                     |dd…         ¦  «        ¦  «         |                      |                     t          |¦  «        dd…         ¦  «        ¦  «         |                      t          |                     ¦   «         ¦  «        dg¦  «         |                      t          |                     d¬¦  «        ¦  «        g ¦  «         |                      t          |                     d¬¦  «        ¦  «        dg¦  «         |                      t          |                     d¬¦  «        ¦  «        dg¦  «         |                      t          |                     d¬¦  «        ¦  «        dg¦  «         |                      t          |                     dd¦  «        ¦  «        g ¦  «         |                      t          |                     dd¦  «        ¦  «        ddg¦  «         |                      t          |                     dd¦  «        ¦  «        g d	¢¦  «         |                      |                     |¦  «        |j        |j        f¦  «         |                      |                     d¦  «        t          t          f¦  «         |  	                    t&          j        ¦  «        5  |                     d
¦  «         d d d ¦  «         n# 1 swxY w Y   |  	                    t*          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        d¦  «         |  	                    t&          j        ¦  «        5  |                     d
¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     d¦  «        |¦  «         |  	                    t*          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     d¦  «        |j        ¦  «         |                      |                     d¦  «        |¦  «         |                      |                     t          |¦  «        ¦  «        |¦  «         |  	                    t&          j        ¦  «        5  |                     t          |¦  «        dd…         ¦  «         d d d ¦  «         n# 1 swxY w Y   |  	                    t&          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |  	                    t&          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |  	                    t&          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |  	                    t&          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     d¦  «        d¦  «         |  	                    t*          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     d¦  «        ¦  «         |  	                    t*          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          |                     dg¦  «        ¦  «        g ¦  «         |                      |                     ¦   «         |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |g¬¦  «        |g¦  «         |  	                    t&          j        ¦  «        5  |                     d
g¬¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        g ¦  «         d S )Nó   initialr   é   r"   r   r   ©Ústopr   ©r   rG   r   r   éÿÿÿÿr   éşÿÿÿr#   r$   )r%   Ú_maketransactionfnÚaddr/   r&   r'   r(   r)   r,   r*   r+   Ú
assertTruer.   r-   r   r   r0   r1   r2   r   r3   r5   r6   r7   r8   r9   r:   r=   r>   r?   )r@   rA   Útrr7   rB   s        r   Útestsinglerevisionz"ifileindextests.testsinglerevision   sÕ  € Ø×ÒÑÔˆØ×$Ò$Ñ&Ô&ğ 	F¨"Ø—5’5˜ T¨2¨q°!´(¸A¼HÑEÔEˆDğ	Fğ 	Fğ 	Fñ 	Fô 	Fğ 	Fğ 	Fğ 	Fğ 	Fğ 	Fğ 	Føøøğ 	Fğ 	Fğ 	Fğ 	Fğ 	×Ò˜Q™œ Ñ#Ô#Ğ#Ø×Ò˜a™œ 1 #Ñ&Ô&Ğ&å1‰gŒgˆØ×Ò˜c™œ AÑ&Ô&Ğ&à×Ò}Ñ-Ô-ğ 	ğ 	İ‰IŒIˆIğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	Š˜Ÿ	š	 $™œÑ(Ô(Ğ(Ø×Ò˜Ÿš¥3 t¡9¤9Ñ-Ô-Ñ.Ô.Ğ.Ø×Ò˜Ÿš¥7Ñ+Ô+Ñ,Ô,Ğ,Ø×Ò˜Ÿš 1¤8Ñ,Ô,Ñ-Ô-Ğ-Ø×Ò˜Ÿš 4¨¨"¨¤:Ñ.Ô.Ñ/Ô/Ğ/Ø×Ò˜Ÿš¥3 t¡9¤9¨Q¨r¨T¤?Ñ3Ô3Ñ4Ô4Ğ4à×Ò˜aŸfšf™hœh™œ¨!¨Ñ-Ô-Ğ-Ø×Ò˜aŸfšf¨1˜f™oœoÑ.Ô.°Ñ3Ô3Ğ3Ø×Ò˜aŸfšf¨1˜f™oœoÑ.Ô.°°Ñ4Ô4Ğ4Ø×Ò˜aŸfšf¨!˜f™nœnÑ-Ô-°¨sÑ3Ô3Ğ3Ø×Ò˜aŸfšf¨!˜f™nœnÑ-Ô-°¨sÑ3Ô3Ğ3Ø×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨RÑ0Ô0Ğ0à×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨a°¨VÑ4Ô4Ğ4Ø×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨Y¨Y¨YÑ7Ô7Ğ7à×Ò˜Ÿš 4™œ¨1¬8°Q´XĞ*>Ñ?Ô?Ğ?Ø×Ò˜Ÿš a™œ­7µGĞ*<Ñ=Ô=Ğ=à×ÒuÔ0Ñ1Ô1ğ 	$ğ 	$ØIŠIlÑ#Ô#Ğ#ğ	$ğ 	$ğ 	$ñ 	$ô 	$ğ 	$ğ 	$ğ 	$ğ 	$ğ 	$ğ 	$øøøğ 	$ğ 	$ğ 	$ğ 	$ğ ×ÒzÑ*Ô*ğ 	ğ 	ØLŠL˜‰OŒOˆOğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš˜t™œ aÑ(Ô(Ğ(à×ÒuÔ0Ñ1Ô1ğ 	 ğ 	 ØEŠE,ÑÔĞğ	 ğ 	 ğ 	 ñ 	 ô 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 øøøğ 	 ğ 	 ğ 	 ğ 	 ğ 	×Ò˜Ÿš ™œ DÑ)Ô)Ğ)à×ÒzÑ*Ô*ğ 	ğ 	ØFŠF1‰IŒIˆIğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš $™œ¨Ñ.Ô.Ğ.Ø×Ò˜Ÿš !™œ dÑ+Ô+Ğ+Ø×Ò˜Ÿš "™œ q¤xÑ0Ô0Ğ0Ø×Ò˜Ÿš $™œ¨Ñ.Ô.Ğ.Ø×Ò˜Ÿš¥# d¡)¤)Ñ,Ô,¨dÑ3Ô3Ğ3à×ÒuÔ0Ñ1Ô1ğ 	&ğ 	&ØHŠH•S˜‘Y”Y˜q ˜t”_Ñ%Ô%Ğ%ğ	&ğ 	&ğ 	&ñ 	&ô 	&ğ 	&ğ 	&ğ 	&ğ 	&ğ 	&ğ 	&øøøğ 	&ğ 	&ğ 	&ğ 	&ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHR‰LŒLˆLğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHU‰OŒOˆOğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHQ‰KŒKˆKğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ ×ÒuÔ0Ñ1Ô1ğ 	ğ 	ØHŠHT‰NŒNˆNğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš 1™œ qÑ)Ô)Ğ)à×ÒzÑ*Ô*ğ 	ğ 	ØIŠIa‰LŒLˆLğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš a™œÑ)Ô)Ğ)à×ÒzÑ*Ô*ğ 	ğ 	ØLŠL˜‰OŒOˆOğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°2Ñ6Ô6Ğ6à×Ò˜Ÿš™œ T FÑ+Ô+Ğ+Ø×Ò˜Ÿš ™œ¨¨Ñ/Ô/Ğ/Ø×Ò˜Ÿš t f˜Ñ-Ô-°¨vÑ6Ô6Ğ6à×ÒuÔ0Ñ1Ô1ğ 	)ğ 	)ØGŠG˜,˜ˆGÑ(Ô(Ğ(ğ	)ğ 	)ğ 	)ñ 	)ô 	)ğ 	)ğ 	)ğ 	)ğ 	)ğ 	)ğ 	)øøøğ 	)ğ 	)ğ 	)ğ 	)ğ 	×Ò˜Ÿš DÑ)Ô)¨2Ñ.Ô.Ğ.Ğ.Ğ.sû   ©%AÁAÁ!AÃ8DÄDÄDÒ
R,Ò,R0Ò3R0ÓS3Ó3S7Ó:S7ÕU(Õ(U,Õ/U,Ö6W×W×WÛ!+\Ü\Ü\İ]$İ$](İ+](Ş^0Ş0^4Ş7^4ß_<ß<` à` à&aáaáaâb8â8b<â?b<äd'ä'd+ä.d+èh+è+h/è2h/c           	      óÀ  — d}|dz   }d|z   dz   }|                       ¦   «         }|                      ¦   «         5 }|                     |d |d|j        |j        ¦  «        }|                     |d |d||j        ¦  «        }|                     |d |d||j        ¦  «        }d d d ¦  «         n# 1 swxY w Y   |                      t          |¦  «        d¦  «         |                      t          |¦  «        g d¢¦  «         t          |¦  «        }	|                      t          |	¦  «        d¦  «         |                      t          |	¦  «        d¦  «         |                      t          |	¦  «        d¦  «         |  	                    t          ¦  «        5  t          |	¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          |                     ¦   «         ¦  «        g d¢¦  «         |                      t          |                     d¦  «        ¦  «        g d¢¦  «         |                      t          |                     d¦  «        ¦  «        ddg¦  «         |                      t          |                     d¦  «        ¦  «        dg¦  «         |                      t          |                     d¦  «        ¦  «        g ¦  «         |                      t          |                     d¬	¦  «        ¦  «        ddg¦  «         |                      t          |                     d¬	¦  «        ¦  «        g d¢¦  «         |                      t          |                     d¬	¦  «        ¦  «        g d¢¦  «         |                      t          |                     dd¦  «        ¦  «        g d
¢¦  «         |                      t          |                     dd¦  «        ¦  «        ddg¦  «         |                      t          |                     dd¦  «        ¦  «        ddg¦  «         |                      |                     |¦  «        |j        |j        f¦  «         |                      |                     |¦  «        ||j        f¦  «         |                      |                     |¦  «        ||j        f¦  «         |                      |                     d¦  «        t          t          f¦  «         |                      |                     d¦  «        dt          f¦  «         |                      |                     d¦  «        dt          f¦  «         |                      |                     |¦  «        d¦  «         |                      |                     |¦  «        d¦  «         |                      |                     |¦  «        d¦  «         |  	                    t           j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     d¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |  	                    t&          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     t+          |¦  «        ¦  «        |¦  «         |                      |                     |¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     d¦  «        |¦  «         |                      |                     t+          |¦  «        ¦  «        |¦  «         |                      |                     d¦  «        d¦  «         |                      |                     d¦  «        d¦  «         |                      |                     d¦  «        d¦  «         |  	                    t&          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     d¦  «        ¦  «         |                      |                     d¦  «        ¦  «         |                      |                     d¦  «        ¦  «         |  	                    t&          ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     ||j        ¦  «        g ¦  «         |                      |                     ||¦  «        |g¦  «         |                      |                     ||¦  «        |g¦  «         |                      |                     ||¦  «        |g¦  «         |                      |                     ||¦  «        |g¦  «         |                      |                     ||¦  «        |g¦  «         |                      t          |                     dg¦  «        ¦  «        ddg¦  «         |                      t          |                     dg¦  «        ¦  «        dg¦  «         |                      t          |                     ddg¦  «        ¦  «        ddg¦  «         |                      |                     ¦   «         |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |g¬	¦  «        ||g¦  «         |                      |                     |g¬	¦  «        ||g¦  «         |                      |                     ||g¬	¦  «        ||g¦  «         |  	                    t           j        ¦  «        5  |                     dg¬	¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        g ¦  «         d S )Nó   xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxó   yó   zr   rG   é   ©r   rG   r   r   rH   rJ   r   r   r$   )r%   rM   rN   r/   r&   r'   r(   r)   r,   r*   r+   r0   r1   r2   r   r6   r   r3   r7   r5   r8   r   r9   r-   r:   r;   r=   r>   r?   )
r@   Ú	fulltext0Ú	fulltext1Ú	fulltext2rA   rP   Únode0Únode1Únode2rB   s
             r   Útestmultiplerevisionsz%ifileindextests.testmultiplerevisionsú   sÍ  € Øˆ	Ø Ñ$ˆ	Ø˜9Ñ$ tÑ+ˆ	à×ÒÑÔˆØ×$Ò$Ñ&Ô&ğ 	C¨"Ø—E’E˜) T¨2¨q°!´(¸A¼HÑEÔEˆEØ—E’E˜) T¨2¨q°%¸¼ÑBÔBˆEØ—E’E˜) T¨2¨q°%¸¼ÑBÔBˆEğ	Cğ 	Cğ 	Cñ 	Cô 	Cğ 	Cğ 	Cğ 	Cğ 	Cğ 	Cğ 	Cøøøğ 	Cğ 	Cğ 	Cğ 	Cğ
 	×Ò˜Q™œ Ñ#Ô#Ğ#Ø×Ò˜a™œ ) ) )Ñ,Ô,Ğ,å1‰gŒgˆØ×Ò˜c™œ AÑ&Ô&Ğ&Ø×Ò˜c™œ AÑ&Ô&Ğ&Ø×Ò˜c™œ AÑ&Ô&Ğ&à×Ò}Ñ-Ô-ğ 	ğ 	İ‰IŒIˆIğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜aŸfšf™hœh™œ¨¨¨Ñ3Ô3Ğ3Ø×Ò˜aŸfšf Q™iœi™œ¨)¨)¨)Ñ4Ô4Ğ4Ø×Ò˜aŸfšf Q™iœi™œ¨1¨a¨&Ñ1Ô1Ğ1Ø×Ò˜aŸfšf Q™iœi™œ¨1¨#Ñ.Ô.Ğ.Ø×Ò˜aŸfšf Q™iœi™œ¨"Ñ-Ô-Ğ-Ø×Ò˜aŸfšf¨!˜f™nœnÑ-Ô-°°1¨vÑ6Ô6Ğ6Ø×Ò˜aŸfšf¨!˜f™nœnÑ-Ô-¨y¨y¨yÑ9Ô9Ğ9Ø×Ò˜aŸfšf¨!˜f™nœnÑ-Ô-¨y¨y¨yÑ9Ô9Ğ9Ø×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨Y¨Y¨YÑ7Ô7Ğ7Ø×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨a°¨VÑ4Ô4Ğ4à×Ò˜aŸfšf Q¨™lœlÑ+Ô+¨a°¨VÑ4Ô4Ğ4à×Ò˜Ÿš 5Ñ)Ô)¨A¬H°a´hĞ+?Ñ@Ô@Ğ@Ø×Ò˜Ÿš 5Ñ)Ô)¨E°1´8Ğ+<Ñ=Ô=Ğ=Ø×Ò˜Ÿš 5Ñ)Ô)¨E°1´8Ğ+<Ñ=Ô=Ğ=à×Ò˜Ÿš a™œ­7µGĞ*<Ñ=Ô=Ğ=Ø×Ò˜Ÿš a™œ¨1­g¨,Ñ7Ô7Ğ7Ø×Ò˜Ÿš a™œ¨1­g¨,Ñ7Ô7Ğ7à×Ò˜Ÿš˜u™œ qÑ)Ô)Ğ)Ø×Ò˜Ÿš˜u™œ qÑ)Ô)Ğ)Ø×Ò˜Ÿš˜u™œ qÑ)Ô)Ğ)à×ÒuÔ0Ñ1Ô1ğ 	 ğ 	 ØEŠE,ÑÔĞğ	 ğ 	 ğ 	 ñ 	 ô 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 ğ 	 øøøğ 	 ğ 	 ğ 	 ğ 	 ğ 	×Ò˜Ÿš ™œ EÑ*Ô*Ğ*Ø×Ò˜Ÿš ™œ EÑ*Ô*Ğ*Ø×Ò˜Ÿš ™œ EÑ*Ô*Ğ*à×ÒzÑ*Ô*ğ 	ğ 	ØFŠF1‰IŒIˆIğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš %™œ¨%Ñ0Ô0Ğ0Ø×Ò˜Ÿš !™œ eÑ,Ô,Ğ,Ø×Ò˜Ÿš $™œ¨Ñ/Ô/Ğ/Ø×Ò˜Ÿš¥# e¡*¤*Ñ-Ô-¨uÑ5Ô5Ğ5à×Ò˜Ÿš %™œ¨%Ñ0Ô0Ğ0Ø×Ò˜Ÿš !™œ eÑ,Ô,Ğ,Ø×Ò˜Ÿš $™œ¨Ñ/Ô/Ğ/Ø×Ò˜Ÿš¥# e¡*¤*Ñ-Ô-¨uÑ5Ô5Ğ5à×Ò˜Ÿš 1™œ qÑ)Ô)Ğ)Ø×Ò˜Ÿš 1™œ qÑ)Ô)Ğ)Ø×Ò˜Ÿš 1™œ qÑ)Ô)Ğ)à×ÒzÑ*Ô*ğ 	ğ 	ØIŠIa‰LŒLˆLğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜Ÿš a™œÑ)Ô)Ğ)Ø×Ò˜Ÿš a™œÑ)Ô)Ğ)Ø×Ò˜Ÿš a™œÑ)Ô)Ğ)à×ÒzÑ*Ô*ğ 	ğ 	ØLŠL˜‰OŒOˆOğ	ğ 	ğ 	ñ 	ô 	ğ 	ğ 	ğ 	ğ 	ğ 	ğ 	øøøğ 	ğ 	ğ 	ğ 	ğ 	×Ò˜×/Ò/°°q´xÑ@Ô@À"ÑEÔEĞEØ×Ò˜×/Ò/°°uÑ=Ô=À¸wÑGÔGĞGØ×Ò˜×/Ò/°°uÑ=Ô=À¸wÑGÔGĞGØ×Ò˜×/Ò/°°uÑ=Ô=À¸wÑGÔGĞGØ×Ò˜×/Ò/°°uÑ=Ô=À¸wÑGÔGĞGØ×Ò˜×/Ò/°°uÑ=Ô=À¸wÑGÔGĞGà×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°A°q°6Ñ:Ô:Ğ:Ø×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°A°3Ñ7Ô7Ğ7Ø×Ò˜aŸmšm¨Q°¨FÑ3Ô3Ñ4Ô4°q¸!°fÑ=Ô=Ğ=à×Ò˜Ÿš™œ U GÑ,Ô,Ğ,Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1ğ
 	×Ò˜Ÿš u g˜Ñ.Ô.°¸°Ñ?Ô?Ğ?Ø×Ò˜Ÿš u g˜Ñ.Ô.°¸°Ñ?Ô?Ğ?Ø×Ò˜Ÿš u¨e n˜Ñ5Ô5¸¸u°~ÑFÔFĞFà×ÒuÔ0Ñ1Ô1ğ 	)ğ 	)ØGŠG˜,˜ˆGÑ(Ô(Ğ(ğ	)ğ 	)ğ 	)ñ 	)ô 	)ğ 	)ğ 	)ğ 	)ğ 	)ğ 	)ğ 	)øøøğ 	)ğ 	)ğ 	)ğ 	)ğ 	×Ò˜Ÿš EÑ*Ô*¨U¨GÑ4Ô4Ğ4Ø×Ò˜Ÿš EÑ*Ô*¨U¨GÑ4Ô4Ğ4Ø×Ò˜Ÿš EÑ*Ô*¨BÑ/Ô/Ğ/Ğ/Ğ/s~   ¸A#B'Â'B+Â.B+ÆF(Æ(F,Æ/F,×!XØXØ
XÚ#[Û[	Û[	ãc)ã)c-ã0c-æf(æ(f,æ/f,ò2sósósc           	      óö	  — |                       ¦   «         }|                      ¦   «         5 }|                     dd |d|j        |j        ¦  «        }|                     dd |d||j        ¦  «        }|                     dd |d||j        ¦  «        }|                     dd |d||j        ¦  «        }|                     d	d |d
||j        ¦  «        }|                     dd |d||j        ¦  «        }d d d ¦  «         n# 1 swxY w Y   |                      t          |¦  «        d¦  «         |                      t          |                     dg¦  «        ¦  «        g d¢¦  «         |                      t          |                     dg¦  «        ¦  «        dg¦  «         |                      t          |                     dg¦  «        ¦  «        g ¦  «         |                      t          |                     dg¦  «        ¦  «        d
g¦  «         |                      t          |                     ddg¦  «        ¦  «        g d¢¦  «         |                      t          |                     ddg¦  «        ¦  «        dd
g¦  «         |                      |                     ¦   «         |||g¦  «         |                      |                     |¦  «        |||g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |¦  «        |g¦  «         |                      |                     |g¬¦  «        ||||g¦  «         |                      |                     |g¬¦  «        ||||g¦  «         |                      | 	                    |¦  «        |||g¦  «         |                      | 	                    |¦  «        |g¦  «         |                      | 	                    |¦  «        g ¦  «         |                      | 	                    |¦  «        |g¦  «         |                      | 	                    |¦  «        g ¦  «         |                      | 	                    |¦  «        g ¦  «         d S )Nr   r   r$   rG   ó   2r   ó   3rV   ó   4é   ó   5r    é   )rG   r   rV   rc   r    rH   )
r%   rM   rN   r/   r&   r'   r(   r=   r>   r?   )	r@   rA   rP   r[   r\   r]   Únode3Únode4Únode5s	            r   Útestmultipleheadsz!ifileindextests.testmultipleheadsi  s”  € Ø×ÒÑÔˆà×$Ò$Ñ&Ô&ğ 	>¨"Ø—E’E˜$  b¨!¨Q¬X°q´xÑ@Ô@ˆEØ—E’E˜$  b¨!¨U°A´HÑ=Ô=ˆEØ—E’E˜$  b¨!¨U°A´HÑ=Ô=ˆEØ—E’E˜$  b¨!¨U°A´HÑ=Ô=ˆEØ—E’E˜$  b¨!¨U°A´HÑ=Ô=ˆEØ—E’E˜$  b¨!¨U°A´HÑ=Ô=ˆEğ	>ğ 	>ğ 	>ñ 	>ô 	>ğ 	>ğ 	>ğ 	>ğ 	>ğ 	>ğ 	>øøøğ 	>ğ 	>ğ 	>ğ 	>ğ 	×Ò˜Q™œ Ñ#Ô#Ğ#à×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°?°?°?ÑCÔCĞCØ×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°A°3Ñ7Ô7Ğ7Ø×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°2Ñ6Ô6Ğ6Ø×Ò˜aŸmšm¨Q¨CÑ0Ô0Ñ1Ô1°A°3Ñ7Ô7Ğ7Ø×Ò˜aŸmšm¨Q°¨FÑ3Ô3Ñ4Ô4°o°o°oÑFÔFĞFØ×Ò˜aŸmšm¨Q°¨FÑ3Ô3Ñ4Ô4°q¸!°fÑ=Ô=Ğ=à×Ò˜Ÿš™œ U¨E°5Ğ$9Ñ:Ô:Ğ:Ø×Ò˜Ÿš ™œ¨%°¸Ğ)>Ñ?Ô?Ğ?Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1Ø×Ò˜Ÿš ™œ¨%¨Ñ1Ô1Ğ1ğ 	×Ò˜Ÿš u g˜Ñ.Ô.°¸¸uÀeĞ0LÑMÔMĞMØ×Ò˜Ÿš u g˜Ñ.Ô.°¸¸uÀeĞ0LÑMÔMĞMà×Ò˜Ÿš EÑ*Ô*¨U°E¸5Ğ,AÑBÔBĞBØ×Ò˜Ÿš EÑ*Ô*¨U¨GÑ4Ô4Ğ4Ø×Ò˜Ÿš EÑ*Ô*¨BÑ/Ô/Ğ/Ø×Ò˜Ÿš EÑ*Ô*¨U¨GÑ4Ô4Ğ4Ø×Ò˜Ÿš EÑ*Ô*¨BÑ/Ô/Ğ/Ø×Ò˜Ÿš EÑ*Ô*¨BÑ/Ô/Ğ/Ğ/Ğ/s   ©C C5Ã5C9Ã<C9N)r   r   r   Ú__doc__rD   rQ   r^   ri   r   r   r   r   r      sf   € € € € € ğğ ğt%ğ t%ğ t%ğlZ/ğ Z/ğ Z/ğxm0ğ m0ğ m0ğ^%0ğ %0ğ %0ğ %0ğ %0r   r   c                   óT   — e Zd ZdZd„ Zd„ Zd„ Zd„ Zd„ Zd„ Z	d„ Z
d	„ Zd
„ Zd„ Zd„ ZdS )ÚifiledatatestszÌGeneric tests for the ifiledata interface.

    All file storage backends for data should conform to the tests in this
    class.

    Use ``makeifiledatatests()`` to create an instance of this type.
    c                 ó¤  — |                       ¦   «         }|                      |                     ¦   «         i ¦  «         |                      |                     dd¬¦  «        dddœ¦  «         |                      |                     t          ¦  «        d¦  «         t          dd¦  «        D ]U}|t          k    rŒ|                      t          ¦  «        5  |                     |¦  «         d d d ¦  «         n# 1 swxY w Y   ŒV|                      |                     |j	        ¦  «        d¦  «         |                      | 
                    |j	        ¦  «        d¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |j	        ¦  «        d¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |j	        ¦  «        ¦  «         |                      t          j        ¦  «        5  |                     d¦  «         d d d ¦  «         n# 1 swxY w Y   |                      |                     |j	        d¦  «        ¦  «         |                      |                     |j	        d	¦  «        ¦  «         |                      t          j        ¦  «        5  |                     dd
¦  «         d d d ¦  «         n# 1 swxY w Y   |                     g ¦  «        }|                      t&          ¦  «        5  t)          |¦  «         d d d ¦  «         n# 1 swxY w Y   |                     |j	        g¦  «        }|                      t&          ¦  «        5  t)          |¦  «         d d d ¦  «         n# 1 swxY w Y   |                      t          j        ¦  «        5  t+          |                     dg¦  «        ¦  «         d d d ¦  «         d S # 1 swxY w Y   d S )NT©ÚrevisionscountÚtrackedsizer   ©s   revisionscounts   trackedsizer   r    r   r   ó   fooó
   irrelevant)r%   r&   ÚstorageinfoÚsizer   r4   r*   r5   Úrevisionr/   Úrawdatar   r3   Úreadr-   ÚrenamedrO   ÚcmpÚemitrevisionsr+   r,   r(   )r@   rA   rC   rB   s       r   rD   zifiledatatests.testemptyš  s¤  € Ø×ÒÑÔˆà×Ò˜Ÿš™œ¨"Ñ-Ô-Ğ-Ø×ÒØMŠM¨¸4ˆMÑ@Ô@Ø !°1Ğ5Ğ5ñ	
ô 	
ğ 	
ğ
