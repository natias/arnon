Solution:   Add type cast.
Files:	    src/dosinst.c

Patch 8.1.0728
Problem:    Cannot avoid breaking after a single space.
Solution:   Add the 'p' flag to 'formatoptions'. (Tom Ryder)
Files:	    runtime/doc/change.txt, src/edit.c, src/option.h,
            src/testdir/test_textformat.vim

Patch 8.1.0729
Problem:    There is a SourcePre autocommand event but not a SourcePost.
Solution:   Add the SourcePost autocommand event. (closes #3739)
Files:	    src/vim.h, src/fileio.c, src/ex_cmds2.c, runtime/doc/autocmd.txt,
            src/testdir/test_source.vim, src/testdir/Make_all.mak

Patch 8.1.0730
Problem:    Compiler warning for get_buf_arg() unused.
Solution:   Add #ifdef. (John Marriott)
Files:	    src/evalfunc.c

Patch 8.1.0731
Problem:    JS encoding does not handle negative infinity.
Solution:   Add support for negative infinity for JS encoding. (Dominique
            Pelle, closes #3792)
Files:	    runtime/doc/eval.txt, src/json.c, src/testdir/test_json.vim

Patch 8.1.0732
Problem:    Cannot build without the eval feature.
Solution:   Make a copy of the sourced file name.
Files:	    src/ex_cmds2.c

Patch 8.1.0733
Problem:    Too many #ifdefs for the multibyte feature.
Solution:   Tentatively always enable the multibyte feature.  If you have a
            problem with this, please discuss on the Vim maillist.
Files:	    src/configure.ac, src/auto/configure, src/feature.h, src/Makefile,
            src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.1.0734
Problem:    The hlsearch state is not stored in a session file.
Solution:   Add "nohlsearch" if appropriate. (Jason Franklin)
Files:	    src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.1.0735
Problem:    Cannot handle binary data.
Solution:   Add the Blob type. (Yasuhiro Matsumoto, closes #3638)
Files:	    runtime/doc/eval.txt, runtime/doc/if_perl.txt,
            runtime/doc/if_ruby.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/Makefile, src/blob.c, src/channel.c, src/eval.c,
            src/evalfunc.c, src/if_perl.xs, src/if_py_both.h, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/json.c, src/netbeans.c,
            src/proto.h, src/proto/blob.pro, src/proto/channel.pro,
            src/structs.h, src/testdir/Make_all.mak, src/vim.h, src/globals.h,
            src/testdir/test_blob.vim, src/testdir/test_channel.vim

Patch 8.1.0736
Problem:    Code for Blob not sufficiently tested.
Solution:   Add more tests.  Fix uncovered crash.  Add test_null_blob().
Files:	    src/testdir/test_blob.vim, src/testdir/test_assign.vim, src/eval.c,
            src/testdir/test_eval_stuff.vim, src/testdir/test_lambda.vim,
            runtime/doc/eval.txt, src/evalfunc.c, src/blob.c,
            src/testdir/test49.vim

Patch 8.1.0737
Problem:    Compiler warning for uninitialized variable.
Solution:   Add initialization. (John Marriott)
Files:	    src/eval.c

Patch 8.1.0738
Problem:    Using freed memory, for loop over blob leaks memory.
Solution:   Clear pointer after freeing memory.  Decrement reference count
            after for loop over blob.
Files:	    src/eval.c

Patch 8.1.0739
Problem:    Text objects in not sufficiently tested.
Solution:   Add a few more test cases. (Dominique Pelle, closes #3795)
Files:	    src/testdir/test_visual.vim

Patch 8.1.0740
Problem:    Tcl test fails.
Solution:   When the argument is empty don't give an error, instead rely on
            the error reporting higher up.
Files:	    src/eval.c

Patch 8.1.0741
Problem:    Viminfo with Blob is not tested.
Solution:   Extend the viminfo test.  Fix reading a blob.  Fixed storing a
            special variable value.
Files:	    src/testdir/test_viminfo.vim, src/eval.c, src/blob.c,
            src/proto/blob.pro

Patch 8.1.0742
Problem:    Not all Blob operations are tested.
Solution:   Add more testing for Blob.
Files:	    src/testdir/test_blob.vim, src/evalfunc.c,
            src/testdir/test_eval_stuff.vim

Patch 8.1.0743
Problem:    Giving error messages is not flexible.
Solution:   Add semsg().  Change argument from "char_u *" to "char *", also
            for msg() and get rid of most MSG macros. (Ozaki Kiichi, closes
            #3302)  Also make emsg() accept a "char *" argument.  Get rid of
            an enormous number of type casts.
Files:	    src/blob.c, src/blowfish.c, src/buffer.c, src/channel.c,
            src/crypt.c, src/dict.c, src/diff.c, src/digraph.c, src/edit.c,
            src/eval.c, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,
            src/farsi.h, src/fileio.c, src/fold.c, src/getchar.c,
            src/globals.h, src/gui.c, src/gui_at_fs.c, src/gui_at_sb.c,
            src/gui_beval.c, src/gui_gtk_x11.c, src/gui_mac.c,
            src/gui_photon.c, src/gui_w32.c, src/gui_x11.c, src/hangulin.c,
            src/hardcopy.c, src/hashtab.c, src/if_cscope.c, src/if_lua.c,
            src/if_mzsch.c, src/if_perl.xs, src/if_py_both.h, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c,
            src/json.c, src/list.c, src/main.c, src/mark.c, src/mbyte.c,
            src/memfile.c, src/memline.c, src/menu.c, src/message.c,
            src/misc1.c, src/misc2.c, src/netbeans.c, src/normal.c, src/ops.c,
            src/option.c, src/os_amiga.c, src/os_mswin.c, src/os_unix.c,
            src/os_win32.c, src/popupmnu.c, src/proto.h, src/proto/buffer.pro,
            src/proto/digraph.pro, src/proto/ex_docmd.pro,
            src/proto/ex_eval.pro, src/proto/ex_getln.pro,
            src/proto/hardcopy.pro, src/proto/mbyte.pro,
            src/proto/message.pro, src/proto/misc2.pro, src/proto/option.pro,
            src/proto/spell.pro, src/quickfix.c, src/regexp.c,
            src/regexp_nfa.c, src/search.c, src/sign.c, src/spell.c,
            src/spellfile.c, src/structs.h, src/syntax.c, src/tag.c,
            src/term.c, src/terminal.c, src/textprop.c, src/ui.c, src/undo.c,
            src/userfunc.c, src/version.c, src/vim.h, src/window.c,

Patch 8.1.0744 (after 8.1.0743)
Problem:    Compiler warnings for signed/unsigned strings.
Solution:   A few more type cast fixes.
Files:	    src/option.c, src/if_perl.xs, src/if_py_both.h, src/integration.c

Patch 8.1.0745
Problem:    Compiler warnings for signed/unsigned string.
Solution:   Remove type casts. (John Marriott)
Files:	    src/ex_docmd.c, src/mbyte.c

Patch 8.1.0746
Problem:    Highlighting not updated with conceal and 'cursorline'. (Jason
            Franklin)
Solution:   Do not use a zero line number.  Check if 'conceallevel' is set for
            the current window.
Files:	    src/main.c, src/testdir/test_conceal.vim,
            src/testdir/dumps/Test_conceal_cul_01.dump,
            src/testdir/dumps/Test_conceal_cul_02.dump,
            src/testdir/dumps/Test_conceal_cul_03.dump

Patch 8.1.0747
Problem:    map() with a bad expression doesn't give an error. (Ingo Karkat)
Solution:   Check for giving an error message. (closes #3800)
Files:	    src/eval.c, src/testdir/test_filter_map.vim

Patch 8.1.0748
Problem:    Using sprintf() instead of semsg().
Solution:   Use semsg().  Fix bug with E888. (Ozaki Kiichi, closes #3801)
Files:	    src/regexp.c

Patch 8.1.0749 (after 8.1.0747)
Problem:    Error message contains garbage. (Dominique Pelle)
Solution:   Use correct pointer to failed expression.
Files:	    src/eval.c

Patch 8.1.0750
Problem:    When the last sign is deleted the signcolumn may not be removed
            even though 'signcolumn' is "auto".
Solution:   When deleting the last sign redraw the buffer. (Dominique Pelle,
            closes #3803, closes #3804)
Files:	    src/sign.c

Patch 8.1.0751
Problem:    Some regexp errors are not tested.
Solution:   Add a test function.
Files:	    src/testdir/test_regexp_latin.vim

Patch 8.1.0752
Problem:    One more compiler warning for signed/unsigned string. (Tony
            Mechelynck)
Solution:   Remove type cast.
Files:	    src/ex_docmd.c

Patch 8.1.0753
Problem:    printf format not checked for semsg().
Solution:   Add GNUC attribute and fix reported problems. (Dominique Pelle,
            closes #3805)
Files:	    src/buffer.c, src/diff.c, src/eval.c, src/evalfunc.c,
            src/ex_docmd.c, src/if_cscope.c, src/netbeans.c, src/proto.h,
            src/proto/message.pro, src/quickfix.c, src/regexp_nfa.c,
            src/sign.c, src/spellfile.c, src/window.c, src/gui_x11.c

Patch 8.1.0754
Problem:    Preferred column is lost when setting 'cursorcolumn'.
Solution:   Change option flag to P_RWINONLY. (Takayuki Kurosawa,
            closes #3806)
Files:	    src/option.c, src/testdir/test_cursor_func.vim

Patch 8.1.0755
Problem:    Error message for get() on a Blob with invalid index.
Solution:   Return an empty Blob, like get() on a List does.
Files:	    src/evalfunc.c, src/testdir/test_blob.vim

Patch 8.1.0756
Problem:    copy() does not make a copy of a Blob.
Solution:   Make a copy.
Files:	    src/eval.c, src/testdir/test_blob.vim

Patch 8.1.0757
Problem:    Not enough documentation for Blobs.
Solution:   Add a section about Blobs.
Files:	    runtime/doc/eval.txt

Patch 8.1.0758
Problem:    Font number is always one instead of the actual.
Solution:   Use "%d" instead of "1". (Ken Takata)
Files:	    src/gui_x11.c

Patch 8.1.0759
Problem:    Showing two characters for tab is limited.
Solution:   Allow for a third character for "tab:" in 'listchars'. (Nathaniel
            Braun, Ken Takata, closes #3810)
Files:	    runtime/doc/options.txt, src/globals.h, src/message.c,
            src/option.c, src/screen.c, src/testdir/test_listchars.vim

Patch 8.1.0760
Problem:    No proper test for using 'termencoding'.
Solution:   Add a screendump test.  Fix using double width characters in a
            screendump.
Files:	    src/terminal.c, src/testdir/test_termencoding.vim,
            src/testdir/Make_all.mak,
            src/testdir/dumps/Test_tenc_euc_jp_01.dump

Patch 8.1.0761
Problem:    Default value for brief_wait is wrong.
Solution:   Make the default FALSE. (Ozaki Kiichi, closes #3812, closes #3799)
Files:	    src/ui.c

Patch 8.1.0762
Problem:    Compiler warning.
Solution:   Add type cast. (Mike Williams)
Files:	    src/channel.c

Patch 8.1.0763
Problem:    Nobody is using the Sun Workshop support.
Solution:   Remove the Workshop support.
Files:	    runtime/doc/workshop.txt, runtime/doc/help.txt,
            runtime/doc/netbeans.txt, src/Makefile, src/auto/configure,
            src/beval.c, src/buffer.c, src/config.h.in, src/config.mk.in,
            src/configure.ac, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,
            src/ex_docmd.c, src/feature.h, src/fileio.c, src/globals.h,
            src/gui.c, src/gui_beval.c, src/gui_motif.c, src/gui_x11.c,
            src/integration.c, src/integration.h, src/main.c, src/misc2.c,
            src/nbdebug.c, src/netbeans.c, src/proto.h,
            src/proto/workshop.pro, src/ui.c, src/version.c, src/vim.h,
            src/workshop.c, src/workshop.h, src/wsdebug.c, src/wsdebug.h,
            src/ex_cmdidxs.h

Patch 8.1.0764
Problem:    List of distributed files is outdated.
Solution:   Remove workshop files.  Add blob files.
Files:	    Filelist

Patch 8.1.0765
Problem:    String format of a Blob can't be parsed back.
Solution:   Use 0z format.
Files:	    src/blob.c, src/eval.c, src/testdir/test_blob.vim

Patch 8.1.0766
Problem:    Various problems when using Vim on VMS.
Solution:   Various fixes. Define long_long_T. (Zoltan Arpadffy)
Files:	    src/eval.c, src/feature.h, src/fileio.c, src/gui_motif.c,
            src/gui_x11.c, src/gui_xmebw.c, src/json.c, src/Make_vms.mms,
            src/ops.c, src/os_vms_conf.h, src/vim.h, src/xdiff/xdiff.h,
            src/xdiff/xinclude.h

Patch 8.1.0767
Problem:    When deleting lines at the bottom signs are misplaced.
Solution:   Properly update the line number of signs at the end of a buffer
            after a delete/undo operation. (Yegappan Lakshmanan, closes #3798)
Files:	    src/sign.c, src/testdir/test_signs.vim

Patch 8.1.0768
Problem:    Updating completions may cause the popup menu to flicker.
Solution:   Avoid updating the text below the popup menu before drawing the
            popup menu.
Files:	    src/popupmnu.c, src/proto/popupmnu.pro, src/edit.c, src/screen.c

Patch 8.1.0769
Problem:    :stop is covered in two tests.
Solution:   Remove Test_stop_in_terminal().  Make other test exit Vim cleanly.
            (Ozaki Kiichi, closes #3814)
Files:	    src/testdir/test_terminal.vim, src/testdir/test_suspend.vim

Patch 8.1.0770
Problem:    Inconsistent use of ELAPSED_FUNC.
Solution:   Consistently use ELAPSED_FUNC.  Also turn ELAPSED_TYPE into a
            typedef. (Ozaki Kiichi, closes #3815)
Files:	    src/channel.c, src/gui.c, src/misc1.c, src/os_unix.c, src/vim.h

Patch 8.1.0771
Problem:    Some shell filetype patterns end in a star.
Solution:   Make sure that patterns not ending in a star are preferred.
Files:	    runtime/filetype.vim, runtime/autoload/dist/ft.vim

Patch 8.1.0772
Problem:    The sign_define_by_name() function is too long.
Solution:   Split it into smaller functions. (Yegappan Lakshmanan,
            closes #3819)
Files:	    src/sign.c

Patch 8.1.0773
Problem:    Not all crypt code is tested.
Solution:   Disable unused crypt code.  Add more test coverage.
Files:	    src/structs.h, src/crypt.c, src/testdir/test_crypt.vim,
            src/proto/crypt.pro, src/fileio.c

Patch 8.1.0774
Problem:    VMS build is missing the blob file.
Solution:   Add the blob file to the build rules. (Zoltan Arpadffy)
Files:	    src/Make_vms.mms, runtime/doc/os_vms.txt

Patch 8.1.0775
Problem:    Matching too many files as zsh. (Danek Duvall)
Solution:   Be more specific with zsh filetype patterns.
Files:	    runtime/filetype.vim

Patch 8.1.0776
Problem:    Travis does not build a version without GUI on Linux.
Solution:   Add an environment for tiny features without GUI.
Files:	    .travis.yml

Patch 8.1.0777
Problem:    Win32: using pipes for channel does not work well.
Solution:   Use a larger buffer and handle overlaps. (Yasuhiro Matsumoto,
            closes #3782)
Files:	    src/channel.c, src/os_win32.c

Patch 8.1.0778
Problem:    Terminal test fails on MS-Windows.
Solution:   Temporarily skip the test on MS-Windows.  Do run it both in
            terminal and GUI on other systems.
Files:	    src/testdir/test_terminal.vim

Patch 8.1.0779
Problem:    Argument for message functions is inconsistent.
Solution:   Make first argument to msg() "char *".
Files:      src/buffer.c, src/crypt.c, src/edit.c, src/ex_cmds.c, src/eval.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/farsi.c,
            src/if_cscope.c, src/fileio.c, src/getchar.c, src/globals.h,
            src/gui.c, src/if_perl.xs, src/netbeans.c, src/gui_w32.c,
            src/hardcopy.c, src/if_mzsch.c, src/if_py_both.h, src/if_ruby.c,
            src/if_tcl.c, src/mark.c, src/mbyte.c, src/menu.c, src/memline.c,
            src/message.c, src/misc1.c, src/misc2.c, src/normal.c, src/ops.c,
            src/option.c, src/os_amiga.c, src/os_unix.c, src/os_win32.c,
            src/proto/message.pro, src/quickfix.c, src/sign.c, src/regexp.c,
            src/ui.c, src/screen.c, src/search.c, src/spell.c,
            src/spellfile.c, src/syntax.c, src/tag.c, src/term.c, src/undo.c,
            src/userfunc.c, src/version.c, src/vim.h, src/window.c,
            src/proto/eval.pro, src/evalfunc.c, src/ex_eval.c, src/farsi.h

Patch 8.1.0780
Problem:    Terminal test fails on Mac.
Solution:   Skip the test on Mac.
Files:	    src/testdir/test_terminal.vim

Patch 8.1.0781
Problem:    Build error when using if_xcmdsrv.c.
Solution:   Add missing part of 8.1.0779.
Files:	    src/if_xcmdsrv.c

Patch 8.1.0782
Problem:    Win32: cursor blinks when Vim is not active.
Solution:   Remove call to setActiveWindow(). (Yasuhiro Matsumoto,
            closes #3778)
Files:	    src/gui_w32.c, src/proto/gui_w32.pro, src/menu.c

Patch 8.1.0783
Problem:    Compiler warning for signed/unsigned.
Solution:   Add type cast.  Change type of buffer. (Ozaki Kiichi, closes #3827)
Files:	    src/main.c, src/message.c

Patch 8.1.0784
Problem:    Messy indent in if statement.
Solution:   Improve structure of if statement. (Ozaki Kiichi, closes #3826)
Files:	    src/os_win32.c

Patch 8.1.0785
Problem:    Depending on the configuration some functions are unused.
Solution:   Add more #ifdefs, remove unused functions. (Dominique Pelle,
            closes #3822)
Files:	    src/buffer.c, src/channel.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/fileio.c, src/getchar.c, src/gui_gtk_x11.c, src/hashtab.c,
            src/json.c, src/mbyte.c, src/message.c, src/misc1.c, src/misc2.c,
            src/ops.c, src/option.c, src/os_unix.c, src/proto/os_unix.pro,
            src/proto/regexp.pro, src/proto/terminal.pro, src/regexp.c,
            src/screen.c, src/search.c, src/syntax.c, src/term.c,
            src/terminal.c, src/ui.c, src/userfunc.c

Patch 8.1.0786
Problem:    ml_get error when updating the status line and a terminal had its
            scrollback cleared.  (Chris Patuzzo)
Solution:   Check the cursor position when drawing the status line.
            (closes #3830)
Files:	    src/buffer.c, src/testdir/test_terminal.vim

Patch 8.1.0787
Problem:    Compiler warning for unused function. (Tony Mechelynck)
Solution:   Tune #ifdef around setjmp functions.
Files:	    src/os_unix.c

Patch 8.1.0788
Problem:    Cannot build with tiny features.
Solution:   Adjust #ifdefs.
Files:	    src/os_unix.c

Patch 8.1.0789
Problem:    Sourcing a session sets v:errmsg.
Solution:   Use "%argdel" instead of "argdel *". (Jason Franklin)
Files:	    src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.1.0790
Problem:    Code for creating tabpages in session is too complex.
Solution:   Simplify the code. (Jason Franklin)
Files:	    src/ex_docmd.c

Patch 8.1.0791
Problem:    A few compiler warnings on VMS.
Solution:   Remove type cast.  Adjust #ifdef. (Zoltan Arpadffy)
Files:	    src/os_unix.c, src/proto.h

Patch 8.1.0792
Problem:    Popup menu is displayed on top of the cmdline window if it is
            opened from Insert completion. (Bjorn Linse)
Solution:   Remove the popup menu.  Restore the cursor position.
            (closes #3838)
Files:	    src/edit.c, src/ex_getln.c

Patch 8.1.0793
Problem:    Incorrect error messages for functions that now take a Blob
            argument.
Solution:   Adjust the error messages. (Dominique Pelle, closes #3846)
Files:	    runtime/doc/eval.txt, src/evalfunc.c, src/globals.h,
            src/testdir/test_blob.vim, src/testdir/test_listdict.vim

Patch 8.1.0794
Problem:    White space before " -Ntabmove" causes problems.
Solution:   Skip whitespace. (Ozaki Kiichi, closes #3841)
Files:	    src/ex_docmd.c, src/testdir/test_tabpage.vim

Patch 8.1.0795 (after 8.1.0792)
Problem:    Cannot build without popup menu.
Solution:   Add #ifdef
Files:	    src/ex_getln.c

Patch 8.1.0796
Problem:    MS-Windows 7: problem with named pipe on channel.
Solution:   Put back the disconnect/connect calls. (Yasuhiro Matsumoto,
            closes #3833)
Files:	    src/channel.c, src/testdir/test_terminal.vim

Patch 8.1.0797
Problem:    Error E898 is used twice.
Solution:   Rename the Blob error to E899. (closes #3853)
Files:	    src/evalfunc.c, runtime/doc/eval.txt,
            src/testdir/test_listdict.vim

Patch 8.1.0798
Problem:    Changing a blob while iterating over it works strangely.
Solution:   Make a copy of the Blob before iterating.
Files:	    src/blob.c, src/proto/blob.pro, src/eval.c,
            src/testdir/test_blob.vim

Patch 8.1.0799
Problem:    Calling deleted function; test doesn't work on Mac.
Solution:   Wait for the function to be called before deleting it. Use a job
            to write to the pty, unless in the GUI. (Ozaki Kiichi,
            closes #3854)
Files:	    src/testdir/test_channel.vim, src/testdir/test_terminal.vim

Patch 8.1.0800
Problem:    May use a lot of memory when a function creates a cyclic
            reference.
Solution:   After saving a funccal many times, invoke the garbage collector.
            (closes #3835)
Files:	    src/userfunc.c

Patch 8.1.0801
Problem:    MinGW: no hint that tests fail because of small terminal.
Solution:   Add a rule for test1 that checks for "wrongtermsize".
            (msoyka-of-wharton)
Files:	    src/testdir/Make_ming.mak

Patch 8.1.0802
Problem:    Negative index doesn't work for Blob.
Solution:   Make it work, add a test. (closes #3856)
Files:	    src/blob.c, src/proto/blob.pro, src/eval.c,
            src/testdir/test_blob.vim

Patch 8.1.0803
Problem:    Session file has problem with single quote in file name. (Jon
            Crowe)
Solution:   Use a double quoted string.  Add a test.
Files:	    src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.1.0804
Problem:    Crash when setting v:errmsg to empty list. (Jason Franklin)
Solution:   Separate getting value and assigning result.
Files:	    src/eval.c, src/testdir/test_eval_stuff.vim

Patch 8.1.0805
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_MBYTE, part 1.
Files:	    src/buffer.c, src/charset.c, src/diff.c, src/digraph.c,
            src/edit.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,
            src/fold.c, src/gui.c, src/gui_mac.c, src/gui_photon.c,
            src/gui_w32.c

Patch 8.1.0806
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_MBYTE, part 2.
Files:	    src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/gui_w32.c,
            src/gui_x11.c, src/hardcopy.c, src/if_xcmdsrv.c, src/json.c,
            src/kword_test.c, src/main.c, src/mbyte.c, src/memline.c,
            src/message.c, src/misc1.c, src/misc2.c, src/move.c, src/normal.c,
            src/ops.c, src/option.c, src/charset.c

Patch 8.1.0807
Problem:    Session test fails on MS-Windows.
Solution:   Don't try creating file with illegal name.
Files:	    src/testdir/test_mksession.vim

Patch 8.1.0808
Problem:    MS-Windows: build error with GUI.
Solution:   Remove "static".
Files:	    src/gui_w32.c

Patch 8.1.0809
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_MBYTE, part 3.
Files:	    src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_w32exe.c,
            src/os_win32.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,
            src/screen.c

Patch 8.1.0810
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_MBYTE, part 4.
Files:	    src/getchar.c, src/search.c, src/sign.c, src/spell.c,
            src/spellfile.c, src/syntax.c, src/tag.c, src/term.c, src/ui.c,
            src/version.c, src/winclip.c, src/window.c, src/glbl_ime.cpp,
            src/ex_cmds.h, src/globals.h, src/gui.h, src/if_py_both.h,
            src/macros.h, src/option.h, src/os_mac.h, src/os_win32.h,
            src/proto.h, src/spell.h, src/structs.h, src/vim.h

Patch 8.1.0811
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_MBYTE, the final chapter.
Files:	    src/feature.h, src/vim.h, src/crypt_zip.c, src/fileio.c,
            src/message.c, src/spell.h, src/structs.h, src/config.h.in,
            src/configure.ac, src/auto/configure, src/testdir/runtest.vim,
            src/testdir/test_alot_utf8.vim, src/testdir/test_arabic.vim,
            src/testdir/test_charsearch_utf8.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_digraph.vim,
            src/testdir/test_display.vim, src/testdir/test_edit.vim,
            src/testdir/test_erasebackword.vim,
            src/testdir/test_expr_utf8.vim, src/testdir/test_functions.vim,
            src/testdir/test_ga.vim, src/testdir/test_iminsert.vim,
            src/testdir/test_increment_dbcs.vim, src/testdir/test_json.vim,
            src/testdir/test_makeencoding.vim, src/testdir/test_maparg.vim,
            src/testdir/test_mapping.vim, src/testdir/test_marks.vim,
            src/testdir/test_match.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_mksession_utf8.vim, src/testdir/test_normal.vim,
            src/testdir/test_plus_arg_edit.vim, src/testdir/test_profile.vim,
            src/testdir/test_put.vim, src/testdir/test_regex_char_classes.vim,
            src/testdir/test_regexp_utf8.vim, src/testdir/test_search.vim,
            src/testdir/test_source_utf8.vim, src/testdir/test_spell.vim,
            src/testdir/test_startup_utf8.vim,
            src/testdir/test_termencoding.vim, src/testdir/test_terminal.vim,
            src/testdir/test_utf8.vim, src/testdir/test_utf8_comparisons.vim,
            src/testdir/test_viminfo.vim, src/testdir/test_virtualedit.vim,
            src/testdir/test_visual.vim, src/testdir/test_wordcount.vim,
            src/testdir/test_writefile.vim, src/appveyor.bat, src/os_macosx.m

Patch 8.1.0812
Problem:    Unicode 16 feature is not useful and cannot be detected.
Solution:   Remove UNICODE16.
Files:	    src/screen.c, src/vim.h, src/feature.h

Patch 8.1.0813
Problem:    FileChangedShell not sufficiently tested.
Solution:   Add a more comprehensive test case.
Files:	    src/testdir/test_autocmd.vim

Patch 8.1.0814
Problem:    :mksession cannot handle a very long 'runtimepath'. (Timothy
            Madden)
Solution:   Expand each part separately, instead of the whole option at once.
            (Christian Brabandt, closes #3466)
Files:	    src/option.c, src/testdir/test_mksession.vim

Patch 8.1.0815
Problem:    Dialog for file changed outside of Vim not tested.
Solution:   Add a test.  Move FileChangedShell test.  Add 'L' flag to
            feedkeys().
Files:	    src/testdir/test_autocmd.vim, src/testdir/test_filechanged.vim,
            src/testdir/Make_all.mak, src/evalfunc.c, runtime/doc/eval.txt

Patch 8.1.0816
Problem:    Test for 'runtimepath' in session fails on MS-Windows.
Solution:   Skip the test for now.
Files:	    src/testdir/test_mksession.vim

Patch 8.1.0817
Problem:    ":=" command is not tested.
Solution:   Add a test. (Dominique Pelle, closes #3859)
Files:	    src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_ex_equal.vim

Patch 8.1.0818
Problem:    MS-Windows: cannot send large data with ch_sendraw().
Solution:   Split write into several WriteFile() calls. (Yasuhiro Matsumoto,
            closes #3823)
Files:	    src/channel.c, src/os_win32.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_pipe.py, src/vim.h

Patch 8.1.0819
Problem:    A failed assert with a long string is hard to read.
Solution:   Shorten the assert message.
Files:	    src/eval.c, src/testdir/test_assert.vim

Patch 8.1.0820
Problem:    Test for sending large data over channel sometimes fails.
Solution:   Handle that the job may have finished early.  Also fix that file
            changed test doesn't work in the GUI and reduce flakiness. (Ozaki
            Kiichi, closes #3861)
Files:	    src/testdir/test_channel.vim, src/testdir/test_filechanged.vim

Patch 8.1.0821
Problem:    Xxd "usage" output and other arguments not tested.
Solution:   Add a test to trigger the usage output in various ways.  Fix
            uncovered problem.
Files:	    src/testdir/test_xxd.vim, src/xxd/xxd.c

Patch 8.1.0822
Problem:    Peeking and flushing output slows down execution.
Solution:   Do not update the mode message when global_busy is set.  Do not
            flush when only peeking for a character. (Ken Takata)
Files:	    src/getchar.c, src/screen.c, src/proto/screen.pro, src/edit.c

Patch 8.1.0823
Problem:    Not sufficient testing of xxd.
Solution:   Add some more test coverage.
Files:	    src/testdir/test_xxd.vim

Patch 8.1.0824
Problem:    SunOS/Solaris has a problem with ttys.
Solution:   Add mch_isatty() with extra handling for SunOS. (Ozaki Kiichi,
            closes #3865)
Files:	    src/auto/configure, src/channel.c, src/config.h.in,
            src/configure.ac, src/os_unix.c, src/proto/pty.pro, src/pty.c,
            src/terminal.c

Patch 8.1.0825
Problem:    Code for autocommands is mixed with file I/O code.
Solution:   Move autocommand code to a separate file. (Yegappan Lakshmanan,
            closes #3863)
Files:	    Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,
            src/Make_vms.mms, src/Makefile, src/README.txt, src/autocmd.c,
            src/fileio.c, src/globals.h, src/proto.h, src/proto/autocmd.pro,
            src/proto/fileio.pro

Patch 8.1.0826
Problem:    Too many #ifdefs.
Solution:   Graduate FEAT_VIRTUALEDIT.  Adds about 10Kbyte to the code.
Files:	    src/buffer.c, src/charset.c, src/edit.c, src/eval.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/feature.h,
            src/globals.h, src/gui.c, src/if_py_both.h, src/macros.h,
            src/mark.c, src/mbyte.c, src/memline.c, src/menu.c, src/misc1.c,
            src/misc2.c, src/move.c, src/netbeans.c, src/normal.c, src/ops.c,
            src/option.c, src/option.h, src/screen.c, src/search.c,
            src/spell.c, src/structs.h, src/tag.c, src/ui.c, src/undo.c,
            src/userfunc.c, src/version.c, src/vim.h, src/window.c

Patch 8.1.0827 (after 8.1.0825)
Problem:    Missing dependency in Makefile.
Solution:   Add dependency from autocmd.o on auto/osdef.h
Files:	    src/Makefile

Patch 8.1.0828
Problem:    Still using FEAT_VIRTUALEDIT.
Solution:   Remove last use of FEAT_VIRTUALEDIT.
Files:	    src/quickfix.c

Patch 8.1.0829
Problem:    When 'hidden' is set session creates extra buffers.
Solution:   Move :badd commands to the end. (Jason Franklin)
Files:	    src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.1.0830
Problem:    Test leaves directory behind on MS-Windows.
Solution:   Close buffer before deleting directory.
Files:	    src/testdir/test_swap.vim

Patch 8.1.0831
Problem:    Xxd test fails if man page has dos fileformat.
Solution:   Make a copy with unix fileformat.
Files:	    src/testdir/test_xxd.vim

Patch 8.1.0832
Problem:    confirm() is not tested.
Solution:   Add a test. (Dominique Pelle, closes #3868)
Files:	    src/testdir/test_functions.vim

Patch 8.1.0833
Problem:    Memory leak when jumps output is filtered.
Solution:   Free the filtered name. (Dominique Pelle, closes #3869)
Files:	    src/mark.c

Patch 8.1.0834
Problem:    GUI may wait too long before dealing with messages.  Returning
            early may cause a mapping to time out.
Solution:   Use the waiting loop from Unix also for the GUI.
            (closes #3817, closes #3824)
Files:	    src/ui.c, src/proto/ui.pro, src/os_unix.c, src/gui.c,
            src/testdir/screendump.vim

Patch 8.1.0835
Problem:    GUI build fails on MS-Windows.
Solution:   Adjust #ifdef.
Files:	    src/ui.c

Patch 8.1.0836
Problem:    User completion test can fail on MS-Windows.
Solution:   Allow for other names before "Administrator".
Files:	    src/testdir/test_cmdline.vim

Patch 8.1.0837
Problem:    Timer interrupting cursorhold and mapping not tested.
Solution:   Add tests with timers. (Ozaki Kiichi, closes #3871)
Files:	    src/testdir/test_autocmd.vim, src/testdir/test_mapping.vim

Patch 8.1.0838
Problem:    Compiler warning for type conversion.
Solution:   Add a type cast. (Mike Williams)
Files:	    src/channel.c

Patch 8.1.0839
Problem:    When using VTP wrong colors after a color scheme change.
Solution:   When VTP is active always clear after a color scheme change.
            (Nobuhiro Takasaki, closes #3872)
Files:	    src/ex_docmd.c

Patch 8.1.0840
Problem:    getchar(0) never returns a character in the terminal.
Solution:   Call wait_func() at least once.
Files:	    src/ui.c, src/testdir/test_timers.vim, src/gui_gtk_x11.c,
            src/gui_w32.c, src/gui_photon.c, src/gui_x11.c

Patch 8.1.0841
Problem:    Travis config to get Lua on macOS is too complicated.
Solution:   Use an addons entry. (Ozaki Kiichi, closes #3876)
Files:	    .travis.yml

Patch 8.1.0842
Problem:    getchar_zero test fails on MS-Windows.
Solution:   Disable the test for now.
Files:	    src/testdir/test_timers.vim

Patch 8.1.0843
Problem:    Memory leak when running "make test_cd".
Solution:   Free the stack element when failing. (Dominique Pelle,
            closes #3877)
Files:	    src/misc2.c

Patch 8.1.0844
Problem:    When timer fails test will hang forever.
Solution:   Use reltime() to limit waiting time. (Ozaki Kiichi, closes #3878)
Files:	    src/testdir/test_timers.vim

Patch 8.1.0845
Problem:    Having job_status() free the job causes problems.
Solution:   Do not actually free the job or terminal yet, put it in a list and
            free it a bit later. Do not use a terminal after checking the job
            status.  (closes #3873)
Files:	    src/channel.c, src/terminal.c, src/proto/terminal.pro, src/misc2.c

Patch 8.1.0846
Problem:    Not easy to recognize the system Vim runs on.
Solution:   Add more items to the features list. (Ozaki Kiichi, closes #3855)
Files:	    runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_channel.vim, src/testdir/test_functions.vim,
            src/testdir/test_terminal.vim, src/testdir/test_writefile.vim

Patch 8.1.0847
Problem:    May use terminal after it was cleaned up.
Solution:   Use the job pointer.
Files:	    src/terminal.c

Patch 8.1.0848
Problem:    Cannot build with Ruby 1.8. (Tom G. Christensen)
Solution:   Use rb-str_new2(). (Yasuhiro Matsumoto, closes #3883,
            closes #3884)
Files:	    src/if_ruby.c

Patch 8.1.0849
Problem:    Cursorline highlight is not always updated.
Solution:   Set w_last_cursorline when redrawing.  Fix resetting cursor flags
            when using the popup menu.
Files:	    src/screen.c, src/popupmnu.c, src/testdir/test_highlight.vim,
            src/testdir/dumps/Test_cursorline_yank_01.dump

Patch 8.1.0850
Problem:    Test for 'backupskip' is not correct.
Solution:   Split the option in parts and use expand(). (Michael Soyka)
Files:	    src/testdir/test_options.vim

Patch 8.1.0851
Problem:    feedkeys() with "L" does not work properly.
Solution:   Do not set typebuf_was_filled when using "L". (Ozaki Kiichi,
            closes #3885)
Files:	    src/evalfunc.c, src/testdir/test_autocmd.vim,
            src/testdir/test_mapping.vim, src/testdir/test_timers.vim

Patch 8.1.0852
Problem:    findfile() and finddir() are not properly tested.
Solution:   Extend the test and add more. (Dominique Pelle, closes #3880)
Files:	    src/testdir/test_findfile.vim

Patch 8.1.0853 (after 8.1.0850)
Problem:    Options test fails on Mac.
Solution:   Remove a trailing slash from $TMPDIR.
Files:	    src/testdir/test_options.vim

Patch 8.1.0854
Problem:    xxd does not work with more than 32 bit addresses.
Solution:   Add support for 64 bit addresses. (Christer Jensen, closes #3791)
Files:	    src/xxd/xxd.c

Patch 8.1.0855
Problem:    Cannot build xxd with MSVC 10.
Solution:   Move declaration to start of block.
Files:	    src/xxd/xxd.c

Patch 8.1.0856
Problem:    When scrolling a window other than the current one the cursorline
            highlighting is not always updated. (Jason Franklin)
Solution:   Call redraw_for_cursorline() after scrolling.  Only set
            w_last_cursorline when drawing the cursor line.  Reset the lines
            to be redrawn also when redrawing the whole window.
Files:	    src/move.c, src/proto/move.pro, src/normal.c

Patch 8.1.0857
Problem:    Indent functionality is not separated.
Solution:   Move indent functionality into a new file. (Yegappan Lakshmanan,
            closes #3886)
Files:	    Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,
            src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,
            src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,
            src/Make_vms.mms, src/Makefile, src/edit.c, src/indent.c,
            src/misc1.c, src/proto.h, src/proto/edit.pro,
            src/proto/indent.pro, src/proto/misc1.pro

Patch 8.1.0858
Problem:    'indentkeys' and 'cinkeys' defaults are different.
Solution:   Make them the same, update docs. (close #3882)
Files:	    src/option.c, runtime/doc/options.txt, runtime/doc/indent.txt

Patch 8.1.0859
Problem:    "%v" in 'errorformat' does not handle multibyte characters.
Solution:   Handle multibyte characters. (Yegappan Lakshmanan, closes #3700)
Files:	    src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.1.0860
Problem:    Debug lines left in the code.
Solution:   Delete the lines.
Files:	    src/edit.c

Patch 8.1.0861
Problem:    Building with MinGW and static libc doesn't work.
Solution:   Change the LIB argument. (Ken Takata)
Files:	    src/Make_cyg_ming.mak

Patch 8.1.0862
Problem:    No verbose version of character classes.
Solution:   Add [:ident:], [:keyword:] and [:fname:]. (Ozaki Kiichi,
            closes #1373)
Files:	    runtime/doc/pattern.txt, src/regexp.c, src/regexp_nfa.c,
            src/testdir/test_regexp_utf8.vim

Patch 8.1.0863
Problem:    Cannot see what signal caused a job to end.
Solution:   Add "termsig" to job_info(). (Ozaki Kiichi, closes #3786)
Files:	    runtime/doc/eval.txt, src/channel.c, src/os_unix.c, src/structs.h,
            src/testdir/test_channel.vim

Patch 8.1.0864
Problem:    Cannot have a local value for 'scrolloff' and 'sidescrolloff'.
            (Gary Holloway)
Solution:   Make 'scrolloff' and 'sidescrolloff' global-local. (mostly by
            Aron Widforss, closes #3539)
Files:	    runtime/doc/options.txt, src/edit.c, src/ex_cmds.c,
            src/ex_docmd.c, src/gui.c, src/misc2.c, src/move.c, src/normal.c,
            src/option.c, src/proto/option.pro, src/option.h, src/search.c,
            src/structs.h, src/window.c, src/testdir/test_options.vim

Patch 8.1.0865
Problem:    When 'listchars' only contains "nbsp:X" it does not work.
Solution:   Set extra_check when lcs_nbsp is set. (Ralf Schandl, closes #3889)
Files:	    src/screen.c, src/testdir/test_listchars.vim

Patch 8.1.0866
Problem:    Build file dependencies are outdated. (John Little)
Solution:   Run "make proto" and "make depend".
Files:	    src/vim.h, src/Makefile, src/proto/sign.pro, src/proto/gui_w32.pro

Patch 8.1.0867
Problem:    Cannot build Python interface with Python 2.4. (Tom G. Christensen)
Solution:   Define PyBytes_FromStringAndSize. (Ken Takata, closes #3888)
Files:	    src/if_python.c

Patch 8.1.0868
Problem:    Crash if triggering garbage collector after a function call.
            (Michael Henry)
Solution:   Don't call the garbage collector right away, do it later.
            (closes #3894)
Files:	    src/userfunc.c

Patch 8.1.0869
Problem:    Travis CI script is too complicated.
Solution:   Add names to environments.  Move appveyor script outside of src
            directory. (Ozaki Kiichi, closes #3890)
Files:	    .travis.yml, appveyor.yml, ci/appveyor.bat, src/appveyor.bat,
            Filelist

Patch 8.1.0870
Problem:    Vim doesn't use the new ConPTY support in Windows 10.
Solution:   Use ConPTY support, if available. (Nobuhiro Takasaki, closes #3794)
Files:	    runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/terminal.txt, src/channel.c, src/evalfunc.c,
            src/globals.h, src/option.c, src/option.h, src/os_win32.c,
            src/proto/terminal.pro, src/structs.h, src/terminal.c,
            src/testdir/gen_opt_test.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_mksession.vim, src/testdir/test_terminal.vim

Patch 8.1.0871
Problem:    Build error when building with Ruby 2.6.0.
Solution:   Change argument of rb_int2big_stub(). (Android Baumann,
            closes #3899)
Files:	    src/if_ruby.c

Patch 8.1.0872
Problem:    Confusing condition.
Solution:   Use "==" instead of "<=".
Files:	    src/gui_gtk_x11.c

Patch 8.1.0873
Problem:    List if distributed files does not include the matchit autoload
            directory.
Solution:   Add the directory.
Files:	    src/Filelist

Patch 8.1.0874
Problem:    Using old style comments in new file.
Solution:   Convert to // comments in new file. (Yegappan Lakshmanan)
Files:	    src/indent.c

Patch 8.1.0875
Problem:    Not all errors of marks and findfile()/finddir() are tested.
Solution:   Add more test coverage. (Dominique Pelle)
Files:	    src/testdir/test_findfile.vim, src/testdir/test_marks.vim

Patch 8.1.0876
Problem:    Completion match not displayed when popup menu is not shown.
Solution:   Call update_screen() when not displaying the popup menu to show
            the inserted match. (Ken Takata, Hirohito Higashi)
Files:	    src/edit.c

Patch 8.1.0877
Problem:    New buffer used every time the quickfix window is opened.
Solution:   Reuse the buffer. (Yegappan Lakshmanan, closes #3902)
Files:	    src/buffer.c, src/proto/quickfix.pro, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.1.0878
Problem:    Test for has('bsd') fails on some BSD systems.
Solution:   Adjust the uname match. (James McCoy, closes #3909)
Files:	    src/testdir/test_functions.vim

Patch 8.1.0879
Problem:    MS-Windows: temp name encoding can be wrong.
Solution:   Convert from active code page to 'encoding'. (Yasuhiro Matsumoto,
            closes #3520, closes #1698)
Files:	    src/fileio.c

Patch 8.1.0880
Problem:    MS-Windows: inconsistent selection of winpty/conpty.
